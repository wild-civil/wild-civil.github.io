<!DOCTYPE html><html lang="[&quot;en&quot;,&quot;zh-CN&quot;,&quot;default&quot;]" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>学物联网之ESP8266NodeMCU（二） | civil's world</title><meta name="keywords" content="互联网知识基础"><meta name="author" content="wild-civil"><meta name="copyright" content="wild-civil"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="互联网知识基础">
<meta property="og:type" content="article">
<meta property="og:title" content="学物联网之ESP8266NodeMCU（二）">
<meta property="og:url" content="https://wild-civil.github.io/post/4e66da29.html">
<meta property="og:site_name" content="civil&#39;s world">
<meta property="og:description" content="互联网知识基础">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://qiniu.hanvon.top/blog_cover/taichi-maker-internet-icon_cover.png">
<meta property="article:published_time" content="2022-08-31T03:28:49.000Z">
<meta property="article:modified_time" content="2023-11-01T03:38:41.702Z">
<meta property="article:author" content="wild-civil">
<meta property="article:tag" content="esp8266">
<meta property="article:tag" content="物联网">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://qiniu.hanvon.top/blog_cover/taichi-maker-internet-icon_cover.png"><link rel="shortcut icon" href="/images/dragon_and_knight.jpg"><link rel="canonical" href="https://wild-civil.github.io/post/4e66da29"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":800,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":50,"languages":{"author":"Author: wild-civil","link":"Link: ","source":"Source: civil's world","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '学物联网之ESP8266NodeMCU（二）',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-11-01 11:38:41'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/transpancy.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.css" /><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/dragon_and_knight.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('http://qiniu.hanvon.top/blog_cover/taichi-maker-internet-icon_cover.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">civil's world</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">学物联网之ESP8266NodeMCU（二）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-08-31T03:28:49.000Z" title="Created 2022-08-31 11:28:49">2022-08-31</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-11-01T03:38:41.702Z" title="Updated 2023-11-01 11:38:41">2023-11-01</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">2.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>8min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="学物联网之ESP8266NodeMCU（二）"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="TCP-x2F-IP协议簇（TCP-x2F-IP-Stack）"><a href="#TCP-x2F-IP协议簇（TCP-x2F-IP-Stack）" class="headerlink" title="TCP&#x2F;IP协议簇（TCP&#x2F;IP Stack）"></a><a target="_blank" rel="noopener" href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/internet-basics/tcp-ip-stack/">TCP&#x2F;IP协议簇（TCP&#x2F;IP Stack）</a></h1><p>在网络系统中，为了保证通信设备之间能正确地进行通信，必须使用一种双方都能够理解的语言，这种语言被称为“协议”。</p>
<p>TCP&#x2F;IP协议簇是Internet的基础，也是当今最流行的组网形式。TCP&#x2F;IP是一组协议的代名词。</p>
<p>TCP&#x2F;IP协议被划分为4层，分别是：</p>
<table>
<thead>
<tr>
<th>分层名称</th>
<th>包含协议</th>
</tr>
</thead>
<tbody><tr>
<td>应用层</td>
<td>HTTP, FTP, mDNS, WebSocket, OSC …</td>
</tr>
<tr>
<td>传输层</td>
<td>TCP, UDP</td>
</tr>
<tr>
<td>网络层</td>
<td>IP</td>
</tr>
<tr>
<td>链路层（也称网络接口层）</td>
<td>Ethernet, Wi-Fi …</td>
</tr>
</tbody></table>
<h1 id="链路层（Link-Layer）"><a href="#链路层（Link-Layer）" class="headerlink" title="链路层（Link Layer）"></a><a target="_blank" rel="noopener" href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/internet-basics/link-layer/">链路层（Link Layer）</a></h1><p>链路层的主要作用是实现设备之间的物理链接。举例来说，我们日常使用的WiFi就是链路层的一种。</p>
<h2 id="ESP8266利用WiFi联网时有三种工作模式。"><a href="#ESP8266利用WiFi联网时有三种工作模式。" class="headerlink" title="ESP8266利用WiFi联网时有三种工作模式。"></a>ESP8266利用WiFi联网时有三种工作模式。</h2><p><strong>模式1 – 无线终端模式（Wireless Station）</strong></p>
<p>如下图所示，ESP8266可通过WiFi连接无线路由器。这与用您的手机通过WiFi连接无线路由器的模式相同。</p>
<p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/NodeMCU-Station.png" alt="ESP8266-NodeMCU无线终端(Wireless Station)工作模式"></p>
<p><strong>模式2 – 接入点模式（Access Point, 也称 AP）</strong></p>
<p>ESP8266也可以建立WiFi网络供其它设备连接。当ESP8266以此模式运行时，我们可以使用手机搜索ESP8266所发出的WiFi网络并进行连接。</p>
<p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/NodeMCU-Access-Point.png" alt="ESP8266-NodeMCU接入点(Access Point)工作模式"></p>
<p><strong>模式3 – 混合模式（Wireless Station + AP）</strong></p>
<p>混合模式即以上两种模式的混合。</p>
<h1 id="网络层（Internet-Layer）"><a href="#网络层（Internet-Layer）" class="headerlink" title="网络层（Internet Layer）"></a><a target="_blank" rel="noopener" href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/internet-basics/internet-layer/">网络层（Internet Layer）</a></h1><h5 id="网络层与IP协议"><a href="#网络层与IP协议" class="headerlink" title="网络层与IP协议"></a>网络层与IP协议</h5><p>尽管设备可以通过链路层联网，但是光有链路层还无法实现设备之间的数据通讯。因为网络设备没有明确的标识。网络设备无从知晓要向谁传输数据，也无法确定从何处获取数据。</p>
<p>网络层主要作用是通过IP协议为联网设备提供IP地址。</p>
<p>有了IP地址还不够，因为要确保网络中所有设备IP地址不重复，还需要DHCP (Dynamic Host Configuration Protocol) 服务器来实现这一功能。</p>
<p>当网络中所有设备都有了独立的IP地址后，设备之间就可以收发数据了。</p>
<h1 id="传输层（Transportation-Layer）"><a href="#传输层（Transportation-Layer）" class="headerlink" title="传输层（Transportation Layer）"></a><a target="_blank" rel="noopener" href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/internet-basics/transportation-layer/">传输层（Transportation Layer）</a></h1><p>网络设备通讯时，数据丢失和数据受损的情况经常出现。传输层的<br>TCP（Transmission Control Protocol）和UDP（User Datagram Protocol）协议可以用来解决这一问题。通常我们会选择这两种协议中的一种来保证数据传输的准确性。具体选择哪一种协议要看我们使用的是何种网络应用。因为不同的网络应用对于数据的传输要求是不同的。</p>
<p>TCP协议可以更好的保证数据传输的准确性，但是传输速度比UDP协议而言要慢一些。TCP协议的特点是可以保证所有数据都能被接收端接收，数据的传输顺序也不会被打乱，而且如有数据损坏则重发受损数据。基于以上功能特点，TCP通常用于电子邮件及文件上传等。</p>
<p>UDP协议并不能保证所有数据都被接收端所接受。一旦出现数据受损的情况，UDP协议将会抛弃受损的数据。这些数据一旦被抛弃将会永久性的消失，发送端不会因为数据受损而重新发送。因此UDP协议远不如TCP协议可靠。</p>
<p>但是既然是这样，为何还有人会选择UDP协议呢？这是因为UDP比TCP速度快。因此UDP协议通常用于网络游戏以及语音聊天或视频聊天应用。</p>
<h1 id="应用层（Application-Layer）"><a href="#应用层（Application-Layer）" class="headerlink" title="应用层（Application Layer）"></a><a target="_blank" rel="noopener" href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/internet-basics/application-layer/">应用层（Application Layer）</a></h1><p>传输层可以实现设备间的数据传输。但发送端和接收端还需要一种协议来理解这些传输信息的含义。这就引出了即将给您介绍的应用层。</p>
<h4 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a><strong>HTTP协议</strong></h4><p>应用层中有很多种协议，最常见是HTTP协议。它常被用来传输网页数据。我们这篇教程也将着重介绍HTTP协议。</p>
<p>HTTP协议由<strong>请求</strong>和<strong>响应</strong>构成。也就是说，HTTP的工作模式很像是一问一答。</p>
<h4 id="HTTP请求"><a href="#HTTP请求" class="headerlink" title="HTTP请求"></a><strong>HTTP请求</strong></h4><p>举例来说，当您在浏览器输入<a target="_blank" rel="noopener" href="http://www.taichi-maker.com这一网址并按下回车,这时候浏览器会把这一操作转换成一个http请求./">www.taichi-maker.com这一网址并按下回车，这时候浏览器会把这一操作转换成一个HTTP请求。</a></p>
<p>这个HTTP请求主要分为两大部分。一部分是请求头（Request Header）一部分是请求体（Request Body）。对于我们学习物联网知识来说，请求头是我们重点要关注的内容。而请求体的知识已经超越这篇教程的范围，抱歉我就不在这里详述了。</p>
<p>请看以下是简化后的请求头内容：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>www.taichi-maker.com</span><br></pre></td></tr></table></figure>

<p>在以上的HTTP请求中:</p>
<p>“GET” 是一个<strong>读取</strong>请求。也就是请求网站服务器把网页数据发送过来。</p>
<p>“&#x2F;” 的作用就是要告诉网站服务器，我这个读取请求的内容是网站根目录下的内容。换句话说，就是请求服务器把网站首页的网页数据发过来。</p>
<p>“HTTP&#x2F;1.1” 是指请求所采用的HTTP协议版本是1.1。</p>
<p>“Host: <a target="_blank" rel="noopener" href="http://www.taichi-maker.com”表示请求的域名是/">www.taichi-maker.com”表示请求的域名是</a> <a target="_blank" rel="noopener" href="http://www.taichi-maker.com/">www.taichi-maker.com</a> 也就是太极创客网站的域名。</p>
<p>以上是HTTP协议的 GET 请求中最关键的内容。在 HTTP 协议中，GET只是诸多请求方法中的一种。以下是HTTP协议中的其它请求方法：</p>
<p><strong>HTTP1.0定义了三种请求方法： GET, POST 和 HEAD方法。</strong><br><strong>HTTP1.1新增了五种请求方法：OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法。</strong></p>
<p>关于请求方法，我们这里主要介绍的只有GET。其它的请求方法已经超越了我们这个教程的范围，就不在这里继续深入讲下去了。感兴趣的话，您可以通过互联网找到这方面的教程资源。</p>
<h4 id="HTTP响应"><a href="#HTTP响应" class="headerlink" title="HTTP响应"></a><strong>HTTP响应</strong></h4><p>接下来我们再看一看浏览器发送以上HTTP请求后，接收到的服务器HTTP响应。HTTP响应内容也是分为两个部分，一部分是响应头（Response Header）一部分是响应体（Response Body）。其中响应体部分是可选项，也就是说有些HTTP响应只有响应头，而响应体是空的。</p>
<p>我们先来给大家介绍响应头部分。</p>
<p>由于响应头信息量比较大，我们还是选出主要内容给大家讲解。如下所示：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span> OK</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/html; charset=UTF-8</span><br></pre></td></tr></table></figure>

<p>“HTTP&#x2F;1.1”这个信息我们刚刚在HTTP请求部分中介绍过。它的含义就是此HTTP响应所采用的协议版本是1.1。</p>
<p>“200”这个代码可能有些朋友会感觉陌生。但是如果我说起“404”这个数字可能大家会感到更熟悉吧？无论是200也好还是404也好，这些都是HTTP响应状态码。它的作用是以代码的形式表达服务器在接到请求后的状态。“200”代表服务器成功找到了请求的网页资源（这一点大家在后面的OK中也已经体现出来了）。 “404”代表服务器无法找到请求的网页资源。：</p>
<p>以下是常见的服务器状态码：</p>
<p>100~199：成功接收请求，要求客户端继续提交下一次请求才能完成整个处理过程。</p>
<p>200~299：成功接收请求并已完成整个处理过程。常用200</p>
<p>300~399：完成请求，客户需进一步细化请求。</p>
<p>400~499：客户端的请求有错误，常用404和403(403的含义是权限不够，服务器拒绝访问。)</p>
<p>500~599：服务器端出现错误，常用500</p>
<p><strong>“Content-Type”</strong> 指示响应体的内容是什么类型。这里的响应体内容类型是<strong>“text&#x2F;htm”</strong>，即网页HTML代码。通过这一行响应头信息，我们的浏览器将会知道，在这一个响应中的响应体部分都是HTML网页代码。于是浏览器将会做好准备，将网页代码翻译成我们人类容易读懂的格式并且呈现在浏览器中。<strong>charset&#x3D;UTF-8</strong>是字符集。</p>
<p>我们再举一个例子，假设某一个响应头中“Content-Type” 类型是”image&#x2F;jpeg”。这就意味着该响应体中的信息是一个jpeg格式的图片，那么浏览器也就会按照jpeg的解码方式将图片呈现在我们的面前。</p>
<p>在以上示例中，我们使用互联网浏览器来讲解HTTP的请求和响应。当我们使用NodeMCU来开发物联网项目时，发出HTTP请求的就不再是浏览器而是NodeMCU开发板了。而读取这些响应请求的也将是NodeMCU开发板。那么，究竟如何让NodeMCU发出HTTP请求，而NodeMCU又是如何解读HTTP响应呢？这些都依赖于我们为NodeMCU开发的控制程序。这些内容会在后续的教程里给大家详细介绍。</p>
<h4 id="DNS（Domain-Name-System-x2F-域名系统）"><a href="#DNS（Domain-Name-System-x2F-域名系统）" class="headerlink" title="DNS（Domain Name System&#x2F;域名系统）"></a><strong>DNS（Domain Name System&#x2F;域名系统）</strong></h4><p>在之前的教程中，我曾经给大家讲过网络中的所有设备都具有独立的IP地址。这一点对于网站服务器来说也不例外。当我们使用浏览器访问某一个网站时，实际上我们是通过浏览器向网站服务器发送HTTP请求。然而网站服务器的IP地址很难记忆，比如太极创客网站的域名由两个单词组成，taichi是太极，maker是创客。这很好记，但是要想记住太极创客服务器的IP就没那么容易了。因为那是4个毫无规律的数字。</p>
<p>为了解决IP地址不好记这一问题，DNS被派上了用场。</p>
<p>我们可以把DNS看作是一个巨型电话本。电话本中的联系人一栏就是网站的域名，而电话本中的电话号码一栏则是这些网站的IP地址。有了DNS我们就可以使用简单易记的域名来访问网站了。</p>
<p>还是用太极创客网站来举例吧，每当我们在浏览器中输入域名<a href="www.taichi-maker.com">www.taichi-maker.com</a>并按下回车后，这时浏览器首先会向DNS服务器发送请求，请求的内容大致如下：“亲爱的DNS服务器，我那个明明可以靠脸吃饭却偏偏要学物联网的主人想访问一个域名是<a href="www.taichi-maker.com">www.taichi-maker.com</a>的网站。麻烦您把这个域名的网站服务器IP地址告诉我好吗？” DNS服务器在接收到这一请求后，会做出以下应答：“亲爱的浏览器，您要的网站服务器ip地址是 12 . 34 . 56 . 78。” 浏览器在接收到这一IP地址后，就开始向这个IP地址所对应的网站服务器正式发出HTTP GET请求了。</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/esp8266/">esp8266</a><a class="post-meta__tags" href="/tags/%E7%89%A9%E8%81%94%E7%BD%91/">物联网</a></div><div class="post_share"><div class="social-share" data-image="http://qiniu.hanvon.top/blog_cover/taichi-maker-internet-icon_cover.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> Donate</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="http://qiniu.hanvon.top/blog_background/donate/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="http://qiniu.hanvon.top/blog_background/donate/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="http://qiniu.hanvon.top/blog_background/donate/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="http://qiniu.hanvon.top/blog_background/donate/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/336e95a3.html"><img class="prev-cover" src="http://qiniu.hanvon.top/blog_cover/iot_develop-basics_cover.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">学物联网之ESP8266NodeMCU（三）</div></div></a></div><div class="next-post pull-right"><a href="/post/a01e6d85.html"><img class="next-cover" src="http://qiniu.hanvon.top/blog_cover/imagesnodemcu_pinLocation_cover.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">学物联网之ESP8266NodeMCU（一）</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/post/a01e6d85.html" title="学物联网之ESP8266NodeMCU（一）"><img class="cover" src="http://qiniu.hanvon.top/blog_cover/imagesnodemcu_pinLocation_cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-31</div><div class="title">学物联网之ESP8266NodeMCU（一）</div></div></a></div><div><a href="/post/336e95a3.html" title="学物联网之ESP8266NodeMCU（三）"><img class="cover" src="http://qiniu.hanvon.top/blog_cover/iot_develop-basics_cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-31</div><div class="title">学物联网之ESP8266NodeMCU（三）</div></div></a></div><div><a href="/post/e2f4da2.html" title="学物联网之ESP8266NodeMCU（五）"><img class="cover" src="http://qiniu.hanvon.top/blog_cover/esp8266-nodemcu-flash-file-system_cover.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-02</div><div class="title">学物联网之ESP8266NodeMCU（五）</div></div></a></div><div><a href="/post/84438cc6.html" title="学物联网之ESP8266NodeMCU（四）"><img class="cover" src="http://qiniu.hanvon.top/blog_cover/esp8266-nodemcu-web-server_covrer.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-31</div><div class="title">学物联网之ESP8266NodeMCU（四）</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/dragon_and_knight.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">wild-civil</div><div class="author-info__description">可以平凡但不能平庸</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/wild-civil"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/wild-civil" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:f473112889@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://fontawesome.com/icons" target="_blank" title="Icon Font"><i class="fa-solid fa-cubes"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">你爱我 我爱你 蜜雪冰城甜蜜蜜</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#TCP-x2F-IP%E5%8D%8F%E8%AE%AE%E7%B0%87%EF%BC%88TCP-x2F-IP-Stack%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">TCP&#x2F;IP协议簇（TCP&#x2F;IP Stack）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E5%B1%82%EF%BC%88Link-Layer%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">链路层（Link Layer）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ESP8266%E5%88%A9%E7%94%A8WiFi%E8%81%94%E7%BD%91%E6%97%B6%E6%9C%89%E4%B8%89%E7%A7%8D%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F%E3%80%82"><span class="toc-number">2.1.</span> <span class="toc-text">ESP8266利用WiFi联网时有三种工作模式。</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%88Internet-Layer%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">网络层（Internet Layer）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E4%B8%8EIP%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.0.0.0.1.</span> <span class="toc-text">网络层与IP协议</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82%EF%BC%88Transportation-Layer%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">传输层（Transportation Layer）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82%EF%BC%88Application-Layer%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">应用层（Application Layer）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.0.0.1.</span> <span class="toc-text">HTTP协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E8%AF%B7%E6%B1%82"><span class="toc-number">5.0.0.2.</span> <span class="toc-text">HTTP请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E5%93%8D%E5%BA%94"><span class="toc-number">5.0.0.3.</span> <span class="toc-text">HTTP响应</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DNS%EF%BC%88Domain-Name-System-x2F-%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F%EF%BC%89"><span class="toc-number">5.0.0.4.</span> <span class="toc-text">DNS（Domain Name System&#x2F;域名系统）</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/f73586b.html" title="磨刀不误砍柴工"><img src="http://qiniu.hanvon.top/blog_backgounnd/praire.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="磨刀不误砍柴工"/></a><div class="content"><a class="title" href="/post/f73586b.html" title="磨刀不误砍柴工">磨刀不误砍柴工</a><time datetime="2023-10-29T14:52:49.000Z" title="Created 2023-10-29 22:52:49">2023-10-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/f73596b.html" title="Matlab"><img src="http://qiniu.hanvon.top/blog_cover/matlab_cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Matlab"/></a><div class="content"><a class="title" href="/post/f73596b.html" title="Matlab">Matlab</a><time datetime="2023-03-29T02:52:49.000Z" title="Created 2023-03-29 10:52:49">2023-03-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/ff99adbe.html" title="Git实战"><img src="http://qiniu.hanvon.top/blog_cover/git_cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Git实战"/></a><div class="content"><a class="title" href="/post/ff99adbe.html" title="Git实战">Git实战</a><time datetime="2022-10-03T13:42:35.000Z" title="Created 2022-10-03 21:42:35">2022-10-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/11f9a402.html" title="粗学IIC"><img src="http://qiniu.hanvon.top/blog_cover/shixutu_cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="粗学IIC"/></a><div class="content"><a class="title" href="/post/11f9a402.html" title="粗学IIC">粗学IIC</a><time datetime="2022-09-12T09:34:47.000Z" title="Created 2022-09-12 17:34:47">2022-09-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/e2f4da2.html" title="学物联网之ESP8266NodeMCU（五）"><img src="http://qiniu.hanvon.top/blog_cover/esp8266-nodemcu-flash-file-system_cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="学物联网之ESP8266NodeMCU（五）"/></a><div class="content"><a class="title" href="/post/e2f4da2.html" title="学物联网之ESP8266NodeMCU（五）">学物联网之ESP8266NodeMCU（五）</a><time datetime="2022-09-02T07:23:18.000Z" title="Created 2022-09-02 15:23:18">2022-09-02</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('http://qiniu.hanvon.top/blog_cover/taichi-maker-internet-icon_cover.png')"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2023 By wild-civil</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Nice to meet you 🥰</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script src="/js/cheat.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="120" alpha="0.3" zIndex="-1" mobile="false" data-click="true"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="我爱中国,富强,民主,文明,和谐,自由,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_anzhiyu_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock_anzhiyu')
    if(parent_div_git) {
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var qweather_key = 'a7924b02bb4a4407943bdd65d612cced';
  var gaud_map_key = '727e2b3676d6a9f8e90fd4abd7ae96e9';
  var baidu_ak_key = 'undefined';
  var flag = 0;
  var clock_rectangle = '112.982279,28.19409';
  var clock_default_rectangle_enable = 'false';

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_anzhiyu_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_anzhiyu_injector_config();
  }
  </script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script data-pjax src="https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu/lib/clock.min.js"></script><!-- hexo injector body_end end --></body></html>