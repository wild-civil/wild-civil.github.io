<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥</title>
      <link href="/post/f73586b.html"/>
      <url>/post/f73586b.html</url>
      
        <content type="html"><![CDATA[<p>2023-10-29 æ—©ä¸Šä¸Šç­ ç£¨äº†ç£¨åˆ€ï¼š</p><h1 id="wordæ‰¹é‡è½¬pdf"><a href="#wordæ‰¹é‡è½¬pdf" class="headerlink" title="wordæ‰¹é‡è½¬pdf"></a>wordæ‰¹é‡è½¬pdf</h1><h2 id="æ³•ä¸€ï¼š"><a href="#æ³•ä¸€ï¼š" class="headerlink" title="æ³•ä¸€ï¼š"></a>æ³•ä¸€ï¼š</h2><h4 id="1-åœ¨æ¡Œé¢éšæ„æ–°å»ºä¸€ä¸ªdocæ–‡æ¡£ï¼Œç„¶åæ‰“å¼€ååŒæ—¶æŒ‰altå’ŒF11ï¼ŒåŒå‡»ä¸‹å›¾æ–¹æ¡†ã€‚"><a href="#1-åœ¨æ¡Œé¢éšæ„æ–°å»ºä¸€ä¸ªdocæ–‡æ¡£ï¼Œç„¶åæ‰“å¼€ååŒæ—¶æŒ‰altå’ŒF11ï¼ŒåŒå‡»ä¸‹å›¾æ–¹æ¡†ã€‚" class="headerlink" title="1.åœ¨æ¡Œé¢éšæ„æ–°å»ºä¸€ä¸ªdocæ–‡æ¡£ï¼Œç„¶åæ‰“å¼€ååŒæ—¶æŒ‰altå’ŒF11ï¼ŒåŒå‡»ä¸‹å›¾æ–¹æ¡†ã€‚"></a>1.åœ¨æ¡Œé¢éšæ„æ–°å»ºä¸€ä¸ªdocæ–‡æ¡£ï¼Œç„¶åæ‰“å¼€ååŒæ—¶æŒ‰altå’ŒF11ï¼ŒåŒå‡»ä¸‹å›¾æ–¹æ¡†ã€‚</h4><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/%E7%A3%A8%E5%88%80%E4%B8%8D%E8%AF%AF%E7%A0%8D%E6%9F%B4%E5%B7%A5/202310301033846.png" alt="Double ThisDocument"></p><h4 id="2-å°†ä»£ç å¤åˆ¶"><a href="#2-å°†ä»£ç å¤åˆ¶" class="headerlink" title="2.å°†ä»£ç å¤åˆ¶"></a>2.å°†ä»£ç å¤åˆ¶</h4><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/%E7%A3%A8%E5%88%80%E4%B8%8D%E8%AF%AF%E7%A0%8D%E6%9F%B4%E5%B7%A5/202310301033052.png" alt="copy&amp;paste"></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">Sub BatchConvertToPDF()</span><br><span class="line">    Dim destFolderPath As String</span><br><span class="line">    destFolderPath = GetFolderPath</span><br><span class="line">    If destFolderPath &lt;&gt; Empty Then</span><br><span class="line">        Dim path As Variant</span><br><span class="line">        For Each path In GetFilePaths()</span><br><span class="line">            Dim indexOfSlash, indexOfDot As Integer</span><br><span class="line">            indexOfSlash = InStrRev(path, &quot;\&quot;)</span><br><span class="line">            indexOfDot = InStrRev(path, &quot;.&quot;)</span><br><span class="line">             </span><br><span class="line">            Dim destFilePath As String</span><br><span class="line">            destFilePath = destFolderPath + Mid(path, indexOfSlash, indexOfDot - indexOfSlash) + &quot;.pdf&quot;</span><br><span class="line">             </span><br><span class="line">            ConvertToPDF path, destFilePath</span><br><span class="line">        Next path</span><br><span class="line">    End If</span><br><span class="line">End Sub</span><br><span class="line"> </span><br><span class="line">Function GetFilePaths()</span><br><span class="line">    Dim folderPath As String</span><br><span class="line">    With Application.FileDialog(msoFileDialogFilePicker)</span><br><span class="line">        .Filters.Add &quot;wordæ–‡ä»¶&quot;, &quot;*.doc; *.docx; *.docm&quot;</span><br><span class="line">        .Title = &quot;è¯·æ‹©è¦è½¬æ¢çš„wordæ–‡ä»¶&quot;</span><br><span class="line">        If .Show = -1 Then</span><br><span class="line">            Set GetFilePaths = .SelectedItems</span><br><span class="line">        End If</span><br><span class="line">    End With</span><br><span class="line">End Function</span><br><span class="line"> </span><br><span class="line">Function GetFolderPath()</span><br><span class="line">    Dim folderPath As String</span><br><span class="line">    With Application.FileDialog(msoFileDialogFolderPicker)</span><br><span class="line">        .AllowMultiSelect = False</span><br><span class="line">        .Title = &quot;è¯·é€‰æ‹©è¦å­˜æ”¾çš„ç›®å½•&quot;</span><br><span class="line">        If .Show = -1 Then</span><br><span class="line">            GetFolderPath = .SelectedItems(1)</span><br><span class="line">        End If</span><br><span class="line">    End With</span><br><span class="line">End Function</span><br><span class="line"> </span><br><span class="line">Sub ConvertToPDF(srcPath As Variant, destPath As String)</span><br><span class="line">    Documents.Open FileName:=srcPath, ConfirmConversions:=False, _</span><br><span class="line">        ReadOnly:=False, AddToRecentFiles:=False, PasswordDocument:=&quot;&quot;, _</span><br><span class="line">        PasswordTemplate:=&quot;&quot;, Revert:=False, WritePasswordDocument:=&quot;&quot;, _</span><br><span class="line">        WritePasswordTemplate:=&quot;&quot;, Format:=wdOpenFormatAuto, XMLTransform:=&quot;&quot;</span><br><span class="line">    ActiveDocument.ExportAsFixedFormat OutputFileName:= _</span><br><span class="line">        destPath, ExportFormat:= _</span><br><span class="line">        wdExportFormatPDF, OpenAfterExport:=False, OptimizeFor:= _</span><br><span class="line">        wdExportOptimizeForOnScreen, Range:=wdExportAllDocument, From:=1, To:=1, _</span><br><span class="line">        Item:=wdExportDocumentContent, IncludeDocProps:=True, KeepIRM:=True, _</span><br><span class="line">        CreateBookmarks:=wdExportCreateNoBookmarks, DocStructureTags:=True, _</span><br><span class="line">        BitmapMissingFonts:=True, UseISO19005_1:=False</span><br><span class="line">    ActiveDocument.Close</span><br><span class="line">End Sub</span><br></pre></td></tr></table></figure><h4 id="3-æŒ‰F5è¿è¡Œä»£ç ï¼Œé€‰æ‹©pdfè¦ä¿å­˜çš„ä½ç½®ï¼Œéœ€è¦è½¬æ¢çš„wordï¼ˆwordæ–‡ä»¶å¯å¤šé€‰ï¼‰ï¼Œç­‰å¾…è½¬æ¢æˆåŠŸã€‚"><a href="#3-æŒ‰F5è¿è¡Œä»£ç ï¼Œé€‰æ‹©pdfè¦ä¿å­˜çš„ä½ç½®ï¼Œéœ€è¦è½¬æ¢çš„wordï¼ˆwordæ–‡ä»¶å¯å¤šé€‰ï¼‰ï¼Œç­‰å¾…è½¬æ¢æˆåŠŸã€‚" class="headerlink" title="3.æŒ‰F5è¿è¡Œä»£ç ï¼Œé€‰æ‹©pdfè¦ä¿å­˜çš„ä½ç½®ï¼Œéœ€è¦è½¬æ¢çš„wordï¼ˆwordæ–‡ä»¶å¯å¤šé€‰ï¼‰ï¼Œç­‰å¾…è½¬æ¢æˆåŠŸã€‚"></a>3.æŒ‰F5è¿è¡Œä»£ç ï¼Œé€‰æ‹©pdfè¦ä¿å­˜çš„ä½ç½®ï¼Œéœ€è¦è½¬æ¢çš„wordï¼ˆwordæ–‡ä»¶å¯å¤šé€‰ï¼‰ï¼Œç­‰å¾…è½¬æ¢æˆåŠŸã€‚</h4><h2 id="æ³•äºŒï¼š"><a href="#æ³•äºŒï¼š" class="headerlink" title="æ³•äºŒï¼š"></a>æ³•äºŒï¼š</h2><p>ï¼ˆæœ‰ç¦æ˜•çš„å‰æä¸‹ï¼‰</p><h4 id="éå¸¸ç®€å•-ä¹Ÿå¾ˆå¥½ç”¨å•Š"><a href="#éå¸¸ç®€å•-ä¹Ÿå¾ˆå¥½ç”¨å•Š" class="headerlink" title="éå¸¸ç®€å• ä¹Ÿå¾ˆå¥½ç”¨å•Š"></a>éå¸¸ç®€å• ä¹Ÿå¾ˆå¥½ç”¨å•Š</h4><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/%E7%A3%A8%E5%88%80%E4%B8%8D%E8%AF%AF%E7%A0%8D%E6%9F%B4%E5%B7%A5/202310301033987.png" alt="fuxin"><br>ç¦æ˜•é«˜çº§PDFç¼–è¾‘å™¨ <a href="https://www.aliyundrive.com/s/Ye8gpyiSSiC">https://www.aliyundrive.com/s/Ye8gpyiSSiC</a> æå–ç : iz27 ç‚¹å‡»é“¾æ¥ä¿å­˜ï¼Œæˆ–è€…å¤åˆ¶æœ¬æ®µå†…å®¹ï¼Œæ‰“å¼€ã€Œé˜¿é‡Œäº‘ç›˜ã€APP ï¼Œæ— éœ€ä¸‹è½½æé€Ÿåœ¨çº¿æŸ¥çœ‹ï¼Œè§†é¢‘åŸç”»å€é€Ÿæ’­æ”¾ã€‚</p><h1 id="æ‰¹é‡å¤åˆ¶æ–‡ä»¶åç§°"><a href="#æ‰¹é‡å¤åˆ¶æ–‡ä»¶åç§°" class="headerlink" title="æ‰¹é‡å¤åˆ¶æ–‡ä»¶åç§°"></a>æ‰¹é‡å¤åˆ¶æ–‡ä»¶åç§°</h1><h4 id="éå¸¸ç®€å•ï¼šé€‰ä¸­è¦å¤åˆ¶çš„æ–‡ä»¶ï¼ŒæŒ‰ä½Shiftå†å³é”®ï¼Œå¤åˆ¶æ–‡ä»¶åœ°å€"><a href="#éå¸¸ç®€å•ï¼šé€‰ä¸­è¦å¤åˆ¶çš„æ–‡ä»¶ï¼ŒæŒ‰ä½Shiftå†å³é”®ï¼Œå¤åˆ¶æ–‡ä»¶åœ°å€" class="headerlink" title="éå¸¸ç®€å•ï¼šé€‰ä¸­è¦å¤åˆ¶çš„æ–‡ä»¶ï¼ŒæŒ‰ä½Shiftå†å³é”®ï¼Œå¤åˆ¶æ–‡ä»¶åœ°å€"></a>éå¸¸ç®€å•ï¼šé€‰ä¸­è¦å¤åˆ¶çš„æ–‡ä»¶ï¼ŒæŒ‰ä½Shiftå†å³é”®ï¼Œå¤åˆ¶æ–‡ä»¶åœ°å€</h4><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/%E7%A3%A8%E5%88%80%E4%B8%8D%E8%AF%AF%E7%A0%8D%E6%9F%B4%E5%B7%A5/202310301033572.png" alt="copy_adrres"></p><h4 id="å¯ä»¥å…ˆå¤åˆ¶åˆ°è®°äº‹æœ¬ï¼Œç„¶å-Ctrl-H-æ›¿æ¢å¤šä½™çš„éƒ¨åˆ†ä¸ºç©º"><a href="#å¯ä»¥å…ˆå¤åˆ¶åˆ°è®°äº‹æœ¬ï¼Œç„¶å-Ctrl-H-æ›¿æ¢å¤šä½™çš„éƒ¨åˆ†ä¸ºç©º" class="headerlink" title="å¯ä»¥å…ˆå¤åˆ¶åˆ°è®°äº‹æœ¬ï¼Œç„¶å Ctrl+H æ›¿æ¢å¤šä½™çš„éƒ¨åˆ†ä¸ºç©º"></a>å¯ä»¥å…ˆå¤åˆ¶åˆ°è®°äº‹æœ¬ï¼Œç„¶å Ctrl+H æ›¿æ¢å¤šä½™çš„éƒ¨åˆ†ä¸ºç©º</h4><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/%E7%A3%A8%E5%88%80%E4%B8%8D%E8%AF%AF%E7%A0%8D%E6%9F%B4%E5%B7%A5/202310301033924.png" alt="replace"></p><h1 id="æ–‡ä»¶æ‰¹é‡é‡å‘½å"><a href="#æ–‡ä»¶æ‰¹é‡é‡å‘½å" class="headerlink" title="æ–‡ä»¶æ‰¹é‡é‡å‘½å"></a>æ–‡ä»¶æ‰¹é‡é‡å‘½å</h1><h4 id="ä¸å¿…å¤šè¯´ï¼Œä¸Šé“¾æ¥"><a href="#ä¸å¿…å¤šè¯´ï¼Œä¸Šé“¾æ¥" class="headerlink" title="ä¸å¿…å¤šè¯´ï¼Œä¸Šé“¾æ¥"></a>ä¸å¿…å¤šè¯´ï¼Œä¸Šé“¾æ¥</h4><p>ReNamer Pro 7.3.exe <a href="https://www.aliyundrive.com/s/17KLzJbQMAm">https://www.aliyundrive.com/s/17KLzJbQMAm</a> ç‚¹å‡»é“¾æ¥ä¿å­˜ï¼Œæˆ–è€…å¤åˆ¶æœ¬æ®µå†…å®¹ï¼Œæ‰“å¼€ã€Œé˜¿é‡Œäº‘ç›˜ã€APP ï¼Œæ— éœ€ä¸‹è½½æé€Ÿåœ¨çº¿æŸ¥çœ‹ï¼Œè§†é¢‘åŸç”»å€é€Ÿæ’­æ”¾ã€‚</p><p>é˜¿é‡Œäº‘è¶…è¿‡200æ–‡ä»¶æ•°ç›®åˆ™æ— æ³•åˆ†äº«ï¼ˆæˆ‘æ²¡å¼€ä¼šå‘˜ï¼‰ï¼Œå› æ­¤å¤§å®¶æ‹¿åˆ°æ‰‹ååŒå‡»exeæ–‡ä»¶å¯ä»¥é€‰æ‹©å®‰è£…ä¾¿æºç‰ˆ<br><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/%E7%A3%A8%E5%88%80%E4%B8%8D%E8%AF%AF%E7%A0%8D%E6%9F%B4%E5%B7%A5/202310301033157.png" alt="portable_v"></p><p>ç„¶åé€‰ä¸­æ–‡å³å¯<br><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/%E7%A3%A8%E5%88%80%E4%B8%8D%E8%AF%AF%E7%A0%8D%E6%9F%B4%E5%B7%A5/202310301033412.png" alt="simple_chinese"></p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/%E7%A3%A8%E5%88%80%E4%B8%8D%E8%AF%AF%E7%A0%8D%E6%9F%B4%E5%B7%A5/202310301035291.png" alt="on_your_way"><br>éå¸¸ç®€å•ï¼Œéå¸¸æ–¹ä¾¿</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Matlab</title>
      <link href="/post/f73596b.html"/>
      <url>/post/f73596b.html</url>
      
        <content type="html"><![CDATA[<p>Matlab&#x2F;Simulinkå¿«æ·é”®<br>Simulinkå¿«æ·é”®<br>æ¨¡å‹è°ƒæ•´<br>Alt + Enterï¼šä¸ºé€‰å®šæ¨¡å—è®¾ç½®ä¸»è¦å‚æ•°<br>Ctrl + Shift + Iï¼šæ‰“å¼€æˆ–éšè— Property Inspector<br>Shift + æ‹–åŠ¨å¥æŸ„ï¼šè°ƒæ•´æ¨¡å—å¤§å°ï¼Œä¿æŒç›¸åŒçš„é«˜å®½æ¯”<br>Ctrl + æ‹–åŠ¨å¥æŸ„ï¼šä»ä¸­å¿ƒè°ƒæ•´æ¨¡å—å¤§å°<br>Ctrl + Rï¼šé¡ºæ—¶é’ˆæ—‹è½¬æ¨¡å—<br>Ctrl + Shift + Rï¼šé€†æ—¶é’ˆæ—‹è½¬æ¨¡å—<br>Ctrl + Iï¼šç¿»è½¬æ¨¡å—<br>Ctrl + Fï¼šæŸ¥æ‰¾æ¨¡å—<br>Ctrl + Mï¼šå°è£…æ¨¡å—<br>Ctrl + Uï¼šåœ¨æ¨¡å—å°è£…ä¸‹æŸ¥æ‰¾<br>Ctrl + Shift + Yï¼šæ³¨é‡Šæ¨¡å—<br>Ctrl + Shift + Xï¼šæ³¨é‡Šæ‰æˆ–å–æ¶ˆæ³¨é‡Šæ¨¡å—<br>Ctrl + Kï¼šåˆ·æ–°Modeæ¨¡å—<br>Ctrl + Lï¼šå¯¹äºé“¾æ¥æ¨¡å—ï¼Œè½¬åˆ°çˆ¶æ¨¡å—çš„åº“<br>Ctrl + Hï¼šæ‰“å¼€ Model Explorer</p><p>ä»¿çœŸé”®ç›˜å¿«æ·é”®<br>Ctrl + Eï¼šæ‰“å¼€ Configuration Parameterså¯¹è¯æ¡†<br>Ctrl + Dï¼šæ›´æ–°å›¾<br>Ctrl + Tï¼šå¼€å§‹ä»¿çœŸ<br>Ctrl + Shift + Tï¼šåœæ­¢ä»¿çœŸ<br>Ctrl + Bï¼šæ„å»ºæ¨¡å‹ï¼ˆç”¨äºä»£ç ç”Ÿæˆï¼‰</p><p>è°ƒè¯•å’Œæ–­ç‚¹é”®ç›˜å¿«æ·æ–¹å¼<br>F10ï¼šæ­¥éª¤<br>F11ï¼šæ­¥å…¥<br>Shift + F11ï¼šæ­¥å‡º<br>F5ï¼šè¿è¡Œ<br>F12ï¼šè®¾ç½®&#x2F;æ¸…é™¤æ–­ç‚¹<br>Ctrl + Jï¼šæŸ¥çœ‹simple time<br>è§†å›¾æ”¾å¤§ï¼šr<br>è§†å›¾ç¼©å°ï¼šv<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œå°æ›¾&amp;åŒå­¦ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/acknole/article/details/112344263">https://blog.csdn.net/acknole/article/details/112344263</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitå®æˆ˜</title>
      <link href="/post/ff99adbe.html"/>
      <url>/post/ff99adbe.html</url>
      
        <content type="html"><![CDATA[<img src="http://qiniu.hanvon.top/blog_article/Learning/Git/git_logo.png" align="right" /><h1 id="Gitå®æˆ˜å°ç¬”è®°"><a href="#Gitå®æˆ˜å°ç¬”è®°" class="headerlink" title="Gitå®æˆ˜å°ç¬”è®°"></a><strong>Gitå®æˆ˜å°ç¬”è®°</strong></h1><p>ä»€ä¹ˆæ˜¯Git? ç­”ï¼šGitæ˜¯ä¸€ä¸ª åˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶ è½¯ä»¶ã€‚</p><p>ä¸ºä»€ä¹ˆè¦åšç‰ˆæœ¬æ§åˆ¶ï¼Ÿç­”ï¼šè¦ä¿ç•™ä¹‹å‰æ‰€æœ‰çš„ç‰ˆæœ¬,ä»¥ä¾¿å›æ»šå’Œä¿®æ”¹ã€‚</p><p>ä¸ºå•¥è¦å­¦Git?ç­”ï¼šä¸å­¦Gitï¼Œæ— æ³•å‚ä¸æ»¡è¶³å¤§å…¬å¸ä»£ç å¼€å‘åŠŸèƒ½ï¼ˆç‰ˆæœ¬ç®¡ç†ã€æäº¤ä»£ç ï¼‰ã€‚</p><blockquote><p>æœ¬æ–‡ä¸è®²è§£ä»»ä½•ä¸åŒä»£ç æ§åˆ¶è½¯ä»¶çš„ä¸åŒï¼Œä¹Ÿä¸è®²è§£å¯è§†åŒ–ç‰ˆæœ¬æ§åˆ¶çš„ä½¿ç”¨ã€‚ ä¸ºä»€ä¹ˆï¼Ÿç­”ï¼šå¤§å®¶éƒ½ç”¨è¿™ç©æ„ï¼Œä½ åˆ«æŠ˜è…¾ä¸Šå¤å·¥å…·(SVN)è¿™äº›ä¸œè¥¿ã€‚</p></blockquote><h1 id="è®²æ•…äº‹å­¦Git"><a href="#è®²æ•…äº‹å­¦Git" class="headerlink" title="è®²æ•…äº‹å­¦Git"></a>è®²æ•…äº‹å­¦Git</h1><h2 id="ç¬¬ä¸€é˜¶æ®µ-å•æªåŒ¹é©¬å¼€å§‹å¹²"><a href="#ç¬¬ä¸€é˜¶æ®µ-å•æªåŒ¹é©¬å¼€å§‹å¹²" class="headerlink" title="ç¬¬ä¸€é˜¶æ®µ: å•æªåŒ¹é©¬å¼€å§‹å¹²"></a>ç¬¬ä¸€é˜¶æ®µ: å•æªåŒ¹é©¬å¼€å§‹å¹²</h2><p>æƒ³è¦è®©gitå¯¹ä¸€ä¸ªç›®å½•è¿›è¡Œç‰ˆæœ¬æ§åˆ¶éœ€è¦ä»¥ä¸‹æ­¥éª¤:</p><ul><li>è¿›å…¥è¦ç®¡ç†çš„æ–‡ä»¶å¤®</li><li>æ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><ul><li>ç®¡ç†ç›®å½•ä¸‹çš„æ–‡ä»¶çŠ¶æ€</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">æ³¨:æ–°å¢çš„æ–‡ä»¶å’Œä¿®æ”¹è¿‡åçš„æ–‡ä»¶éƒ½æ˜¯çº¢è‰²</span><br></pre></td></tr></table></figure><p>ç®¡ç†æŒ‡å®šæ–‡ä»¶(çº¢å˜ç»¿)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add [filename.filetype] //æ·»åŠ åˆ°ç¼“å­˜åŒº</span><br><span class="line">git add .</span><br></pre></td></tr></table></figure><p> git status color:</p><p> red ğŸ”´:not add</p><p> green ğŸŸ¢:had added</p><ul><li>ä¸ªäººä¿¡æ¯é…ç½®:ç”¨æˆ·åã€é‚®ç®± ã€ä¸€æ¬¡å³å¯ã€‘</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email <span class="string">&quot;[your email address]&quot;</span></span><br><span class="line">git config --global user.name <span class="string">&quot;[your nickname]&quot;</span> </span><br></pre></td></tr></table></figure><ul><li>ç”Ÿæˆç‰ˆæœ¬</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&#x27;æè¿°ä¿¡æ¯&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>æŸ¥çœ‹ç‰ˆæœ¬è®°å½•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒé˜¶æ®µ-æ‹“å±•æ–°åŠŸèƒ½"><a href="#ç¬¬äºŒé˜¶æ®µ-æ‹“å±•æ–°åŠŸèƒ½" class="headerlink" title="ç¬¬äºŒé˜¶æ®µ: æ‹“å±•æ–°åŠŸèƒ½"></a>ç¬¬äºŒé˜¶æ®µ: æ‹“å±•æ–°åŠŸèƒ½</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add</span><br><span class="line">git commit -m <span class="string">&#x27;çŸ­è§†é¢‘&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰é˜¶æ®µ-â€œçº¦é¥­äº‹ä»¶â€"><a href="#ç¬¬ä¸‰é˜¶æ®µ-â€œçº¦é¥­äº‹ä»¶â€" class="headerlink" title="ç¬¬ä¸‰é˜¶æ®µ: â€œçº¦é¥­äº‹ä»¶â€"></a>ç¬¬ä¸‰é˜¶æ®µ: â€œçº¦é¥­äº‹ä»¶â€</h2><ul><li>å›æ»š(reset)è‡³ä¹‹å‰ç‰ˆæœ¬</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br><span class="line">git reset --hard [commit <span class="built_in">id</span>] //å›æ»šç‰ˆæœ¬</span><br></pre></td></tr></table></figure><ul><li>å›æ»šä¹‹ä¹‹åç‰ˆæœ¬</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br><span class="line">git reset --hard [commit <span class="built_in">id</span>] //å›æ»šå‚è€ƒæ—¥å¿—ç‰ˆæœ¬ï¼ˆæ— ä»»ä½•å½“å‰å·¥ä½œç¼“å­˜ï¼‰</span><br></pre></td></tr></table></figure><h3 id="å°æ€»ç»“"><a href="#å°æ€»ç»“" class="headerlink" title="å°æ€»ç»“"></a>å°æ€»ç»“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add</span><br><span class="line">git commit</span><br><span class="line">git <span class="built_in">log</span></span><br><span class="line">git reflog</span><br><span class="line">git reset --hard ç‰ˆæœ¬å·</span><br></pre></td></tr></table></figure><img src="http://qiniu.hanvon.top/blog_article/Learning/Git/sum.png" style="max-width:70%; height:auto" /><h2 id="ç¬¬å››é˜¶æ®µ-å•†åŸ-amp-ç´§æ€¥ä¿®å¤bug"><a href="#ç¬¬å››é˜¶æ®µ-å•†åŸ-amp-ç´§æ€¥ä¿®å¤bug" class="headerlink" title="ç¬¬å››é˜¶æ®µ:å•†åŸ&amp;ç´§æ€¥ä¿®å¤bug"></a>ç¬¬å››é˜¶æ®µ:å•†åŸ&amp;ç´§æ€¥ä¿®å¤bug</h2><h4 id="2-5-1åˆ†æ”¯"><a href="#2-5-1åˆ†æ”¯" class="headerlink" title="2.5.1åˆ†æ”¯"></a>2.5.1åˆ†æ”¯</h4><p>åˆ†æ”¯å¯ä»¥ç»™ä½¿ç”¨è€…æä¾›å¤šä¸ªç¯å¢ƒçš„å¯ä»¥,æ„å‘³ç€ä½ å¯ä»¥æŠŠä½ çš„å·¥ä½œä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥,ä»¥å…å½±å“å¼€ å‘ä¸»çº¿ã€‚</p><h4 id="2-5-2-ç´§æ€¥ä¿®å¤bugæ–¹æ¡ˆ"><a href="#2-5-2-ç´§æ€¥ä¿®å¤bugæ–¹æ¡ˆ" class="headerlink" title="2.5.2 ç´§æ€¥ä¿®å¤bugæ–¹æ¡ˆ"></a>2.5.2 ç´§æ€¥ä¿®å¤bugæ–¹æ¡ˆ</h4><img src="http://qiniu.hanvon.top/blog_article/Learning/Git/emergencyrepair.png" style="max-width:70%; height:auto" /><p>2.5.3 å‘½ä»¤æ€»ç»“</p><ul><li>æŸ¥çœ‹åˆ†æ”¯ (å±•ç¤ºåˆ†æ”¯)</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch </span><br></pre></td></tr></table></figure><ul><li>åˆ›å»ºåˆ†æ”¯</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch [branch name]</span><br></pre></td></tr></table></figure><ul><li>åˆ‡æ¢åˆ†æ”¯</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout [branch name]</span><br><span class="line">git checkout -b [branch name] //åˆ‡æ¢å¹¶ä¸”åˆ›å»ºåˆ†æ”¯</span><br></pre></td></tr></table></figure><ul><li>åˆ†æ”¯æ”¹å</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -m [old branch name] [new branch name] //åˆ†æ”¯æ”¹å</span><br></pre></td></tr></table></figure><ul><li>åˆ†æ”¯åˆå¹¶(å¯èƒ½äº§ç”Ÿå†²çª)</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git merge [branch name] //åˆå¹¶åˆ°å“ªï¼Œåˆ‡æ¢å“ªçš„åˆ†æ”¯ã€‚</span><br><span class="line">ğŸ”´æ³¨æ„:å…ˆåˆ‡æ¢åˆ†æ”¯å†åˆå¹¶</span><br></pre></td></tr></table></figure><ul><li>åˆ é™¤åˆ†æ”¯</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d [branch name] //åˆ é™¤åˆ†æ”¯</span><br></pre></td></tr></table></figure><h4 id="2-5-4-å·¥ä½œæµ"><a href="#2-5-4-å·¥ä½œæµ" class="headerlink" title="2.5.4 å·¥ä½œæµ"></a>2.5.4 å·¥ä½œæµ</h4><img src="http://qiniu.hanvon.top/blog_article/Learning/Git/branch.png" style="zoom:50%;" /><h2 id="ç¬¬äº”é˜¶æ®µ-è¿›å†›ä¸‰é‡Œå±¯"><a href="#ç¬¬äº”é˜¶æ®µ-è¿›å†›ä¸‰é‡Œå±¯" class="headerlink" title="ç¬¬äº”é˜¶æ®µ:è¿›å†›ä¸‰é‡Œå±¯"></a>ç¬¬äº”é˜¶æ®µ:è¿›å†›ä¸‰é‡Œå±¯</h2><p>æœ‰é’±ä¹‹åå°±è¦é€ å‘€,ä¸€ä¸ªäººåœ¨ä¸‰é‡Œå±¯ä¹°äº†ä¸€å±‚æ¥¼åšåŠå…¬å®¤ã€‚</p><img src="http://qiniu.hanvon.top/blog_article/Learning/Git/hulian.png" style="max-width:60%; height:auto" /><h4 id="2-6-1-ç¬¬ä¸€å¤©ä¸Šç­å‰åœ¨å®¶ä¸Šä¼ ä»£ç "><a href="#2-6-1-ç¬¬ä¸€å¤©ä¸Šç­å‰åœ¨å®¶ä¸Šä¼ ä»£ç " class="headerlink" title="2.6.1 ç¬¬ä¸€å¤©ä¸Šç­å‰åœ¨å®¶ä¸Šä¼ ä»£ç "></a>2.6.1 ç¬¬ä¸€å¤©ä¸Šç­å‰åœ¨å®¶ä¸Šä¼ ä»£ç </h4><p>é¦–å…ˆ,éœ€è¦æ³¨å†Œgithubè´¦å·,å¹¶åˆ›å»ºè¿œç¨‹ä»“åº“,ç„¶åå†æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤,å°†ä»£ç ä¸Šä¼ åˆ°githubã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. ç»™è¿œç¨‹ä»“åº“èµ·åˆ«å</span><br><span class="line">git remote add origin è¿œç¨‹ä»“åº“åœ°å€</span><br><span class="line">2. å‘è¿œç¨‹æ¨é€ä»£ç </span><br><span class="line">git push -u origin åˆ†æ”¯</span><br></pre></td></tr></table></figure><h4 id="2-6-2-åˆæ¬¡åœ¨å…¬å¸æ–°ç”µè„‘ä¸‹è½½ä»£ç "><a href="#2-6-2-åˆæ¬¡åœ¨å…¬å¸æ–°ç”µè„‘ä¸‹è½½ä»£ç " class="headerlink" title="2.6.2 åˆæ¬¡åœ¨å…¬å¸æ–°ç”µè„‘ä¸‹è½½ä»£ç "></a>2.6.2 åˆæ¬¡åœ¨å…¬å¸æ–°ç”µè„‘ä¸‹è½½ä»£ç </h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. å…‹éš†è¿œç¨‹ä»“åº“ä»£ç </span><br><span class="line">git <span class="built_in">clone</span> è¿œç¨‹ä»“åº“åœ°å€  (å†…éƒ¨å·²å®ç°git remote add origin è¿œç¨‹ä»“åº“åœ°å€)</span><br><span class="line">2. åˆ‡æ¢åˆ†æ”¯</span><br><span class="line">git checkout åˆ†æ”¯</span><br></pre></td></tr></table></figure><p>åœ¨å…¬å¸ä¸‹è½½å®Œä»£ç å,ç»§ç»­å¼€å‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. åˆ‡æ¢åˆ°devåˆ†æ”¯è¿›è¡Œå¼€å‘</span><br><span class="line">git checkout dev</span><br><span class="line">2. æŠŠmasteråˆ†æ”¯åˆå¹¶åˆ°dev [ä»…ä¸€æ¬¡] </span><br><span class="line">git merge master</span><br><span class="line">3. ä¿®æ”¹ä»£ç </span><br><span class="line">4. æäº¤ä»£ç </span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&#x27;xx&#x27;</span></span><br><span class="line">git push origin dev</span><br></pre></td></tr></table></figure><h4 id="2-6-3-ä¸‹ç­å›åˆ°å®¶ç»§ç»­å†™ä»£ç "><a href="#2-6-3-ä¸‹ç­å›åˆ°å®¶ç»§ç»­å†™ä»£ç " class="headerlink" title="2.6.3 ä¸‹ç­å›åˆ°å®¶ç»§ç»­å†™ä»£ç "></a>2.6.3 ä¸‹ç­å›åˆ°å®¶ç»§ç»­å†™ä»£ç </h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1. åˆ‡æ¢åˆ°devåˆ†æ”¯è¿›è¡Œå¼€å‘</span><br><span class="line">git checkout dev</span><br><span class="line">2. æ‹‰ä»£ç </span><br><span class="line">git pull origin dev</span><br><span class="line">3. ç»§ç»­å¼€å‘</span><br><span class="line"></span><br><span class="line">4. æäº¤ä»£ç </span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&#x27;xx&#x27;</span></span><br><span class="line">git push origin dev</span><br></pre></td></tr></table></figure><h4 id="2-6-4-åˆ°å…¬å¸ç»§ç»­å¼€å‘"><a href="#2-6-4-åˆ°å…¬å¸ç»§ç»­å¼€å‘" class="headerlink" title="2.6.4 åˆ°å…¬å¸ç»§ç»­å¼€å‘"></a>2.6.4 åˆ°å…¬å¸ç»§ç»­å¼€å‘</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1. åˆ‡æ¢åˆ°devåˆ†æ”¯è¿›è¡Œå¼€å‘</span><br><span class="line">git checkout dev</span><br><span class="line">2. æ‹‰æœ€æ–°ä»£ç (ä¸å¿…å†<span class="built_in">clone</span>,åªéœ€è¦é€šè¿‡pullè·å–æœ€æ–°ä»£ç å³å¯)</span><br><span class="line">git pull origin dev</span><br><span class="line">3. ç»§ç»­å¼€å‘</span><br><span class="line"></span><br><span class="line">4. æäº¤ä»£ç </span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&#x27;xx&#x27;</span></span><br><span class="line">git push origin dev</span><br></pre></td></tr></table></figure><p>å¼€å‘å®Œæ¯•,è¦ä¸Šçº¿äº†ï¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1. å°†devåˆ†æ”¯åˆå¹¶åˆ°master,è¿›è¡Œä¸Šçº¿</span><br><span class="line">git checkout master</span><br><span class="line">git merge dev</span><br><span class="line">git push origin master</span><br><span class="line">2. æŠŠdevåˆ†æ”¯ä¹Ÿæ¨é€åˆ°è¿œç¨‹</span><br><span class="line">git checkout dev</span><br><span class="line">git merge master</span><br><span class="line">git push origin dev</span><br></pre></td></tr></table></figure><h4 id="2-6-5-åœ¨å…¬å¸çº¦å¦¹å­å¿˜è®°æäº¤ä»£ç "><a href="#2-6-5-åœ¨å…¬å¸çº¦å¦¹å­å¿˜è®°æäº¤ä»£ç " class="headerlink" title="2.6.5 åœ¨å…¬å¸çº¦å¦¹å­å¿˜è®°æäº¤ä»£ç "></a>2.6.5 åœ¨å…¬å¸çº¦å¦¹å­å¿˜è®°æäº¤ä»£ç </h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. æ‹‰ä»£ç </span><br><span class="line">git pull origin dev</span><br><span class="line">2. ç»§ç»­å¼€å‘</span><br><span class="line"></span><br><span class="line">3. æäº¤ä»£ç </span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&#x27;xx&#x27;</span></span><br><span class="line"></span><br><span class="line">æ³¨:å¿˜è®°pushäº†</span><br></pre></td></tr></table></figure><h4 id="2-6-6-å›å®¶ç»§ç»­å†™ä»£ç "><a href="#2-6-6-å›å®¶ç»§ç»­å†™ä»£ç " class="headerlink" title="2.6.6 å›å®¶ç»§ç»­å†™ä»£ç "></a>2.6.6 å›å®¶ç»§ç»­å†™ä»£ç </h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. æ‹‰ä»£ç ,å‘ç°åœ¨å…¬å¸å†™çš„ä»£ç å¿˜è®°æäº¤ ... </span><br><span class="line">git pull origin dev</span><br><span class="line"></span><br><span class="line">2. ç»§ç»­å¼€å‘å…¶ä»–åŠŸèƒ½</span><br><span class="line"></span><br><span class="line">3. æŠŠdevåˆ†æ”¯ä¹Ÿæ¨é€åˆ°è¿œç¨‹</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&#x27;xx&#x27;</span></span><br><span class="line">git push origin dev</span><br></pre></td></tr></table></figure><h4 id="2-6-7-åˆ°å…¬å¸ç»§ç»­å†™ä»£ç "><a href="#2-6-7-åˆ°å…¬å¸ç»§ç»­å†™ä»£ç " class="headerlink" title="2.6.7 åˆ°å…¬å¸ç»§ç»­å†™ä»£ç "></a>2.6.7 åˆ°å…¬å¸ç»§ç»­å†™ä»£ç </h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1. æ‹‰ä»£ç ,æŠŠæ™šä¸Šåœ¨å®¶å†™çš„ä»£ç æ‹‰åˆ°æœ¬åœ°(æœ‰åˆå¹¶ã€å¯èƒ½äº§ç”Ÿå†²çª)</span><br><span class="line">git pull origin dev</span><br><span class="line"></span><br><span class="line">2. å¦‚æœæœ‰å†²çª,æ‰‹åŠ¨è§£å†³å†²çª</span><br><span class="line"></span><br><span class="line">3. ç»§ç»­å¼€å‘å…¶ä»–åŠŸèƒ½</span><br><span class="line"></span><br><span class="line">4. æŠŠdevåˆ†æ”¯ä¹Ÿæ¨é€åˆ°è¿œç¨‹</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&#x27;xx&#x27;</span></span><br><span class="line">git push origin dev</span><br></pre></td></tr></table></figure><h4 id="2-6-8-å…¶ä»–"><a href="#2-6-8-å…¶ä»–" class="headerlink" title="2.6.8 å…¶ä»–"></a>2.6.8 å…¶ä»–</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git pull origin dev</span><br><span class="line">ç­‰ä»·äº</span><br><span class="line">git fetch origin dev</span><br><span class="line">git merge origin/dev</span><br></pre></td></tr></table></figure><img src="http://qiniu.hanvon.top/blog_article/Learning/Git/elsegitsum.png" style="max-width:80%; height:auto" /><h4 id="2-6-9-rebaseçš„ä½œç”¨"><a href="#2-6-9-rebaseçš„ä½œç”¨" class="headerlink" title="2.6.9 rebaseçš„ä½œç”¨?"></a>2.6.9 rebaseçš„ä½œç”¨?</h4><p>rebaseå¯ä»¥ä¿æŒæäº¤è®°å½•ç®€æ´,ä¸åˆ†å‰ã€‚</p><h4 id="2-6-10-å¿«é€Ÿè§£å†³å†²çª"><a href="#2-6-10-å¿«é€Ÿè§£å†³å†²çª" class="headerlink" title="2.6.10 å¿«é€Ÿè§£å†³å†²çª"></a>2.6.10 å¿«é€Ÿè§£å†³å†²çª</h4><p>â€‹â‘ å®‰è£…beyond compare<br>â€‹â‘¡åœ¨gitä¸­é…ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --<span class="built_in">local</span> merge.tool bc3</span><br><span class="line">git config --<span class="built_in">local</span> mergetool.path <span class="string">&#x27;/usr/local/bin/bcomp&#x27;</span></span><br><span class="line">git config --<span class="built_in">local</span> mergetool.keepBackup <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>â€‹â‘¢åº”ç”¨beyond compare è§£å†³å†²çª</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git mergetool</span><br></pre></td></tr></table></figure><h3 id="2-7-å°æ€»ç»“"><a href="#2-7-å°æ€»ç»“" class="headerlink" title="2.7 å°æ€»ç»“"></a>2.7 å°æ€»ç»“</h3><ul><li>æ·»åŠ è¿œç¨‹è¿æ¥(åˆ«å)</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin åœ°å€</span><br></pre></td></tr></table></figure><ul><li>æ¨é€ä»£ç </li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin dev</span><br></pre></td></tr></table></figure><ul><li>ä¸‹è½½ä»£ç </li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> åœ°å€</span><br></pre></td></tr></table></figure><ul><li>æ‹‰å–ä»£ç </li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git pull origin dev</span><br><span class="line">ç­‰ä»·äº</span><br><span class="line">git fetch origin dev</span><br><span class="line">git merge origin/dev</span><br></pre></td></tr></table></figure><ul><li>ä¿æŒä»£ç æäº¤æ•´æ´(å˜åŸº)</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase åˆ†æ”¯</span><br></pre></td></tr></table></figure><ul><li>è®°å½•å›¾å½¢å±•ç¤º</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --graph --pretty=format:<span class="string">&quot;%h %s&quot;</span></span><br></pre></td></tr></table></figure><h2 id="ç¬¬å…­é˜¶æ®µ-å¤šäººååŒå¼€å‘å·¥ä½œæµ"><a href="#ç¬¬å…­é˜¶æ®µ-å¤šäººååŒå¼€å‘å·¥ä½œæµ" class="headerlink" title="ç¬¬å…­é˜¶æ®µ:å¤šäººååŒå¼€å‘å·¥ä½œæµ"></a>ç¬¬å…­é˜¶æ®µ:å¤šäººååŒå¼€å‘å·¥ä½œæµ</h2><h4 id="2-8-1-åˆ›å»ºé¡¹ç›®-amp-é‚€è¯·æˆå‘˜"><a href="#2-8-1-åˆ›å»ºé¡¹ç›®-amp-é‚€è¯·æˆå‘˜" class="headerlink" title="2.8.1 åˆ›å»ºé¡¹ç›®&amp;é‚€è¯·æˆå‘˜"></a>2.8.1 åˆ›å»ºé¡¹ç›®&amp;é‚€è¯·æˆå‘˜</h4><p>ååŒå¼€å‘æ—¶,éœ€è¦æ‰€æœ‰æˆå‘˜éƒ½å¯ä»¥å¯¹åŒä¸€ä¸ªé¡¹ç›®è¿›è¡Œæ“ä½œ,éœ€è¦é‚€è¯·æˆå‘˜å¹¶èµ‹äºˆæƒé™,å¦åˆ™æ— æ³•å¼€å‘ã€‚ githubæ”¯æŒä¸¤ç§åˆ›å»ºé¡¹ç›®çš„æ–¹å¼(ä¾›å¤šäººååŒå¼€å‘)ã€‚</p><p>â€‹1.åˆä½œè€…,å°†ç”¨æˆ·æ·»åŠ åˆ°ä»“åº“åˆä½œè€…ä¸­ä¹‹å,è¯¥ç”¨æˆ·å°±å¯ä»¥å‘å½“å‰ä»“åº“æäº¤ä»£ç ã€‚<br>â€‹2.ç»„ç»‡,å°†æˆå‘˜é‚€è¯·è¿›å…¥ç»„ç»‡,ç»„ç»‡ä¸‹å¯ä»¥åˆ›å»ºå¤šä¸ªä»“åº“,ç»„ç»‡æˆå‘˜å¯ä»¥å‘ç»„ç»‡ä¸‹ä»“åº“æäº¤ä»£ç ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æ‰©å±•: Tagæ ‡ç­¾ç®¡ç†</span><br><span class="line">ä¸ºäº†èƒ½æ¸…æ™°çš„ç®¡ç†ç‰ˆæœ¬,åœ¨å…¬å¸ä¸ä¼šç›´æ¥ä½¿ç”¨ commitæ¥åšç‰ˆæœ¬,ä¼šåŸºäºTagæ¥å®ç°: v1.0 ã€v1.2 ã€v2.0 ç‰ˆæœ¬ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git tag -a v1.0 -m <span class="string">&#x27;ç‰ˆæœ¬ä»‹ç»&#x27;</span> åˆ›å»ºæœ¬åœ°åˆ›å»ºTagä¿¡æ¯</span><br><span class="line">git tag -d v1.0åˆ é™¤Tag</span><br><span class="line">git push origin  --tagså°†æœ¬åœ°tagä¿¡æ¯æ¨é€åˆ°è¿œç¨‹ä»“åº“</span><br><span class="line">git pull origin  --tagsæ›´æ–°æœ¬åœ°tagç‰ˆæœ¬ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">git checkout v.10åˆ‡æ¢tag</span><br><span class="line">git <span class="built_in">clone</span> -b v0.1 åœ°å€   æŒ‡å®štagä¸‹è½½ä»£ç </span><br></pre></td></tr></table></figure><h4 id="2-8-2-å°å¼Ÿå¼€å‘"><a href="#2-8-2-å°å¼Ÿå¼€å‘" class="headerlink" title="2.8.2 å°å¼Ÿå¼€å‘"></a>2.8.2 å°å¼Ÿå¼€å‘</h4><ul><li>å°å¼Ÿæ³¨å†ŒGithub æˆ– Gitlabè´¦å·</li><li>é‚€è¯·å°å¼Ÿè¿›å…¥ç»„ç»‡(é»˜è®¤å¯¹ç»„ç»‡ä¸­çš„é¡¹ç›®å…·æœ‰è¯»æƒé™)</li><li>é‚€è¯·å°å¼Ÿæˆä¸ºæŸé¡¹ç›®çš„åˆä½œè€…</li><li>å°å¼Ÿåœ¨è‡ªå·±ç”µè„‘ä¸Šä¸‹è½½ä»£ç å¹¶å¼€å‘</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/oldboy-org/dbhot.git</span><br><span class="line"><span class="built_in">cd</span> dbhot</span><br><span class="line">git checkout dev</span><br><span class="line">git checkout -b dzz</span><br><span class="line">å†™ä»£ç  ...</span><br><span class="line"></span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&#x27;æ–—åœ°ä¸»åŠŸèƒ½å¼€å‘å®Œæˆ&#x27;</span></span><br><span class="line">git push origin ddz</span><br></pre></td></tr></table></figure><h4 id="2-8-3-code-review"><a href="#2-8-3-code-review" class="headerlink" title="2.8.3 code review"></a>2.8.3 code review</h4><p>â€‹1.é…ç½®,ä»£ç reviewä¹‹åæ‰èƒ½åˆå¹¶åˆ°devåˆ†æ”¯ã€‚<br>â€‹2.å°å¼Ÿæäº¤ code reviewç”³è¯·<br>â€‹3.ç»„é•¿åš code review</p><h4 id="2-8-4-ææµ‹ä¸Šçº¿-é¢„å‘å¸ƒ"><a href="#2-8-4-ææµ‹ä¸Šçº¿-é¢„å‘å¸ƒ" class="headerlink" title="2.8.4 ææµ‹ä¸Šçº¿(é¢„å‘å¸ƒ)"></a>2.8.4 ææµ‹ä¸Šçº¿(é¢„å‘å¸ƒ)</h4><p>ç”±ä¸“é—¨å›¢é˜Ÿæˆ–å›¢é˜Ÿleaderæ‰§è¡Œä»¥ä¸‹æ­¥éª¤:</p><p>â€‹    1.åŸºäºdevåˆ†å€¼åˆ›å»ºreleaseåˆ†å€¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout dev</span><br><span class="line">git checkout -b release</span><br></pre></td></tr></table></figure><p>â€‹2.æµ‹è¯•ç­‰<br>â€‹3.åˆå¹¶åˆ°master</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨pull request</span><br><span class="line">æˆ–</span><br><span class="line">æœ¬åœ°å°†releaseåˆå¹¶åˆ°masteråˆ†æ”¯</span><br></pre></td></tr></table></figure><p>â€‹4.åœ¨masteråˆ†æ”¯æ‰“tag</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -a v2 -m <span class="string">&#x27;ç¬¬äºŒç‰ˆ  æ–—åœ°ä¸»åŠŸèƒ½&#x27;</span></span><br><span class="line">git push origin --tags</span><br></pre></td></tr></table></figure><p>â€‹5.è¿ç»´äººå‘˜å°±å¯ä»¥å»ä¸‹è½½ä»£ç åšä¸Šçº¿äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b v2 åœ°å€</span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸ƒé˜¶æ®µ-ç»™å¼€æºè½¯ä»¶è´¡çŒ®ä»£ç "><a href="#ç¬¬ä¸ƒé˜¶æ®µ-ç»™å¼€æºè½¯ä»¶è´¡çŒ®ä»£ç " class="headerlink" title="ç¬¬ä¸ƒé˜¶æ®µ:ç»™å¼€æºè½¯ä»¶è´¡çŒ®ä»£ç "></a>ç¬¬ä¸ƒé˜¶æ®µ:ç»™å¼€æºè½¯ä»¶è´¡çŒ®ä»£ç </h2><p>â€‹1.forkæºä»£ç  å°†åˆ«äººæºä»£ç æ‹·è´åˆ°æˆ‘è‡ªå·±çš„è¿œç¨‹ä»“åº“ã€‚<br>â€‹2.åœ¨è‡ªå·±ä»“åº“è¿›è¡Œä¿®æ”¹ä»£ç <br>â€‹3.ç»™æºä»£ç çš„ä½œè€…æäº¤ ä¿®å¤bugçš„ç”³è¯· (pull request)</p><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><h4 id="3-1-é…ç½®"><a href="#3-1-é…ç½®" class="headerlink" title="3.1 é…ç½®"></a>3.1 é…ç½®</h4><ul><li>é¡¹ç›®é…ç½®æ–‡ä»¶:é¡¹ç›®&#x2F;.git&#x2F;conig</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config -- user.name <span class="string">&#x27;å†¯ä¸€èˆª&#x27;</span></span><br><span class="line">git config -- <span class="built_in">local</span> user.email <span class="string">&#x27;fengyihang@xx.com&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>å…¨å±€é…ç½®æ–‡ä»¶: ~&#x2F;.gitconig</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&#x27;fengyihang&#x27;</span></span><br><span class="line">git config --global user.name <span class="string">&#x27;fengyihang@xx.com&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>ç³»ç»Ÿé…ç½®æ–‡ä»¶: &#x2F;etc&#x2F;.gitconig</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --system user.name <span class="string">&#x27;fengyihang&#x27;</span></span><br><span class="line">git config --system user.name <span class="string">&#x27;fengyihang@xx.com&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ³¨æ„:éœ€è¦æœ‰rootæƒé™</span></span><br></pre></td></tr></table></figure><p>åº”ç”¨åœºæ™¯:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gitconfig--<span class="built_in">local</span> user.name <span class="string">&#x27;å†¯ä¸€èˆª&#x27;</span></span><br><span class="line">gitconfig--<span class="built_in">local</span> user.email <span class="string">&#x27;fengyihang@xx.com&#x27;</span></span><br><span class="line">gitconfig--<span class="built_in">local</span> merge.tool bc3</span><br><span class="line">gitconfig--<span class="built_in">local</span> mergetool.path <span class="string">&#x27;/usr/local/bin/bcomp&#x27;</span></span><br><span class="line">gitconfig--<span class="built_in">local</span> mergetool.keepBackup <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>git remote add origin åœ°å€  ,é»˜è®¤æ·»åŠ åœ¨æœ¬åœ°é…ç½®æ–‡ä»¶ä¸­(â€“local)</p><h4 id="3-2-å…å¯†ç ç™»å½•"><a href="#3-2-å…å¯†ç ç™»å½•" class="headerlink" title="3.2 å…å¯†ç ç™»å½•"></a>3.2 å…å¯†ç ç™»å½•</h4><ul><li>URLä¸­ä½“ç°</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">åŸæ¥çš„åœ°å€:  https://github.com/Fengyihang/dbhot.git</span><br><span class="line">ä¿®æ”¹çš„åœ°å€:  https://ç”¨æˆ·å:å¯†ç @github.com/Fengyihang/dbhot.git  </span><br><span class="line">git remote add origin https://ç”¨æˆ·å:å¯†ç @github.com/Fengyihang/dbhot.git git push origin master</span><br></pre></td></tr></table></figure><ul><li>SSHå®ç°</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. ç”Ÿæˆå…¬é’¥å’Œç§é’¥(é»˜è®¤æ”¾åœ¨  ~/.sshç›®å½•ä¸‹,  id_rsa.pubå…¬é’¥ã€  id_rsaç§é’¥) ssh-keygen</span><br><span class="line">2. æ‹·è´å…¬é’¥çš„å†…å®¹,å¹¶è®¾ç½®åˆ°githubä¸­ã€‚</span><br><span class="line">3. åœ¨gitæœ¬åœ°ä¸­é…ç½®sshåœ°å€</span><br><span class="line">git remote add origin git@github.com:Fengyihang/dbhot.git</span><br><span class="line"></span><br><span class="line">4. ä»¥åä½¿ç”¨</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure><ul><li>gitè‡ªåŠ¨ç®¡ç†å‡­è¯</li></ul><h4 id="3-3-gitå¿½ç•¥æ–‡ä»¶"><a href="#3-3-gitå¿½ç•¥æ–‡ä»¶" class="headerlink" title="3.3 gitå¿½ç•¥æ–‡ä»¶"></a>3.3 gitå¿½ç•¥æ–‡ä»¶</h4><p>è®©Gitä¸å†ç®¡ç†å½“å‰ç›®å½•ä¸‹çš„æŸäº›æ–‡ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*.h</span><br><span class="line">!a.h</span><br><span class="line">files/</span><br><span class="line">*.py[c|a|d]</span><br></pre></td></tr></table></figure><p>æ›´å¤šå‚è€ƒ: <a href="https://github.com/github/gitignore">https://github.com/github/gitignore</a></p><h4 id="3-4-githubä»»åŠ¡ç®¡ç†ç›¸å…³"><a href="#3-4-githubä»»åŠ¡ç®¡ç†ç›¸å…³" class="headerlink" title="3.4 githubä»»åŠ¡ç®¡ç†ç›¸å…³"></a>3.4 githubä»»åŠ¡ç®¡ç†ç›¸å…³</h4><ul><li>issues ,æ–‡æ¡£ä»¥åŠä»»åŠ¡ç®¡ç†ã€‚</li><li>wiki ,é¡¹ç›®æ–‡æ¡£ã€‚</li></ul><p>ç»“è¯­<br>å¥½å¥½å­¦ä¹ å¤©å¤©å‘ä¸Š, å¸Œæœ›gitå®æˆ˜è¯¾ç¨‹å¯¹ä½ èƒ½å¤Ÿæœ‰æ‰€å¸®åŠ©,æ›´å¤šèµ„æºå…³æ³¨:</p><p>Notionï¼š<a href="https://www.notion.so/Git-e623a6fa739a46eebd6c6646955c41c8">https://www.notion.so/Git-e623a6fa739a46eebd6c6646955c41c8</a></p><p>PDFï¼š<a href="https://www.notion.so/Git-e623a6fa739a46eebd6c6646955c41c8#d173f23264714f6f9db110660db0fade">https://www.notion.so/Git-e623a6fa739a46eebd6c6646955c41c8#d173f23264714f6f9db110660db0fade</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç²—å­¦IIC</title>
      <link href="/post/11f9a402.html"/>
      <url>/post/11f9a402.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ã€IICç®€ä»‹"><a href="#ä¸€ã€IICç®€ä»‹" class="headerlink" title="ä¸€ã€IICç®€ä»‹"></a>ä¸€ã€IICç®€ä»‹</h1><p><strong>I2Cï¼ˆInter-Integrated Circuitï¼Œé›†æˆçº¿è·¯æ€»çº¿ï¼‰ æ€»çº¿</strong>æ˜¯ç”±é£åˆ©æµ¦(Philips)å…¬å¸å¼€å‘çš„ä¸€ç§ç®€å•ã€åŒå‘äºŒçº¿åˆ¶åŒæ­¥ä¸²è¡Œæ€»çº¿ã€‚å®ƒåªéœ€è¦ä¸¤æ ¹çº¿å³å¯åœ¨è¿æ¥äºæ€»çº¿ä¸Šçš„å™¨ä»¶ä¹‹é—´ä¼ é€ä¿¡æ¯ã€‚</p><p>I2C æ€»çº¿æ”¯æŒä»»ä½•IC ç”Ÿäº§è¿‡ç¨‹(NMOS CMOSã€ åŒææ€§)ã€‚ä¸¤çº¿â€•â€•ä¸²è¡Œæ•°æ®ï¼ˆSDAï¼‰ å’Œä¸²è¡Œæ—¶é’Ÿ ï¼ˆSCLï¼‰ çº¿åœ¨è¿æ¥åˆ°æ€»çº¿çš„å™¨ä»¶é—´ä¼ é€’ä¿¡æ¯ã€‚ æ¯ä¸ªå™¨ä»¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„åœ°å€è¯†åˆ«ï¼ˆæ— è®ºæ˜¯å¾®æ§åˆ¶å™¨â€”â€”MCUã€ LCD é©±åŠ¨å™¨ã€ å­˜å‚¨å™¨æˆ–é”®ç›˜æ¥å£ï¼‰ ï¼Œ è€Œä¸”éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªå‘é€å™¨æˆ–æ¥æ”¶å™¨ï¼ˆç”±å™¨ä»¶çš„åŠŸèƒ½å†³å®š) ã€‚<br>åœ¨ <code>CPU ä¸è¢«æ§ IC ä¹‹é—´</code>ã€ <code>IC ä¸ IC ä¹‹é—´è¿›è¡ŒåŒå‘ä¼ é€</code>ï¼Œ é«˜é€Ÿ IIC æ€»çº¿ä¸€èˆ¬<u>å¯è¾¾ 400kbps ä»¥ä¸Š</u>ã€‚<br>I2C æ€»çº¿åœ¨ä¼ é€æ•°æ®è¿‡ç¨‹ä¸­å…±æœ‰ä¸‰ç§ç±»å‹ä¿¡å·ï¼Œ å®ƒä»¬åˆ†åˆ«æ˜¯ï¼š&#x3D;&#x3D;å¼€å§‹ä¿¡å·ã€ç»“æŸä¿¡å·å’Œåº”ç­”ä¿¡å·&#x3D;&#x3D;ã€‚</p><h1 id="äºŒã€I2Cæ€»çº¿ç‰©ç†æ‹“è¡¥ç»“æ„ï¼ˆä¸»ä»æ¨¡å¼ï¼‰"><a href="#äºŒã€I2Cæ€»çº¿ç‰©ç†æ‹“è¡¥ç»“æ„ï¼ˆä¸»ä»æ¨¡å¼ï¼‰" class="headerlink" title="äºŒã€I2Cæ€»çº¿ç‰©ç†æ‹“è¡¥ç»“æ„ï¼ˆä¸»ä»æ¨¡å¼ï¼‰"></a>äºŒã€I2Cæ€»çº¿ç‰©ç†æ‹“è¡¥ç»“æ„ï¼ˆä¸»ä»æ¨¡å¼ï¼‰</h1><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/IIC%E6%80%BB%E7%BA%BF%E7%89%A9%E7%90%86%E6%8B%93%E6%89%91.jpg" alt="IICæ€»çº¿ç‰©ç†æ‹“æ‰‘"></p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ•°æ®çº¿SDAå’Œæ—¶é’Ÿçº¿SCLéƒ½æ˜¯å¤„äºä¸Šæ‹‰ç”µé˜»çŠ¶æ€ã€‚å› ä¸ºï¼šåœ¨æ€»çº¿ç©ºé—²çŠ¶æ€æ—¶ï¼Œè¿™ä¸¤æ ¹çº¿ä¸€èˆ¬è¢«ä¸Šé¢æ‰€æ¥çš„ä¸Šæ‹‰ç”µé˜»æ‹‰é«˜ï¼Œä¿æŒç€é«˜ç”µå¹³ã€‚<font color=red>(ä¸Šæ‹‰ç”µé˜»ä¸€èˆ¬åœ¨4.7k~10kä¹‹é—´ï¼Œé»˜è®¤æ‹‰é«˜)</font></p><p>æ•°æ®çš„ä¼ è¾“é€Ÿç‡åœ¨æ ‡å‡†æ¨¡å¼ä¸‹å¯è¾¾100kbit&#x2F;sï¼Œåœ¨å¿«é€Ÿæ¨¡å¼ä¸‹å¯è¾¾400kbit&#x2F;sï¼Œåœ¨é«˜é€Ÿæ¨¡å¼ï¼ˆHsæ¨¡å¼ï¼‰ä¸‹å¯è¾¾3.4Mbit&#x2F;sï¼Œå„ç§è¢«æ§å™¨ä»¶å‡å¹¶è”åœ¨æ€»çº¿ä¸Šï¼Œé€šè¿‡å™¨ä»¶åœ°å€ï¼ˆæ¯ä¸ªå™¨ä»¶çš„åœ°å€åœ¨å™¨ä»¶æ‰‹å†Œæœ‰äº›ï¼‰è¯†åˆ«ã€‚</p><p>ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨çš„I2Cæ€»çº¿é€Ÿåº¦å°äº400Kbit&#x2F;sã€‚</p><p>ç”±äºI2Cå™¨ä»¶ä¸€èˆ¬é‡‡ç”¨å¼€æ¼ç»“æ„ä¸æ€»çº¿è¿æ¥ï¼Œæ‰€ä»¥SCLå’ŒSDAçº¿å‡æ¥ä¸Šæ‹‰ç”µé˜»</p><h1 id="ä¸‰ã€I2Cæ—¶åº"><a href="#ä¸‰ã€I2Cæ—¶åº" class="headerlink" title="ä¸‰ã€I2Cæ—¶åº"></a>ä¸‰ã€I2Cæ—¶åº</h1><p>IICæ€»çº¿åœ¨ä¼ è¾“æ•°æ®çš„è¿‡ç¨‹çš„ä¿¡å·ä¸­ï¼Œ**<u>èµ·å§‹ä¿¡å·</u>æ˜¯å¿…éœ€çš„<strong>ï¼Œ</strong>ç»“æŸä¿¡å·å’Œåº”ç­”ä¿¡å·ï¼Œéƒ½å¯ä»¥ä¸è¦**ã€‚åŒæ—¶æˆ‘ä»¬è¿˜è¦ä»‹ç»å…¶<code>ç©ºé—²çŠ¶æ€ã€æ•°æ®çš„æœ‰æ•ˆæ€§ã€æ•°æ®ä¼ è¾“</code>ã€‚</p><p>IICæ€»çº¿çš„æ—¶åºå›¾ï¼š</p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/iic%E6%97%B6%E5%BA%8F.jpg" alt="iicæ—¶åº"></p><p>ç®€åŒ–äº†çš„æ—¶åºå›¾</p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/start_stop.jpg" alt="start_stop"></p><h2 id="ç©ºé—²çŠ¶æ€"><a href="#ç©ºé—²çŠ¶æ€" class="headerlink" title="ç©ºé—²çŠ¶æ€"></a>ç©ºé—²çŠ¶æ€</h2><p><strong>å½“IICæ€»çº¿çš„æ•°æ®çº¿SDAå’Œæ—¶é’Ÿçº¿SCLä¸¤æ¡ä¿¡å·çº¿åŒæ—¶å¤„äºé«˜ç”µå¹³æ—¶ï¼Œè§„å®šä¸ºæ€»çº¿çš„ç©ºé—²çŠ¶æ€ã€‚</strong>æ­¤æ—¶å„ä¸ªå™¨ä»¶çš„è¾“å‡ºçº§åœºæ•ˆåº”ç®¡å‡å¤„åœ¨æˆªæ­¢çŠ¶æ€ï¼Œå³é‡Šæ”¾æ€»çº¿ï¼Œç”±ä¸¤æ¡ä¿¡å·çº¿å„è‡ªçš„ä¸Šæ‹‰ç”µé˜»æŠŠç”µå¹³æ‹‰é«˜ã€‚ </p><h2 id="èµ·å§‹ä¿¡å·ä¸åœæ­¢ä¿¡å·"><a href="#èµ·å§‹ä¿¡å·ä¸åœæ­¢ä¿¡å·" class="headerlink" title="èµ·å§‹ä¿¡å·ä¸åœæ­¢ä¿¡å·"></a>èµ·å§‹ä¿¡å·ä¸åœæ­¢ä¿¡å·</h2><ul><li><p><strong>èµ·å§‹ä¿¡å·ï¼š</strong>å½“æ—¶é’Ÿçº¿SCLä¸ºé«˜ç”µå¹³æ—¶ï¼Œæ•°æ®çº¿SDAç”±é«˜åˆ°ä½ä½ç”µçš„è·³å˜ï¼›(å¯åŠ¨ä¿¡å·æ˜¯ä¸€ç§ç”µå¹³è·³å˜æ—¶åºä¿¡å·ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç”µå¹³ä¿¡å·)</p></li><li><p><strong>åœæ­¢ä¿¡å·ï¼š</strong>å½“æ—¶é’Ÿçº¿SCLä¸ºé«˜ç”µå¹³æ—¶ï¼Œæ•°æ®çº¿SDAç”±ä½åˆ°é«˜ä½ç”µçš„è·³å˜ï¼›(åœæ­¢ä¿¡å·ä¹Ÿæ˜¯ä¸€ç§ç”µå¹³è·³å˜æ—¶åºä¿¡å·ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç”µå¹³ä¿¡å·)</p></li></ul><h2 id="åº”ç­”ä¿¡å·"><a href="#åº”ç­”ä¿¡å·" class="headerlink" title="åº”ç­”ä¿¡å·"></a>åº”ç­”ä¿¡å·</h2><p>å‘é€å™¨æ¯å‘é€ä¸€ä¸ªå­—èŠ‚ï¼ˆ8ä¸ªbitï¼‰ï¼Œå°±åœ¨æ—¶é’Ÿè„‰å†²9æœŸé—´é‡Šæ”¾æ•°æ®çº¿ï¼Œç”±æ¥æ”¶å™¨åé¦ˆä¸€ä¸ªåº”ç­”ä¿¡å·ã€‚ </p><ul><li><p>åº”ç­”ä¿¡å·ä¸ºä½ç”µå¹³æ—¶ï¼Œè§„å®šä¸ºæœ‰æ•ˆåº”ç­”ä½ï¼ˆACKï¼Œç®€ç§°åº”ç­”ä½ï¼‰ï¼Œè¡¨ç¤ºæ¥æ”¶å™¨å·²ç»æˆåŠŸåœ°æ¥æ”¶äº†è¯¥å­—èŠ‚ï¼›</p></li><li><p>åº”ç­”ä¿¡å·ä¸ºé«˜ç”µå¹³æ—¶ï¼Œè§„å®šä¸ºéåº”ç­”ä½ï¼ˆNACKï¼‰ï¼Œä¸€èˆ¬è¡¨ç¤ºæ¥æ”¶å™¨æ¥æ”¶è¯¥å­—èŠ‚æ²¡æœ‰æˆåŠŸã€‚</p></li></ul><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/ACK.jpg" alt="ACK"></p><p>å¯¹äºåé¦ˆæœ‰æ•ˆåº”ç­”ä½ACKçš„è¦æ±‚æ˜¯ï¼šæ¥æ”¶å™¨åœ¨ç¬¬9ä¸ªæ—¶é’Ÿè„‰å†²ä¹‹å‰çš„ä½ç”µå¹³æœŸé—´å°†æ•°æ®çº¿SDAæ‹‰ä½ï¼Œå¹¶ä¸”ç¡®ä¿åœ¨è¯¥æ—¶é’Ÿçš„é«˜ç”µå¹³æœŸé—´ä¸ºç¨³å®šçš„ä½ç”µå¹³ã€‚ <strong>å¦‚æœæ¥æ”¶å™¨æ˜¯ä¸»æ§å™¨ï¼Œåˆ™åœ¨å®ƒæ”¶åˆ°æœ€åä¸€ä¸ªå­—èŠ‚åï¼Œå‘é€ä¸€ä¸ªNACKä¿¡å·ï¼Œä»¥é€šçŸ¥è¢«æ§å‘é€å™¨ç»“æŸæ•°æ®å‘é€ï¼Œå¹¶é‡Šæ”¾æ•°æ®çº¿SDAï¼Œä»¥ä¾¿ä¸»æ§æ¥æ”¶å™¨å‘é€ä¸€ä¸ªåœæ­¢ä¿¡å·Pã€‚</strong></p><h3 id="æ•°æ®æœ‰æ•ˆæ€§"><a href="#æ•°æ®æœ‰æ•ˆæ€§" class="headerlink" title="æ•°æ®æœ‰æ•ˆæ€§"></a>æ•°æ®æœ‰æ•ˆæ€§</h3><p><strong>IICæ€»çº¿è¿›è¡Œæ•°æ®ä¼ é€æ—¶ï¼Œæ—¶é’Ÿä¿¡å·ä¸ºé«˜ç”µå¹³æœŸé—´ï¼Œæ•°æ®çº¿ä¸Šçš„æ•°æ®å¿…é¡»ä¿æŒç¨³å®šï¼›åªæœ‰åœ¨æ—¶é’Ÿçº¿ä¸Šçš„ä¿¡å·ä¸ºä½ç”µå¹³æœŸé—´ï¼Œæ•°æ®çº¿ä¸Šçš„é«˜ç”µå¹³æˆ–ä½ç”µå¹³çŠ¶æ€æ‰å…è®¸å˜åŒ–ã€‚</strong> </p><p>å³ï¼š<strong>æ•°æ®åœ¨æ—¶é’Ÿçº¿SCLçš„ä¸Šå‡æ²¿åˆ°æ¥ä¹‹å‰å°±éœ€å‡†å¤‡å¥½ã€‚å¹¶åœ¨åœ¨ä¸‹é™æ²¿åˆ°æ¥ä¹‹å‰å¿…é¡»ç¨³å®šã€‚</strong></p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/stable.jpg" alt="stable"></p><h3 id="æ•°æ®çš„ä¼ è¾¾"><a href="#æ•°æ®çš„ä¼ è¾¾" class="headerlink" title="æ•°æ®çš„ä¼ è¾¾"></a>æ•°æ®çš„ä¼ è¾¾</h3><p>åœ¨IICæ€»çº¿ä¸Šä¼ é€çš„æ¯ä¸€ä½æ•°æ®éƒ½æœ‰ä¸€ä¸ªæ—¶é’Ÿè„‰å†²ç›¸å¯¹åº”ï¼ˆæˆ–åŒæ­¥æ§åˆ¶ï¼‰ï¼Œå³åœ¨SCLä¸²è¡Œæ—¶é’Ÿçš„é…åˆä¸‹ï¼Œåœ¨SDAä¸Šé€ä½åœ°ä¸²è¡Œä¼ é€æ¯ä¸€ä½æ•°æ®ã€‚æ•°æ®ä½çš„ä¼ è¾“æ˜¯è¾¹æ²¿è§¦å‘ã€‚</p><h3 id="å»¶æ—¶æ—¶é—´"><a href="#å»¶æ—¶æ—¶é—´" class="headerlink" title="å»¶æ—¶æ—¶é—´"></a>å»¶æ—¶æ—¶é—´</h3><p>å¯ä»¥æŸ¥æ‰‹å†Œï¼Œä¹Ÿå¯ä»¥ç›´æ¥æµè§ˆä¸‹æ–¹å›¾ï¼š</p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/delay_time.jpg" alt="delay_time"></p><h2 id="IICæ€»çº¿çš„æ•°æ®ä¼ é€"><a href="#IICæ€»çº¿çš„æ•°æ®ä¼ é€" class="headerlink" title="IICæ€»çº¿çš„æ•°æ®ä¼ é€"></a>IICæ€»çº¿çš„æ•°æ®ä¼ é€</h2><p><strong>IICæ€»çº¿ä¸Šçš„æ¯ä¸€ä¸ªè®¾å¤‡éƒ½å¯ä»¥ä½œä¸ºä¸»è®¾å¤‡æˆ–è€…ä»è®¾å¤‡ï¼Œè€Œä¸”æ¯ä¸€ä¸ªè®¾å¤‡éƒ½ä¼šå¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„åœ°å€ï¼ˆåœ°å€é€šè¿‡ç‰©ç†æ¥åœ°æˆ–è€…æ‹‰é«˜ï¼‰ï¼Œä¸»ä»è®¾å¤‡ä¹‹é—´å°±é€šè¿‡è¿™ä¸ªåœ°å€æ¥ç¡®å®šä¸å“ªä¸ªå™¨ä»¶è¿›è¡Œé€šä¿¡</strong>ï¼Œåœ¨é€šå¸¸çš„åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬æŠŠCPUå¸¦I2Cæ€»çº¿æ¥å£çš„æ¨¡å—ä½œä¸ºä¸»è®¾å¤‡ï¼ŒæŠŠæŒ‚æ¥åœ¨æ€»çº¿ä¸Šçš„å…¶ä»–è®¾å¤‡éƒ½ä½œä¸ºä»è®¾å¤‡ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>ä¸»è®¾å¤‡åœ¨ä¼ è¾“æœ‰æ•ˆæ•°æ®ä¹‹å‰è¦å…ˆæŒ‡å®šä»è®¾å¤‡çš„åœ°å€ï¼Œåœ°å€æŒ‡å®šçš„è¿‡ç¨‹å’Œä¸Šé¢æ•°æ®ä¼ è¾“çš„è¿‡ç¨‹ä¸€æ ·ï¼Œåªä¸è¿‡å¤§å¤šæ•°ä»è®¾å¤‡çš„åœ°å€æ˜¯7ä½çš„ï¼Œç„¶ååè®®è§„å®šå†ç»™åœ°å€æ·»åŠ ä¸€ä¸ªæœ€ä½ä½ç”¨æ¥è¡¨ç¤ºæ¥ä¸‹æ¥æ•°æ®ä¼ è¾“çš„æ–¹å‘ï¼Œ0è¡¨ç¤ºä¸»è®¾å¤‡å‘ä»è®¾å¤‡å†™æ•°æ®ï¼Œ1è¡¨ç¤ºä¸»è®¾å¤‡å‘ä»è®¾å¤‡è¯»æ•°æ®ã€‚</strong></p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/shixutu.jpg" alt="shixutu"></p><ul><li><strong>ä¸»è®¾å¤‡å¾€ä»è®¾å¤‡ä¸­å†™æ•°æ®ã€‚æ•°æ®ä¼ è¾“æ ¼å¼å¦‚ä¸‹ï¼š</strong></li></ul><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/w_data.jpg" alt="w_data"></p><p>æ·¡è“è‰²éƒ¨åˆ†è¡¨ç¤ºæ•°æ®ç”±ä¸»æœºå‘ä»æœºä¼ é€ï¼Œç²‰çº¢è‰²éƒ¨åˆ†åˆ™è¡¨ç¤ºæ•°æ®ç”±ä»æœºå‘ä¸»æœºä¼ é€ã€‚</p><p><strong>å†™ç”¨0æ¥è¡¨ç¤ºï¼ˆé«˜ç”µå¹³ï¼‰ï¼Œè¯»ç”¨1æ¥è¡¨ç¤ºï¼ˆä½ç”µå¹³ï¼‰ã€‚</strong></p><ul><li><strong>ä¸»è®¾å¤‡ä»ä»è®¾å¤‡ä¸­è¯»æ•°æ®ã€‚æ•°æ®ä¼ è¾“æ ¼å¼å¦‚ä¸‹ï¼š</strong></li></ul><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/r_data.jpg" alt="r_data"></p><p><strong>åœ¨ä»æœºäº§ç”Ÿå“åº”æ—¶ï¼Œä¸»æœºä»å‘é€å˜æˆæ¥æ”¶ï¼Œä»æœºä»æ¥æ”¶å˜æˆå‘é€ã€‚ä¹‹åï¼Œæ•°æ®ç”±ä»æœºå‘é€ï¼Œä¸»æœºæ¥æ”¶ï¼Œæ¯ä¸ªåº”ç­”ç”±ä¸»æœºäº§ç”Ÿï¼Œæ—¶é’Ÿä¿¡å·ä»ç”±ä¸»æœºäº§ç”Ÿã€‚è‹¥ä¸»æœºè¦ç»ˆæ­¢æœ¬æ¬¡ä¼ è¾“ï¼Œåˆ™å‘é€ä¸€ä¸ªéåº”ç­”ä¿¡å·ï¼Œæ¥ç€ä¸»æœºäº§ç”Ÿåœæ­¢æ¡ä»¶ã€‚</strong></p><ul><li>ä¸»è®¾å¤‡å¾€ä»è®¾å¤‡ä¸­å†™æ•°æ®ï¼Œç„¶åé‡å¯èµ·å§‹æ¡ä»¶ï¼Œç´§æ¥ç€ä»ä»è®¾å¤‡ä¸­è¯»å–æ•°æ®ï¼›æˆ–è€…æ˜¯ä¸»è®¾å¤‡ä»ä»è®¾å¤‡ä¸­è¯»æ•°æ®ï¼Œç„¶åé‡å¯èµ·å§‹æ¡ä»¶ï¼Œç´§æ¥ç€ä¸»è®¾å¤‡å¾€ä»è®¾å¤‡ä¸­å†™æ•°æ®ã€‚æ•°æ®ä¼ è¾“æ ¼å¼å¦‚ä¸‹ï¼š</li></ul><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/rw_data.jpg" alt="rw_data"></p><p>åœ¨å¤šä¸»çš„é€šä¿¡ç³»ç»Ÿä¸­ï¼Œæ€»çº¿ä¸Šæœ‰å¤šä¸ªèŠ‚ç‚¹ï¼Œå®ƒä»¬éƒ½æœ‰è‡ªå·±çš„å¯»å€åœ°å€ï¼Œå¯ä»¥ä½œä¸ºä»èŠ‚ç‚¹è¢«åˆ«çš„èŠ‚ç‚¹è®¿é—®ï¼ŒåŒæ—¶å®ƒä»¬éƒ½å¯ä»¥ä½œä¸ºä¸»èŠ‚ç‚¹å‘å…¶å®ƒçš„èŠ‚ç‚¹å‘é€æ§åˆ¶å­—èŠ‚å’Œä¼ é€æ•°æ®ã€‚ä½†æ˜¯å¦‚æœæœ‰ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„èŠ‚ç‚¹éƒ½å‘æ€»çº¿ä¸Šå‘é€å¯åŠ¨ä¿¡å·å¹¶å¼€å§‹ä¼ é€æ•°æ®ï¼Œè¿™æ ·å°±å½¢æˆäº†å†²çªã€‚è¦è§£å†³è¿™ç§å†²çªï¼Œå°±è¦è¿›è¡Œä»²è£çš„åˆ¤å†³ï¼Œè¿™å°±æ˜¯I2Cæ€»çº¿ä¸Šçš„ä»²è£ã€‚</p><p><strong>I2Cæ€»çº¿ä¸Šçš„ä»²è£åˆ†ä¸¤éƒ¨åˆ†ï¼šSCLçº¿çš„åŒæ­¥å’ŒSDAçº¿çš„ä»²è£ã€‚</strong></p><p>è¿™éƒ¨åˆ†å°±æš‚æ—¶ä¸ä»‹ç»äº†ï¼Œæƒ³è¦äº†è§£ï¼šå¯ä»¥å‚è€ƒé“¾æ¥<a href="https://blog.csdn.net/bluewhaletech/article/details/37876111">æµ…è°ˆI2Cæ€»çº¿</a>æˆ–<a href="http://www.cnblogs.com/aaronLinux/p/6218660.html">I2Cæ€»çº¿åè®®å›¾è§£</a>ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> iic </tag>
            
            <tag> æ—¶åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ç‰©è”ç½‘ä¹‹ESP8266NodeMCUï¼ˆäº”ï¼‰</title>
      <link href="/post/e2f4da2.html"/>
      <url>/post/e2f4da2.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ã€ESP8266é—ªå­˜æ–‡ä»¶ç³»ç»ŸåŸºæœ¬æ“ä½œ"><a href="#ä¸€ã€ESP8266é—ªå­˜æ–‡ä»¶ç³»ç»ŸåŸºæœ¬æ“ä½œ" class="headerlink" title="ä¸€ã€ESP8266é—ªå­˜æ–‡ä»¶ç³»ç»ŸåŸºæœ¬æ“ä½œ"></a>ä¸€ã€<a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/spiffs/spiffs-operation/">ESP8266é—ªå­˜æ–‡ä»¶ç³»ç»ŸåŸºæœ¬æ“ä½œ</a></h1><p>å½“æˆ‘ä»¬ä¸Šä¼ ç¨‹åºç»™ESP8266æ—¶ï¼Œæˆ‘ä»¬çš„ç¨‹åºå…·ä½“å­˜æ”¾åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿ</p><p>æ¯ä¸€ä¸ªESP8266éƒ½é…æœ‰ä¸€ä¸ªé—ªå­˜ï¼Œè¿™ä¸ªé—ªå­˜å¾ˆåƒæ˜¯ä¸€ä¸ªå°ç¡¬ç›˜ï¼Œæˆ‘ä»¬ä¸Šä¼ çš„æ–‡ä»¶å°±è¢«å­˜æ”¾åœ¨è¿™ä¸ªé—ªå­˜é‡Œã€‚è¿™ä¸ªé—ªå­˜çš„å…¨ç§°æ˜¯Serial Peripheral Interface Flash File Systemï¼ˆSPIFFSï¼‰ã€‚</p><p>é™¤äº†å¯ä»¥å­˜æ”¾ä¸Šä¼ çš„ç¨‹åºä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†ç½‘é¡µæ–‡ä»¶æˆ–è€…ç³»ç»Ÿé…ç½®æ–‡ä»¶å­˜æ”¾åœ¨ESP8266çš„é—ªå­˜ä¸­ã€‚åœ¨è¿™èŠ‚è¯¾é‡Œï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åˆ©ç”¨ç¨‹åºå¯¹é—ªå­˜æ–‡ä»¶ç³»ç»Ÿï¼ˆSPIFFSï¼‰è¿›è¡Œæ–‡ä»¶è¯»å–å’Œä¿®æ”¹ã€‚</p><h2 id="1ã€é€šè¿‡ç¨‹åºå‘é—ªå­˜æ–‡ä»¶ç³»ç»Ÿå†™å…¥ä¿¡æ¯"><a href="#1ã€é€šè¿‡ç¨‹åºå‘é—ªå­˜æ–‡ä»¶ç³»ç»Ÿå†™å…¥ä¿¡æ¯" class="headerlink" title="1ã€é€šè¿‡ç¨‹åºå‘é—ªå­˜æ–‡ä»¶ç³»ç»Ÿå†™å…¥ä¿¡æ¯"></a>1ã€é€šè¿‡ç¨‹åºå‘é—ªå­˜æ–‡ä»¶ç³»ç»Ÿå†™å…¥ä¿¡æ¯</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**********************************************************************</span></span><br><span class="line"><span class="comment">é¡¹ç›®åç§°/Project           : é›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘</span></span><br><span class="line"><span class="comment">ç¨‹åºåç§°/Program name      : esp8266-flash-write</span></span><br><span class="line"><span class="comment">å›¢é˜Ÿ/Team                 : å¤ªæåˆ›å®¢å›¢é˜Ÿ / Taichi-Maker (www.taichi-maker.com)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç¨‹åºç›®çš„/Purpose           : æ­¤ç¨‹åºç”¨äºæ¼”ç¤ºå¦‚ä½•å‘NodeMCUçš„SPIFFSä¸­å»ºç«‹åä¸º</span></span><br><span class="line"><span class="comment">                            notes.txtçš„æ–‡ä»¶ï¼Œç¨‹åºè¿˜å°†å‘è¯¥æ–‡ä»¶å†™å…¥ä¿¡æ¯ã€‚</span></span><br><span class="line"><span class="comment">-----------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">å‡½æ•°è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">SPIFFS.open(file_name, &quot;w&quot;); </span></span><br><span class="line"><span class="comment">ä»¥ä¸Šå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼š</span></span><br><span class="line"><span class="comment">ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¢«æ“ä½œçš„æ–‡ä»¶åç§°ï¼Œæœ¬ç¤ºä¾‹ä¸­è¯¥æ–‡ä»¶ä¸º/notes.txt</span></span><br><span class="line"><span class="comment">ç¬¬äºŒä¸ªå‚æ•°&quot;w&quot; ä»£è¡¨å†™å…¥æ–‡ä»¶ä¿¡æ¯ã€‚ï¼ˆå¦‚éœ€äº†è§£å¦‚ä½•è¯»å–ä¿¡æ¯ï¼Œè¯·å‚é˜…ç¤ºä¾‹ç¨‹åºesp8266-flash-readï¼‰</span></span><br><span class="line"><span class="comment">***********************************************************************/</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;FS.h&gt;</span>  <span class="comment">//â˜…â˜…â˜…</span></span></span><br><span class="line"> </span><br><span class="line">String file_name = <span class="string">&quot;/taichi-maker/notes.txt&quot;</span>; <span class="comment">//è¢«è¯»å–çš„æ–‡ä»¶ä½ç½®å’Œåç§°â˜…â˜…â˜…</span></span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);</span><br><span class="line">  Serial.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  Serial.println(<span class="string">&quot;SPIFFS format start&quot;</span>);</span><br><span class="line">  SPIFFS.format();    <span class="comment">// æ ¼å¼åŒ–SPIFFSâ˜…â˜…â˜…</span></span><br><span class="line">  Serial.println(<span class="string">&quot;SPIFFS format finish&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(SPIFFS.begin())&#123; <span class="comment">// å¯åŠ¨SPIFFSâ˜…â˜…â˜…</span></span><br><span class="line">    Serial.println(<span class="string">&quot;SPIFFS Started.&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    Serial.println(<span class="string">&quot;SPIFFS Failed to Start.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  File dataFile = SPIFFS.open(file_name, <span class="string">&quot;w&quot;</span>);<span class="comment">// å»ºç«‹Fileå¯¹è±¡ç”¨äºå‘SPIFFSä¸­çš„fileå¯¹è±¡ï¼ˆå³/notes.txtï¼‰å†™å…¥ä¿¡æ¯â˜…â˜…â˜…</span></span><br><span class="line">  dataFile.println(<span class="string">&quot;Hello IOT World.&quot;</span>);       <span class="comment">// å‘dataFileå†™å…¥å­—ç¬¦ä¸²ä¿¡æ¯â˜…â˜…â˜…</span></span><br><span class="line">  dataFile.close();                           <span class="comment">// å®Œæˆæ–‡ä»¶å†™å…¥åå…³é—­æ–‡ä»¶â˜…â˜…â˜…</span></span><br><span class="line">  Serial.println(<span class="string">&quot;Finished Writing data to SPIFFS&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä½¿ç”¨SPIFFSå­˜å‚¨æ–‡ä»¶ä»¥å‰ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨<code>#include &quot;FS.h&quot;</code>,å¦‚ä»¥ä¸Šç¨‹åºç¬¬18è¡Œæ‰€ç¤ºã€‚</p><p>ç¨‹åºç¬¬20è¡Œï¼Œæˆ‘ä»¬å»ºç«‹äº†ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ã€‚è¯¥å˜é‡ç”¨äºå­˜å‚¨æ–‡ä»¶ä½ç½®å’Œæ–‡ä»¶åã€‚å…¶ä¸­<code>/</code>ä»£è¡¨æ ¹ç›®å½•ã€‚<code>/taichi-maker/</code>ä»£è¡¨æ ¹ç›®å½•ä¸‹çš„<code>taichi-maker</code>ç›®å½•ã€‚<code>notes.txt</code>ä»£è¡¨ç€æ–‡ä»¶åç§°ã€‚</p><p>ç¨‹åºç¬¬27è¡Œ<code>SPIFFS.format();</code>æ˜¯å¯¹é—ªå­˜æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œæ ¼å¼åŒ–ã€‚è¿™å¾ˆæƒ³æ˜¯æˆ‘ä»¬å¯¹uç›˜è¿›è¡Œæ ¼å¼åŒ–çš„æ“ä½œã€‚æ‚¨æ— éœ€æ¯æ¬¡ä½¿ç”¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿéƒ½å¯¹å®ƒè¿›è¡Œæ ¼å¼åŒ–æ“ä½œã€‚è¿™é‡Œä»…ä»…æ˜¯ä¸ºäº†æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨<code>SPIFFS.format();</code>ã€‚</p><p>ç¨‹åºç¬¬30è¡Œï¼Œ<code>SPIFFS.begin()</code>ç”¨äºå¯åŠ¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿã€‚åœ¨æ¯æ¬¡ä½¿ç”¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä»¥å‰éƒ½éœ€è¦æ‰§è¡Œè¿™ä¸€æ“ä½œã€‚å¦‚æœé—ªå­˜æ–‡ä»¶ç³»ç»ŸæˆåŠŸå¯åŠ¨ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼ä¸ºå¸ƒå°”å‹ï¼Œå¦‚æœæˆåŠŸå¯åŠ¨é—ªå­˜æ–‡ä»¶å½¢åŒï¼Œåˆ™è¿”å›çœŸã€‚å¦åˆ™å°†è¿”å›å‡ã€‚</p><p>ç¨‹åºç¬¬36è¡Œï¼Œ<code>File dataFile = SPIFFS.open(file_name, &quot;w&quot;);</code>è¿™æ¡è¯­å¥ä¸­ï¼Œopenå‡½æ•°å¯ç”¨äºå¯¹SPIFFSè¿›è¡Œæ“ä½œã€‚è¯¥å‡½æ•°å…±æœ‰ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°<code>file_name</code>æ˜¯è¢«æ“ä½œçš„æ–‡ä»¶åç§°ï¼Œæœ¬ç¤ºä¾‹ä¸­è¯¥æ–‡ä»¶ä¸º&#x2F;taichi-maker&#x2F;notes.txt<br>ç¬¬äºŒä¸ªå‚æ•°<code>&quot;w&quot;</code>ä»£è¡¨æ­¤æ“ä½œä¸ºå‘SPIFFSå†™å…¥æ–‡ä»¶ä¿¡æ¯ã€‚è¯·æ³¨æ„ï¼šå¦‚æœæ–‡ä»¶ç³»ç»Ÿæ²¡æœ‰&#x2F;taichi-maker&#x2F;notes.txtæ–‡ä»¶ï¼Œæ­¤æ“ä½œå°†ä¼šåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­å»ºç«‹è¯¥æ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶ç³»ç»Ÿæœ‰è¯¥æ–‡ä»¶ï¼Œåˆ™ç¨‹åºå°†ä¼šé‡æ–°å»ºç«‹è¯¥æ–‡ä»¶ï¼Œå³åŸæœ‰æ–‡ä»¶ä¿¡æ¯å°†ä¼šè¢«è¦†ç›–ã€‚</p><p>ç¨‹åºç¬¬37è¡Œ<code>dataFile.println(&quot;Hello IOT World.&quot;);</code>ç”¨äºå‘dataFileæ–‡ä»¶å†™å…¥ä¿¡æ¯ã€‚ä¿¡æ¯å†…å®¹ä¸ºâ€œHello IOT World.â€ã€‚</p><p>ç¨‹åºç¬¬38è¡Œ<code>dataFile.close();</code>ç”¨äºå…³é—­dataFileæ–‡ä»¶ã€‚ç»“æŸæ–‡ä»¶æ“ä½œåï¼Œåº”æ‰§è¡Œæ­¤æ“ä½œã€‚</p><h2 id="2ã€é€šè¿‡ç¨‹åºä»é—ªå­˜æ–‡ä»¶ç³»ç»Ÿè¯»å–ä¿¡æ¯"><a href="#2ã€é€šè¿‡ç¨‹åºä»é—ªå­˜æ–‡ä»¶ç³»ç»Ÿè¯»å–ä¿¡æ¯" class="headerlink" title="2ã€é€šè¿‡ç¨‹åºä»é—ªå­˜æ–‡ä»¶ç³»ç»Ÿè¯»å–ä¿¡æ¯"></a>2ã€é€šè¿‡ç¨‹åºä»é—ªå­˜æ–‡ä»¶ç³»ç»Ÿè¯»å–ä¿¡æ¯</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**********************************************************************</span></span><br><span class="line"><span class="comment">é¡¹ç›®åç§°/Project           : é›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘</span></span><br><span class="line"><span class="comment">ç¨‹åºåç§°/Program name      : esp8266-flash-read</span></span><br><span class="line"><span class="comment">å›¢é˜Ÿ/Team                 : å¤ªæåˆ›å®¢å›¢é˜Ÿ / Taichi-Maker (www.taichi-maker.com)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç¨‹åºç›®çš„/Purpose           : æ­¤ç¨‹åºç”¨äºæ¼”ç¤ºå¦‚ä½•ä»NodeMCUçš„å†…ç½®SPIFFSä¸­å­˜å‚¨çš„æ–‡ä»¶notes.txtè¯»å–æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment">                           notes.txt æ–‡ä»¶å†…å®¹å°†ä¼šé€šè¿‡ä¸²å£ç›‘è§†å™¨æ˜¾ç¤ºå‡ºæ¥ä¾›ç”¨æˆ·ç¡®è®¤ã€‚</span></span><br><span class="line"><span class="comment">                           æ³¨æ„åœ¨ä½¿ç”¨æœ¬ç¨‹åºä»¥å‰éœ€è¦å…ˆå°†notes.txt æ–‡ä»¶ä¸Šä¼ åˆ°NodeMCUå¼€å‘æ¿çš„SPIFFSä¸­</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">-----------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">å‡½æ•°è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">SPIFFS.open(file_name, &quot;r&quot;); </span></span><br><span class="line"><span class="comment">ä»¥ä¸ŠSPIFFSå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼š</span></span><br><span class="line"><span class="comment">ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¢«æ“ä½œçš„æ–‡ä»¶åç§°ï¼Œæœ¬ç¤ºä¾‹ä¸­è¯¥æ–‡ä»¶ä¸º/notes.txt</span></span><br><span class="line"><span class="comment">ç¬¬äºŒä¸ªå‚æ•°&quot;r&quot; ä»£è¡¨è¯»å–æ–‡ä»¶ä¿¡æ¯ã€‚ï¼ˆå¦‚éœ€äº†è§£å¦‚ä½•å†™å…¥ä¿¡æ¯ï¼Œè¯·å‚é˜…ç¤ºä¾‹ç¨‹åºesp8266-flash-writeï¼‰</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">***********************************************************************/</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;FS.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line">String file_name = <span class="string">&quot;/taichi-maker/notes.txt&quot;</span>;              <span class="comment">//è¢«è¯»å–çš„æ–‡ä»¶ä½ç½®å’Œåç§°</span></span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);</span><br><span class="line">  Serial.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(SPIFFS.begin())&#123; <span class="comment">// å¯åŠ¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">    Serial.println(<span class="string">&quot;SPIFFS Started.&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    Serial.println(<span class="string">&quot;SPIFFS Failed to Start.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//ç¡®è®¤é—ªå­˜ä¸­æ˜¯å¦æœ‰file_nameæ–‡ä»¶â˜…â˜…â˜…</span></span><br><span class="line">  <span class="keyword">if</span> (SPIFFS.exists(file_name))&#123;</span><br><span class="line">    Serial.print(file_name);</span><br><span class="line">    Serial.println(<span class="string">&quot; FOUND.&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    Serial.print(file_name);</span><br><span class="line">    Serial.print(<span class="string">&quot; NOT FOUND.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//å»ºç«‹Fileå¯¹è±¡ç”¨äºä»SPIFFSä¸­è¯»å–æ–‡ä»¶â˜…â˜…â˜…</span></span><br><span class="line">  File dataFile = SPIFFS.open(file_name, <span class="string">&quot;r&quot;</span>); </span><br><span class="line"> </span><br><span class="line">  <span class="comment">//è¯»å–æ–‡ä»¶å†…å®¹å¹¶ä¸”é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºæ–‡ä»¶ä¿¡æ¯â˜…â˜…â˜…</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;dataFile.size(); i++)&#123;</span><br><span class="line">    Serial.print((<span class="type">char</span>)dataFile.read());       </span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//å®Œæˆæ–‡ä»¶è¯»å–åå…³é—­æ–‡ä»¶</span></span><br><span class="line">  dataFile.close();                           </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šç¨‹åºç¬¬36è¡Œï¼Œ<code>SPIFFS.exists(file_name)</code>ç”¨äºæ£€æŸ¥é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¸­æœ‰file_nameæ–‡ä»¶ï¼ˆæ³¨ï¼šfile_nameå˜é‡å…·ä½“ä¿¡æ¯åœ¨æœ¬ç¨‹åºç¬¬23è¡Œï¼‰ã€‚è¯¥å‡½æ•°è¿”å›å€¼ä¸ºå¸ƒå°”å‹ã€‚å¦‚æœæ–‡ä»¶å­˜åœ¨åˆ™è¿”å›çœŸï¼Œå¦åˆ™å°†è¿”å›å‡ã€‚</p><p>ä»¥ä¸Šç¨‹åºç¬¬45è¡Œï¼Œ<code>File dataFile = SPIFFS.open(file_name, &quot;r&quot;);</code>è¿™æ¡è¯­å¥ä¸­ï¼Œopenå‡½æ•°å¯ç”¨äºå¯¹SPIFFSè¿›è¡Œæ“ä½œã€‚è¯¥å‡½æ•°å…±æœ‰ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°<code>file_name</code>æ˜¯è¢«æ“ä½œçš„æ–‡ä»¶åç§°ï¼Œæœ¬ç¤ºä¾‹ä¸­è¯¥æ–‡ä»¶ä¸º&#x2F;taichi-maker&#x2F;notes.txt<br>ç¬¬äºŒä¸ªå‚æ•°<code>&quot;r&quot;</code>ä»£è¡¨æ­¤æ“ä½œä¸ºè¯»å–æ–‡ä»¶ä¿¡æ¯ã€‚</p><p>ä»¥ä¸Šç¨‹åºç¬¬48è¡Œçš„forå¾ªç¯è¯­å¥ä¸­ï¼Œå¾ªç¯æ¡ä»¶ä½¿ç”¨äº†å‡½æ•°<code>dataFile.size()</code>ã€‚è¯¥å‡½æ•°å°†ä¼šè¿”å›dataFileçš„å¤§å°ã€‚å¾ªç¯è¯­å¥ä½“ä¸­ï¼Œ<code>dataFile.read()</code>å°†ä¼šè¯»å–dataFileæ–‡ä»¶å†…å®¹ã€‚æ¯è°ƒç”¨ä¸€æ¬¡è¯¥å«ç¨éƒ½ä¼šè¿”å›dataFileæ–‡ä»¶ä¸­ä¸€ä¸ªå­—ç¬¦ã€‚å†æ¬¡è°ƒç”¨ï¼Œå°†ä¼šè¿”å›ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°dataFileç»“å°¾ã€‚é€šè¿‡forå¾ªç¯è¯­å¥ï¼Œç¨‹åºå°†ä¼šä¾æ¬¡è¯»å–dataFileæ–‡ä»¶å†…å®¹ï¼Œå¹¶ä¸”å°†æ–‡ä»¶å†…å®¹é€å­—ç¬¦è¾“å‡ºäºä¸²å£ç›‘è§†å™¨ä¸­ã€‚</p><h2 id="3ã€é€šè¿‡ç¨‹åºå‘é—ªå­˜æ–‡ä»¶ç³»ç»Ÿæ–‡ä»¶æ·»åŠ ä¿¡æ¯"><a href="#3ã€é€šè¿‡ç¨‹åºå‘é—ªå­˜æ–‡ä»¶ç³»ç»Ÿæ–‡ä»¶æ·»åŠ ä¿¡æ¯" class="headerlink" title="3ã€é€šè¿‡ç¨‹åºå‘é—ªå­˜æ–‡ä»¶ç³»ç»Ÿæ–‡ä»¶æ·»åŠ ä¿¡æ¯"></a>3ã€é€šè¿‡ç¨‹åºå‘é—ªå­˜æ–‡ä»¶ç³»ç»Ÿæ–‡ä»¶æ·»åŠ ä¿¡æ¯</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**********************************************************************</span></span><br><span class="line"><span class="comment">é¡¹ç›®åç§°/Project           : é›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘</span></span><br><span class="line"><span class="comment">ç¨‹åºåç§°/Program name      : esp8266-flash-append</span></span><br><span class="line"><span class="comment">å›¢é˜Ÿ/Team                 : å¤ªæåˆ›å®¢å›¢é˜Ÿ / Taichi-Maker (www.taichi-maker.com)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç¨‹åºç›®çš„/Purpose           : æ­¤ç¨‹åºç”¨äºæ¼”ç¤ºå¦‚ä½•å‘NodeMCUçš„å†…ç½®SPIFFSä¸­å­˜å‚¨çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">                            notes.txtæ·»åŠ æ•°æ®ã€‚                      </span></span><br><span class="line"><span class="comment">-----------------------------------------------------------------------  </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">å‡½æ•°è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">SPIFFS.open(file_name, &quot;a&quot;); </span></span><br><span class="line"><span class="comment">ä»¥ä¸ŠSPIFFSå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼š</span></span><br><span class="line"><span class="comment">ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¢«æ“ä½œçš„æ–‡ä»¶åç§°ï¼Œæœ¬ç¤ºä¾‹ä¸­è¯¥æ–‡ä»¶ä¸º/notes.txt</span></span><br><span class="line"><span class="comment">ç¬¬äºŒä¸ªå‚æ•°&quot;a&quot; ä»£è¡¨æ·»åŠ æ–‡ä»¶ä¿¡æ¯ã€‚ï¼ˆå¦‚éœ€äº†è§£å¦‚ä½•è¯»å–ä¿¡æ¯ï¼Œè¯·å‚é˜…ç¤ºä¾‹ç¨‹åºesp8266-flash-readï¼‰</span></span><br><span class="line"><span class="comment">æ­¤ç¤ºä¾‹ç¨‹åºæ‰€æ¼”ç¤ºçš„æ˜¯å‘SPIFFSä¸­çš„æ–‡ä»¶é‡Œæ·»åŠ ä¿¡æ¯ã€‚è¿™ä¸€æ“ä½œå†™å…¥ä¿¡æ¯æœ‰æ‰€åŒºåˆ«ã€‚</span></span><br><span class="line"><span class="comment">æ·»åŠ ä¿¡æ¯æ˜¯ä¸ä¼šåˆ é™¤æ–‡ä»¶å†…åŸæœ‰ä¿¡æ¯ï¼Œè€Œæ˜¯åœ¨åŸæœ‰ä¿¡æ¯åé¢æ·»åŠ æ–°çš„ä¿¡æ¯ã€‚</span></span><br><span class="line"><span class="comment">ä½†å†™å…¥æ“ä½œï¼ˆç¤ºä¾‹ esp8266-flash-write.inoï¼‰æ˜¯å°†æ–‡ä»¶å†…å®¹å®Œå…¨æ¸…é™¤ï¼Œé‡æ–°å†™å…¥æ–°ä¿¡æ¯ã€‚    </span></span><br><span class="line"><span class="comment">***********************************************************************/</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;FS.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line">String file_name = <span class="string">&quot;/taichi-maker/notes.txt&quot;</span>;              <span class="comment">//è¢«è¯»å–çš„æ–‡ä»¶ä½ç½®å’Œåç§°</span></span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);</span><br><span class="line">  Serial.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(SPIFFS.begin())&#123; <span class="comment">// å¯åŠ¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">    Serial.println(<span class="string">&quot;SPIFFS Started.&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    Serial.println(<span class="string">&quot;SPIFFS Failed to Start.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//ç¡®è®¤é—ªå­˜ä¸­æ˜¯å¦æœ‰file_nameæ–‡ä»¶</span></span><br><span class="line">  <span class="keyword">if</span> (SPIFFS.exists(file_name))&#123;</span><br><span class="line">    </span><br><span class="line">    Serial.print(file_name);</span><br><span class="line">    Serial.println(<span class="string">&quot; FOUND.&quot;</span>);</span><br><span class="line"> </span><br><span class="line">    File dataFile = SPIFFS.open(file_name, <span class="string">&quot;a&quot;</span>);<span class="comment">// å»ºç«‹Fileå¯¹è±¡ç”¨äºå‘SPIFFSä¸­çš„fileå¯¹è±¡ï¼ˆå³/notes.txtï¼‰å†™å…¥ä¿¡æ¯â˜…â˜…â˜…</span></span><br><span class="line">    dataFile.println(<span class="string">&quot;This is Appended Info.&quot;</span>); <span class="comment">// å‘dataFileæ·»åŠ å­—ç¬¦ä¸²ä¿¡æ¯â˜…â˜…â˜…</span></span><br><span class="line">    dataFile.close();                           <span class="comment">// å®Œæˆæ–‡ä»¶æ“ä½œåå…³é—­æ–‡ä»¶â˜…â˜…â˜…   </span></span><br><span class="line">    Serial.println(<span class="string">&quot;Finished Appending data to SPIFFS&quot;</span>);</span><br><span class="line">    </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    Serial.print(file_name);</span><br><span class="line">    Serial.print(<span class="string">&quot; NOT FOUND.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">                        </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä»¥ä¸Šç¨‹åºçš„ç¬¬40è¡Œé‡Œï¼Œ<code>File dataFile = SPIFFS.open(file_name, &quot;a&quot;);</code>è¿™æ¡è¯­å¥ä¸­ï¼Œopenå‡½æ•°å¯ç”¨äºå¯¹SPIFFSè¿›è¡Œæ“ä½œã€‚è¯¥å‡½æ•°å…±æœ‰ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°<code>file_name</code>æ˜¯è¢«æ“ä½œçš„æ–‡ä»¶åç§°,ç¬¬äºŒä¸ªå‚æ•°<code>&quot;a&quot;</code>ä»£è¡¨å‘è¯¥æ–‡ä»¶æ·»åŠ ä¿¡æ¯ã€‚è¯·ç•™æ„ï¼Œæ­¤å¤„çš„æ·»åŠ ä¿¡æ¯æ˜¯ä¸ä¼šåˆ é™¤æ–‡ä»¶å†…åŸæœ‰ä¿¡æ¯ï¼Œè€Œæ˜¯åœ¨åŸæœ‰ä¿¡æ¯åé¢æ·»åŠ æ–°çš„ä¿¡æ¯ã€‚è¿™ä¸ä½†å†™å…¥æ“ä½œæ˜¯æœ‰æ‰€åŒºåˆ«çš„ã€‚å†™å…¥æ“ä½œæ˜¯å°†æ–‡ä»¶å†…å®¹å®Œå…¨æ¸…é™¤ï¼Œé‡æ–°å†™å…¥æ–°ä¿¡æ¯ã€‚<br>,<br>ç¨‹åºçš„ç¬¬41è¡Œï¼Œ<code>dataFile.println(&quot;This is Appended Info.&quot;)</code>ï¼Œæ­¤è¯­å¥ä½œç”¨å°†ä¼šå‘dataFileæ–‡ä»¶å°¾éƒ¨æ·»åŠ åŒå¼•å·ä¸­çš„ä¿¡æ¯å†…å®¹ï¼Œä¹Ÿå°±æ˜¯åœ¨æ–‡ä»¶å°¾éƒ¨æ·»åŠ â€œThis is Appended Info.â€ã€‚</p><h2 id="4ã€é€šè¿‡ç¨‹åºè¯»å–ç›®å½•å†…å®¹"><a href="#4ã€é€šè¿‡ç¨‹åºè¯»å–ç›®å½•å†…å®¹" class="headerlink" title="4ã€é€šè¿‡ç¨‹åºè¯»å–ç›®å½•å†…å®¹"></a>4ã€é€šè¿‡ç¨‹åºè¯»å–ç›®å½•å†…å®¹</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**********************************************************************</span></span><br><span class="line"><span class="comment">é¡¹ç›®åç§°/Project           : é›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘</span></span><br><span class="line"><span class="comment">ç¨‹åºåç§°/Program name      : esp8266-flash-folder-read</span></span><br><span class="line"><span class="comment">å›¢é˜Ÿ/Team                 : å¤ªæåˆ›å®¢å›¢é˜Ÿ / Taichi-Maker (www.taichi-maker.com)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç¨‹åºç›®çš„/Purpose           : æ­¤ç¨‹åºç”¨äºæ¼”ç¤ºå¦‚ä½•ä»NodeMCUçš„å†…ç½®SPIFFSä¸­æ–‡ä»¶å¤¹é‡Œè¯»å–æ–‡ä»¶ä¿¡æ¯</span></span><br><span class="line"><span class="comment">                           æ–‡ä»¶å¤¹å†…å®¹å°†ä¼šé€šè¿‡ä¸²å£ç›‘è§†å™¨æ˜¾ç¤ºå‡ºæ¥ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">-----------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">å‡½æ•°è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">SPIFFS.openDir(folder_name);</span></span><br><span class="line"><span class="comment">ä»¥ä¸Šå‡½æ•°æ‰“å¼€æŒ‡å®šç›®å½•å¹¶è¿”å›ä¸€ä¸ªç›®å½•å¯¹è±¡å®ä¾‹ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">***********************************************************************/</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;FS.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line">String file_name = <span class="string">&quot;/taichi-maker/myFile.txt&quot;</span>; <span class="comment">//è¢«è¯»å–çš„æ–‡ä»¶ä½ç½®å’Œåç§°</span></span><br><span class="line">String folder_name = <span class="string">&quot;/taichi-maker&quot;</span>;         <span class="comment">//è¢«è¯»å–çš„æ–‡ä»¶å¤¹â˜…â˜…â˜…</span></span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);</span><br><span class="line">  Serial.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(SPIFFS.begin())&#123; <span class="comment">// å¯åŠ¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">    Serial.println(<span class="string">&quot;SPIFFS Started.&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    Serial.println(<span class="string">&quot;SPIFFS Failed to Start.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  File dataFile = SPIFFS.open(file_name, <span class="string">&quot;w&quot;</span>);<span class="comment">// å»ºç«‹Fileå¯¹è±¡ç”¨äºå‘SPIFFSä¸­çš„fileå¯¹è±¡ï¼ˆå³myFile.txtï¼‰å†™å…¥ä¿¡æ¯</span></span><br><span class="line">  dataFile.println(<span class="string">&quot;Hello Taichi-Maker.&quot;</span>);    <span class="comment">// å‘dataFileå†™å…¥å­—ç¬¦ä¸²ä¿¡æ¯</span></span><br><span class="line">  dataFile.close();                           <span class="comment">// å®Œæˆæ–‡ä»¶å†™å…¥åå…³é—­æ–‡ä»¶</span></span><br><span class="line">  Serial.println(F(<span class="string">&quot;Finished Writing data to SPIFFS&quot;</span>));</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// æ˜¾ç¤ºç›®å½•ä¸­æ–‡ä»¶å†…å®¹ä»¥åŠæ–‡ä»¶å¤§å°</span></span><br><span class="line">  Dir dir = SPIFFS.openDir(folder_name);  <span class="comment">// å»ºç«‹â€œç›®å½•â€å¯¹è±¡â˜…â˜…â˜…</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">while</span> (dir.next()) &#123;  <span class="comment">// dir.next()ç”¨äºæ£€æŸ¥ç›®å½•ä¸­æ˜¯å¦è¿˜æœ‰â€œä¸‹ä¸€ä¸ªæ–‡ä»¶â€â˜…â˜…â˜…</span></span><br><span class="line">    Serial.println(dir.fileName()); <span class="comment">// è¾“å‡ºæ–‡ä»¶åâ˜…â˜…â˜…</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ¬ç¨‹åºç¬¬23è¡Œå»ºç«‹äº†ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ã€‚è¯¥å˜é‡ç”¨äºå­˜å‚¨æ–‡ä»¶å¤¹åã€‚å…¶ä¸­<code>/</code>ä»£è¡¨æ ¹ç›®å½•ã€‚<code>/taichi-maker/</code>ä»£è¡¨æ ¹ç›®å½•ä¸‹çš„<code>taichi-maker</code>ç›®å½•ã€‚</p><p>æœ¬ç¨‹åºç¬¬41è¡Œ<code>SPIFFS.openDir(folder_name)</code>ä¸­çš„openDirå‡½æ•°å‡½å°†è¿”å›ä¸€ä¸ªâ€œç›®å½•â€å¯¹è±¡å¹¶ä¸”èµ‹å€¼ç»™dirã€‚æ­¤â€ç›®å½•â€å¯¹è±¡æ­£æ˜¯folder_nameæ‰€å­˜å‚¨çš„<code>/taichi-maker/</code>ç›®å½•ã€‚åç»­ç¨‹åºå¯¹dirçš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯é’ˆå¯¹<code>/taichi-maker/</code>æ‰€æ‰§è¡Œçš„ã€‚</p><p>æœ¬ç¨‹åºç¬¬43è¡Œwhileå¾ªç¯è¯­å¥çš„å¾ªç¯æ¡ä»¶æ˜¯<code>dir.next()</code>çš„è¿”å›å€¼ã€‚<code>dir.next()</code>å‡½æ•°ç”¨äºæ£€æŸ¥diræ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥æƒ³è±¡diræ–‡ä»¶å¤¹é‡Œæœ‰ä¸€ä¸ªæŒ‡é’ˆï¼Œæ¯ä¸€æ¬¡è°ƒç”¨nextå‡½æ•°éƒ½ä¼šè®©æŒ‡é’ˆå‘ä¸‹æŒªåŠ¨ä¸€æ ¼ã€‚æ¯ä¸€æ¬¡æŒªåŠ¨ä¸€æ ¼ï¼Œå¦‚æœä¸‹ä¸€ä¸ªä½ç½®æœ‰æ–‡ä»¶ï¼Œåˆ™è¿”å›çœŸã€‚å¦åˆ™å°†ä¼šè¿”å›å‡ã€‚å› æ­¤ï¼Œ<code>while (dir.next())</code>å¾ªç¯è¯­å¥ä¸­çš„å†…å®¹ä¼šä¾æ¬¡æ˜¾ç¤ºdiræ–‡ä»¶å¤¹ä¸­çš„æ¯ä¸€ä¸ªæ–‡ä»¶çš„æ–‡ä»¶åã€‚</p><h2 id="5ã€ä»é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¸­åˆ é™¤æ–‡ä»¶"><a href="#5ã€ä»é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¸­åˆ é™¤æ–‡ä»¶" class="headerlink" title="5ã€ä»é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¸­åˆ é™¤æ–‡ä»¶"></a>5ã€ä»é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¸­åˆ é™¤æ–‡ä»¶</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**********************************************************************</span></span><br><span class="line"><span class="comment">é¡¹ç›®åç§°/Project           : é›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘</span></span><br><span class="line"><span class="comment">ç¨‹åºåç§°/Program name      : esp8266-flash-remove</span></span><br><span class="line"><span class="comment">å›¢é˜Ÿ/Team                 : å¤ªæåˆ›å®¢å›¢é˜Ÿ / Taichi-Maker (www.taichi-maker.com)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç¨‹åºç›®çš„/Purpose           : æ­¤ç¨‹åºç”¨äºæ¼”ç¤ºå¦‚ä½•åˆ é™¤SPIFFSä¸­å­˜å‚¨çš„æ–‡ä»¶       </span></span><br><span class="line"><span class="comment">***********************************************************************/</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;FS.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line">String file_name = <span class="string">&quot;/taichi-maker/notes.txt&quot;</span>;              <span class="comment">//è¢«è¯»å–çš„æ–‡ä»¶ä½ç½®å’Œåç§°</span></span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);</span><br><span class="line">  Serial.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(SPIFFS.begin())&#123; <span class="comment">// å¯åŠ¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">    Serial.println(<span class="string">&quot;SPIFFS Started.&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    Serial.println(<span class="string">&quot;SPIFFS Failed to Start.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//ä»é—ªå­˜ä¸­åˆ é™¤file_nameæ–‡ä»¶â˜…â˜…â˜…</span></span><br><span class="line">  <span class="keyword">if</span> (SPIFFS.remove(file_name))&#123;</span><br><span class="line">    </span><br><span class="line">    Serial.print(file_name);</span><br><span class="line">    Serial.println(<span class="string">&quot; remove sucess&quot;</span>);</span><br><span class="line">    </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    Serial.print(file_name);</span><br><span class="line">    Serial.println(<span class="string">&quot; remove fail&quot;</span>);</span><br><span class="line">  &#125;                       </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šç¨‹åºä¸­ç¬¬25è¡Œï¼Œé€šè¿‡ä½¿ç”¨<code>SPIFFS.remove(file_name)</code>å°†<code>file_name</code>æ‰€æŒ‡ä»£çš„æ–‡ä»¶è¿›è¡Œäº†åˆ é™¤æ“ä½œã€‚å¦å¤–ï¼Œ<code>SPIFFS.remove(file_name)</code>çš„è¿”å›å€¼ä¸ºå¸ƒå°”å‹ã€‚å¦‚æœæ–‡ä»¶åˆ é™¤æ‰§è¡ŒæˆåŠŸåˆ™è¿”å›çœŸï¼Œå¦åˆ™è¿”å›å‡ã€‚</p><h2 id="6ã€æ˜¾ç¤ºé—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯"><a href="#6ã€æ˜¾ç¤ºé—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯" class="headerlink" title="6ã€æ˜¾ç¤ºé—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯"></a>6ã€æ˜¾ç¤ºé—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**********************************************************************</span></span><br><span class="line"><span class="comment">é¡¹ç›®åç§°/Project           : é›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘</span></span><br><span class="line"><span class="comment">ç¨‹åºåç§°/Program name      : esp8266-flash-info</span></span><br><span class="line"><span class="comment">å›¢é˜Ÿ/Team                 : å¤ªæåˆ›å®¢å›¢é˜Ÿ / Taichi-Maker (www.taichi-maker.com)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç¨‹åºç›®çš„/Purpose           : æ­¤ç¨‹åºç”¨äºæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨FSInfoå¯¹è±¡æ¥æ˜¾ç¤ºé—ªå­˜æ–‡ä»¶ç³»ç»ŸçŠ¶æ€</span></span><br><span class="line"><span class="comment">-----------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">***********************************************************************/</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;FS.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line">FSInfo fs_info;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);</span><br><span class="line"> </span><br><span class="line">  SPIFFS.begin();       <span class="comment">//å¯åŠ¨SPIFFS</span></span><br><span class="line">  Serial.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  Serial.println(<span class="string">&quot;SPIFFS Started.&quot;</span>);</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯</span></span><br><span class="line">  SPIFFS.info(fs_info);</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// å¯ç”¨ç©ºé—´æ€»å’Œï¼ˆå•ä½ï¼šå­—èŠ‚ï¼‰</span></span><br><span class="line">  Serial.print(<span class="string">&quot;totalBytes: &quot;</span>);     </span><br><span class="line">  Serial.print(fs_info.totalBytes); </span><br><span class="line">  Serial.println(<span class="string">&quot; Bytes&quot;</span>); </span><br><span class="line"> </span><br><span class="line">  <span class="comment">// å·²ç”¨ç©ºé—´ï¼ˆå•ä½ï¼šå­—èŠ‚ï¼‰</span></span><br><span class="line">  Serial.print(<span class="string">&quot;usedBytes: &quot;</span>); </span><br><span class="line">  Serial.print(fs_info.usedBytes);</span><br><span class="line">  Serial.println(<span class="string">&quot; Bytes&quot;</span>); </span><br><span class="line"> </span><br><span class="line">  <span class="comment">// æœ€å¤§æ–‡ä»¶åå­—ç¬¦é™åˆ¶ï¼ˆå«è·¯å¾„å’Œ&#x27;\0&#x27;ï¼‰</span></span><br><span class="line">  Serial.print(<span class="string">&quot;maxPathLength: &quot;</span>); </span><br><span class="line">  Serial.println(fs_info.maxPathLength);</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// æœ€å¤šå…è®¸æ‰“å¼€æ–‡ä»¶æ•°é‡</span></span><br><span class="line">  Serial.print(<span class="string">&quot;maxOpenFiles: &quot;</span>); </span><br><span class="line">  Serial.println(fs_info.maxOpenFiles);</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// å­˜å‚¨å—å¤§å°</span></span><br><span class="line">  Serial.print(<span class="string">&quot;blockSize: &quot;</span>); </span><br><span class="line">  Serial.println(fs_info.blockSize);</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// å­˜å‚¨é¡µå¤§å°</span></span><br><span class="line">  Serial.print(<span class="string">&quot;pageSize: &quot;</span>);</span><br><span class="line">  Serial.println(fs_info.pageSize);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šç¨‹åºç¬¬16è¡Œè¯­å¥<code>FSInfo fs_info;</code>å»ºç«‹äº†FSInfo å¯¹è±¡ï¼Œç”¨äºå­˜å‚¨é—ªå­˜çŠ¶æ€ä¿¡æ¯ã€‚</p><p>ä»¥ä¸Šç¨‹åºç¬¬26è¡Œè¯­å¥<code>SPIFFS.info(fs_info);</code>ã€‚é€šè¿‡infoå‡½æ•°å°†é—ªå­˜çŠ¶æ€ä¿¡æ¯èµ‹ç»™fs_infoã€‚åç»­çš„ç¨‹åºä¸­ï¼Œé€šè¿‡ä¸€ç³»åˆ—è¯­å¥å°†é—ªå­˜çŠ¶æ€ä¿¡æ¯é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºã€‚å…·ä½“ä¿¡æ¯å†…å®¹å¯å‚è€ƒç¨‹åºæ³¨é‡Šéƒ¨åˆ†ã€‚</p><p>ä»¥ä¸Šæ˜¯å…³äºESP8266é—ªå­˜æ–‡ä»¶ç³»ç»Ÿçš„å¸¸ç”¨åŠŸèƒ½ä»‹ç»ã€‚å…³äºESP8266é—ªå­˜æ–‡ä»¶ç³»ç»Ÿçš„æ›´å¤šæ“ä½œä»‹ç»ï¼Œè¯·å‚è€ƒArduino ESP8266å®˜æ–¹é¡µé¢ä¸­çš„ä»‹ç»éƒ¨åˆ†ã€‚è¯¥é¡µé¢å¯ç‚¹å‡»ä»¥ä¸‹é“¾æ¥å‰å¾€ã€‚</p><p><a href="https://arduino-esp8266.readthedocs.io/en/latest/filesystem.html">https://arduino-esp8266.readthedocs.io/en/latest/filesystem.html</a></p><h1 id="äºŒã€é€šè¿‡Arduino-IDEå‘é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¸Šä¼ æ–‡ä»¶"><a href="#äºŒã€é€šè¿‡Arduino-IDEå‘é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¸Šä¼ æ–‡ä»¶" class="headerlink" title="äºŒã€é€šè¿‡Arduino IDEå‘é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¸Šä¼ æ–‡ä»¶"></a>äºŒã€<a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/spiffs/upload-files/">é€šè¿‡Arduino IDEå‘é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¸Šä¼ æ–‡ä»¶</a></h1><h2 id="1ã€ä¸‹è½½-Arduino-ESP8266é—ªå­˜æ–‡ä»¶æ’ä»¶ç¨‹åº"><a href="#1ã€ä¸‹è½½-Arduino-ESP8266é—ªå­˜æ–‡ä»¶æ’ä»¶ç¨‹åº" class="headerlink" title="1ã€ä¸‹è½½ Arduino-ESP8266é—ªå­˜æ–‡ä»¶æ’ä»¶ç¨‹åº"></a>1ã€ä¸‹è½½ Arduino-ESP8266é—ªå­˜æ–‡ä»¶æ’ä»¶ç¨‹åº</h2><p>æ‚¨æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥ä¸‹è½½è¯¥æ’ä»¶ç¨‹åºã€‚</p><p><strong>ç¬¬ä¸€ç§</strong>æ–¹æ³•æ˜¯é€šè¿‡<a href="https://github.com/esp8266/arduino-esp8266fs-plugin/releases">ç‚¹å‡»æ­¤é“¾æ¥è¿›å…¥ Arduino-ESP8266å®˜æ–¹GitHubé¡µé¢ä¸‹è½½</a>ã€‚è¯¦æƒ…è¯·è§ä»¥ä¸‹æˆªå›¾ï¼š</p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/esp8266fs-download.jpg" alt="esp8266fsä¸‹è½½é¡µé¢"></p><p>ç”±äºGitHubç½‘ç«™æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œæœ‰äº›æœ‹å‹ç™»å½•è¯¥ç½‘ç«™ä¼šæœ‰äº›å›°éš¾ã€‚å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œé‚£ä¹ˆæ‚¨ä¹Ÿå¯ä»¥<a href="http://www.taichi-maker.com/homepage/download/#esp8266fs">ç‚¹å‡»æ­¤é“¾æ¥è¿›å…¥å¤ªæåˆ›å®¢ç½‘ç«™ä¸‹è½½é¡µé¢å»ä¸‹è½½è¯¥æ’ä»¶</a>ã€‚</p><h2 id="2ã€ç¡®å®šArduino-IDEé¡¹ç›®æ–‡ä»¶å¤¹ä½ç½®"><a href="#2ã€ç¡®å®šArduino-IDEé¡¹ç›®æ–‡ä»¶å¤¹ä½ç½®" class="headerlink" title="2ã€ç¡®å®šArduino IDEé¡¹ç›®æ–‡ä»¶å¤¹ä½ç½®"></a>2ã€ç¡®å®šArduino IDEé¡¹ç›®æ–‡ä»¶å¤¹ä½ç½®</h2><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/Arduino-ide-preferences.jpg" alt="Arduino-ide-é¦–é€‰é¡¹èœå•é¡¹"></p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/Arduino-Project-Folder.jpg" alt="Arduino-IDE-é¡¹ç›®æ–‡ä»¶å¤¹ä½ç½®"></p><h2 id="3ã€é€šè¿‡èµ„æºç®¡ç†å™¨æ‰“å¼€Arduino-IDEé¡¹ç›®æ–‡ä»¶å¤¹å¹¶å»ºç«‹toolsæ–‡ä»¶å¤¹"><a href="#3ã€é€šè¿‡èµ„æºç®¡ç†å™¨æ‰“å¼€Arduino-IDEé¡¹ç›®æ–‡ä»¶å¤¹å¹¶å»ºç«‹toolsæ–‡ä»¶å¤¹" class="headerlink" title="3ã€é€šè¿‡èµ„æºç®¡ç†å™¨æ‰“å¼€Arduino IDEé¡¹ç›®æ–‡ä»¶å¤¹å¹¶å»ºç«‹toolsæ–‡ä»¶å¤¹"></a>3ã€é€šè¿‡èµ„æºç®¡ç†å™¨æ‰“å¼€Arduino IDEé¡¹ç›®æ–‡ä»¶å¤¹å¹¶å»ºç«‹toolsæ–‡ä»¶å¤¹</h2><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/esp8266fs-tools-folder.jpg" alt="åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­å»ºç«‹åç§°ä¸ºtoolsçš„æ–‡ä»¶å¤¹"></p><h2 id="4ã€è§£å‹ç¼©esp8266fsæ’ä»¶å‹ç¼©åŒ…ï¼Œå¹¶å°†è§£å‹ç¼©åçš„æ–‡ä»¶å†…å®¹ç²˜è´´åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸­"><a href="#4ã€è§£å‹ç¼©esp8266fsæ’ä»¶å‹ç¼©åŒ…ï¼Œå¹¶å°†è§£å‹ç¼©åçš„æ–‡ä»¶å†…å®¹ç²˜è´´åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸­" class="headerlink" title="4ã€è§£å‹ç¼©esp8266fsæ’ä»¶å‹ç¼©åŒ…ï¼Œå¹¶å°†è§£å‹ç¼©åçš„æ–‡ä»¶å†…å®¹ç²˜è´´åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸­"></a>4ã€è§£å‹ç¼©esp8266fsæ’ä»¶å‹ç¼©åŒ…ï¼Œå¹¶å°†è§£å‹ç¼©åçš„æ–‡ä»¶å†…å®¹ç²˜è´´åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸­</h2><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/esp8266fs-unzip.jpg" alt="esp8266fsè§£å‹ç¼©"></p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/esp8266fs-unzipped.jpg" alt="è§£å‹ç¼©åå¯æ‰¾åˆ°esp8266fsæ–‡ä»¶å¤¹"></p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/esp8266fs-paste.jpg" alt="å°†esp8266fsæ–‡ä»¶å¤¹ç²˜è´´åˆ°toolsæ–‡ä»¶å¤¹é‡Œ"></p><h2 id="5ã€é‡æ–°å¯åŠ¨Arduino-IDE"><a href="#5ã€é‡æ–°å¯åŠ¨Arduino-IDE" class="headerlink" title="5ã€é‡æ–°å¯åŠ¨Arduino IDE"></a>5ã€é‡æ–°å¯åŠ¨Arduino IDE</h2><h2 id="æ£€æŸ¥â€œå·¥å…·â€èœå•ç¡®è®¤æ’ä»¶å®‰è£…"><a href="#æ£€æŸ¥â€œå·¥å…·â€èœå•ç¡®è®¤æ’ä»¶å®‰è£…" class="headerlink" title="æ£€æŸ¥â€œå·¥å…·â€èœå•ç¡®è®¤æ’ä»¶å®‰è£…"></a>æ£€æŸ¥â€œå·¥å…·â€èœå•ç¡®è®¤æ’ä»¶å®‰è£…</h2><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/esp8266-data-upload-menu.jpg" alt="ESP8266 data upload èœå•é¡¹"></p><h2 id="6ã€æ ¹æ®ä¸Šä¼ çš„æ–‡ä»¶æ€»å¤§å°æ¥è®¾ç½®é—ªå­˜å¤§å°"><a href="#6ã€æ ¹æ®ä¸Šä¼ çš„æ–‡ä»¶æ€»å¤§å°æ¥è®¾ç½®é—ªå­˜å¤§å°" class="headerlink" title="6ã€æ ¹æ®ä¸Šä¼ çš„æ–‡ä»¶æ€»å¤§å°æ¥è®¾ç½®é—ªå­˜å¤§å°"></a>6ã€æ ¹æ®ä¸Šä¼ çš„æ–‡ä»¶æ€»å¤§å°æ¥è®¾ç½®é—ªå­˜å¤§å°</h2><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/esp8266-flash-size-settings.jpg" alt="è®¾ç½®esp8266é—ªå­˜å¤§å°"></p><h2 id="7ã€å°†éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åœ¨ç¨‹åºè·¯å¾„ä¸‹çš„dataæ–‡ä»¶å¤¹ä¸­"><a href="#7ã€å°†éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åœ¨ç¨‹åºè·¯å¾„ä¸‹çš„dataæ–‡ä»¶å¤¹ä¸­" class="headerlink" title="7ã€å°†éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åœ¨ç¨‹åºè·¯å¾„ä¸‹çš„dataæ–‡ä»¶å¤¹ä¸­"></a>7ã€å°†éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åœ¨ç¨‹åºè·¯å¾„ä¸‹çš„dataæ–‡ä»¶å¤¹ä¸­</h2><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/esp8266-flash-data-storage.jpg" alt="å°†éœ€è¦ä¸Šä¼ åˆ°esp8266é—ªå­˜æ–‡ä»¶ç³»ç»Ÿçš„æ–‡ä»¶ä¿å­˜åœ¨dataç›®å½•ä¸­"></p><h2 id="8ã€å°†éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åœ¨ç¨‹åºè·¯å¾„ä¸‹çš„dataæ–‡ä»¶å¤¹ä¸­"><a href="#8ã€å°†éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åœ¨ç¨‹åºè·¯å¾„ä¸‹çš„dataæ–‡ä»¶å¤¹ä¸­" class="headerlink" title="8ã€å°†éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åœ¨ç¨‹åºè·¯å¾„ä¸‹çš„dataæ–‡ä»¶å¤¹ä¸­"></a>8ã€å°†éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åœ¨ç¨‹åºè·¯å¾„ä¸‹çš„dataæ–‡ä»¶å¤¹ä¸­</h2><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/esp8266-flash-data-upload.jpg" alt="é€šè¿‡ESP8266 Sketch Data Uploadå¯ä»¥å°†dataæ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶ä¸Šä¼ "></p><p>å‡å¦‚æ‚¨ä¸ç¡®å®šå…·ä½“æ–‡ä»¶å¦‚ä½•å­˜å‚¨ï¼Œè¯·ç‚¹å‡»ä»¥ä¸‹é“¾æ¥ä¸‹è½½ç¤ºä¾‹ç¨‹åºå‹ç¼©åŒ…ã€‚<br><a href="http://www.taichi-maker.com/wp-content/uploads/2020/02/esp8266-data-upload.zip">æ–‡ä»¶ä¸Šä¼ ç¤ºä¾‹ç¨‹åº</a></p><h1 id="ä¸‰ã€ä½¿ç”¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿå»ºç«‹åŠŸèƒ½ä¸°å¯Œçš„ç½‘ç»œæœåŠ¡å™¨"><a href="#ä¸‰ã€ä½¿ç”¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿå»ºç«‹åŠŸèƒ½ä¸°å¯Œçš„ç½‘ç»œæœåŠ¡å™¨" class="headerlink" title="ä¸‰ã€ä½¿ç”¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿå»ºç«‹åŠŸèƒ½ä¸°å¯Œçš„ç½‘ç»œæœåŠ¡å™¨"></a>ä¸‰ã€<a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/spiffs/spiffs-web-server/">ä½¿ç”¨é—ªå­˜æ–‡ä»¶ç³»ç»Ÿå»ºç«‹åŠŸèƒ½ä¸°å¯Œçš„ç½‘ç»œæœåŠ¡å™¨</a></h1><p>æŒæ¡äº†å¦‚ä½•å‘ESP8266å¼€å‘æ¿çš„é—ªå­˜æ–‡ä»¶ä¸Šä¼ æ–‡ä»¶ï¼Œæˆ‘ä»¬å°±æœ‰äº†æ›´å¤šçš„ç©ºé—´æ¥å­˜å‚¨æ›´åŠ ä¸°å¯Œçš„ç½‘é¡µèµ„æºï¼Œä»è€Œè®©æˆ‘ä»¬å®ç°åŠŸèƒ½æ›´åŠ ä¸°å¯Œçš„ç‰©è”ç½‘é¡¹ç›®ã€‚</p><p>æœ¬èŠ‚æ•™ç¨‹é‡Œï¼Œæˆ‘ä»¬å°†å‘æ‚¨ä»‹ç»ä¸€ç³»åˆ—ESP8266å¼€å‘æ¿æ­å»ºçš„ç½‘é¡µæœåŠ¡ç¤ºä¾‹ã€‚é€šè¿‡è¿™äº›ç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥é€šè¿‡ç‰©è”ç½‘æ§åˆ¶ESP8266å¼€å‘æ¿çš„å¼•è„šä»¥åŠè·å–å¼•è„šçŠ¶æ€ã€‚è¿™äº›ç¤ºä¾‹çš„åŠŸèƒ½ç›¸å¯¹å•ä¸€ï¼Œè¿™æ˜¯å› ä¸ºè¿™äº›ç¤ºä¾‹çš„ç›®çš„æ˜¯ä¸ºæ‚¨æä¾›é¡¹ç›®æ­å»ºçš„å¯å‘ã€‚åœ¨åç»­çš„æ•™ç¨‹ä¸­é‡Œï¼Œæˆ‘ä»¬å’Œä¸ºæ‚¨æä¾›ä¸€ç³»åˆ—å®Œæ•´çš„ç‰©è”ç½‘é¡¹ç›®ç¤ºä¾‹ï¼Œä¾›æ‚¨å­¦ä¹ å‚è€ƒã€‚</p><ul><li><h2 id="åœ¨ç½‘é¡µä¸­åŠ è½½é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¸­çš„å›¾ç‰‡ã€CSSå’ŒJavaScript"><a href="#åœ¨ç½‘é¡µä¸­åŠ è½½é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¸­çš„å›¾ç‰‡ã€CSSå’ŒJavaScript" class="headerlink" title="åœ¨ç½‘é¡µä¸­åŠ è½½é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¸­çš„å›¾ç‰‡ã€CSSå’ŒJavaScript"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/spiffs/spiffs-web-server/load-imagecsss-javascript/">åœ¨ç½‘é¡µä¸­åŠ è½½é—ªå­˜æ–‡ä»¶ç³»ç»Ÿä¸­çš„å›¾ç‰‡ã€CSSå’ŒJavaScript</a></h2></li><li><h2 id="é€šè¿‡ç½‘é¡µæ§åˆ¶ESP8266å¼€å‘æ¿çš„å¼•è„š"><a href="#é€šè¿‡ç½‘é¡µæ§åˆ¶ESP8266å¼€å‘æ¿çš„å¼•è„š" class="headerlink" title="é€šè¿‡ç½‘é¡µæ§åˆ¶ESP8266å¼€å‘æ¿çš„å¼•è„š"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/spiffs/spiffs-web-server/esp8266-pin-control/">é€šè¿‡ç½‘é¡µæ§åˆ¶ESP8266å¼€å‘æ¿çš„å¼•è„š</a></h2></li><li><h2 id="é€šè¿‡ç½‘é¡µæ–‡æœ¬æ¡†æ§åˆ¶ESP8266å¼€å‘æ¿çš„PWMå¼•è„š"><a href="#é€šè¿‡ç½‘é¡µæ–‡æœ¬æ¡†æ§åˆ¶ESP8266å¼€å‘æ¿çš„PWMå¼•è„š" class="headerlink" title="é€šè¿‡ç½‘é¡µæ–‡æœ¬æ¡†æ§åˆ¶ESP8266å¼€å‘æ¿çš„PWMå¼•è„š"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/spiffs/spiffs-web-server/text-pwm-pin-control/">é€šè¿‡ç½‘é¡µæ–‡æœ¬æ¡†æ§åˆ¶ESP8266å¼€å‘æ¿çš„PWMå¼•è„š</a></h2></li><li><h2 id="Ajax-æ§åˆ¶LEDå¼•è„šå¹¶å°†A0å¼•è„šè¯»æ•°å®æ—¶æ˜¾ç¤ºäºç½‘é¡µä¸­"><a href="#Ajax-æ§åˆ¶LEDå¼•è„šå¹¶å°†A0å¼•è„šè¯»æ•°å®æ—¶æ˜¾ç¤ºäºç½‘é¡µä¸­" class="headerlink" title="(Ajax)æ§åˆ¶LEDå¼•è„šå¹¶å°†A0å¼•è„šè¯»æ•°å®æ—¶æ˜¾ç¤ºäºç½‘é¡µä¸­"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/spiffs/spiffs-web-server/a0-pin-control/">(Ajax)æ§åˆ¶LEDå¼•è„šå¹¶å°†A0å¼•è„šè¯»æ•°å®æ—¶æ˜¾ç¤ºäºç½‘é¡µä¸­</a></h2></li><li><h2 id="JavaScript-é€šè¿‡ç½‘é¡µå›¾å½¢ç•Œé¢æ§åˆ¶ESP8266çš„PWMå¼•è„š"><a href="#JavaScript-é€šè¿‡ç½‘é¡µå›¾å½¢ç•Œé¢æ§åˆ¶ESP8266çš„PWMå¼•è„š" class="headerlink" title="(JavaScript)é€šè¿‡ç½‘é¡µå›¾å½¢ç•Œé¢æ§åˆ¶ESP8266çš„PWMå¼•è„š"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/spiffs/spiffs-web-server/javascript-know-pwm-control/">(JavaScript)é€šè¿‡ç½‘é¡µå›¾å½¢ç•Œé¢æ§åˆ¶ESP8266çš„PWMå¼•è„š</a></h2></li><li><h2 id="JavaScript-ä½¿ç”¨æŒ‡é’ˆè¡¨æ˜¾ç¤ºæ¨¡æ‹Ÿè¾“å…¥å¼•è„šæ•°å€¼"><a href="#JavaScript-ä½¿ç”¨æŒ‡é’ˆè¡¨æ˜¾ç¤ºæ¨¡æ‹Ÿè¾“å…¥å¼•è„šæ•°å€¼" class="headerlink" title="(JavaScript)ä½¿ç”¨æŒ‡é’ˆè¡¨æ˜¾ç¤ºæ¨¡æ‹Ÿè¾“å…¥å¼•è„šæ•°å€¼"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/spiffs/spiffs-web-server/javascript-analog-input-gauge/">(JavaScript)ä½¿ç”¨æŒ‡é’ˆè¡¨æ˜¾ç¤ºæ¨¡æ‹Ÿè¾“å…¥å¼•è„šæ•°å€¼</a></h2></li><li><h2 id="é€šè¿‡ç½‘é¡µå°†æ–‡ä»¶ä¸Šä¼ åˆ°ESP8266å¼€å‘æ¿é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ"><a href="#é€šè¿‡ç½‘é¡µå°†æ–‡ä»¶ä¸Šä¼ åˆ°ESP8266å¼€å‘æ¿é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="é€šè¿‡ç½‘é¡µå°†æ–‡ä»¶ä¸Šä¼ åˆ°ESP8266å¼€å‘æ¿é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/spiffs/spiffs-web-server/file-upload-server/">é€šè¿‡ç½‘é¡µå°†æ–‡ä»¶ä¸Šä¼ åˆ°ESP8266å¼€å‘æ¿é—ªå­˜æ–‡ä»¶ç³»ç»Ÿ</a></h2></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> esp8266 </tag>
            
            <tag> ç‰©è”ç½‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ç‰©è”ç½‘ä¹‹ESP8266NodeMCUï¼ˆå››ï¼‰</title>
      <link href="/post/84438cc6.html"/>
      <url>/post/84438cc6.html</url>
      
        <content type="html"><![CDATA[<h1 id="å»ºç«‹åŸºæœ¬ç½‘ç»œæœåŠ¡å™¨"><a href="#å»ºç«‹åŸºæœ¬ç½‘ç»œæœåŠ¡å™¨" class="headerlink" title="å»ºç«‹åŸºæœ¬ç½‘ç»œæœåŠ¡å™¨"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/esp8266-nodemcu-web-server/web-server/">å»ºç«‹åŸºæœ¬ç½‘ç»œæœåŠ¡å™¨</a></h1><p>ç½‘ç»œæœåŠ¡æ˜¯ä¸€ä¸ªå¾ˆå®½æ³›çš„æ¦‚å¿µï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå³å°†ç»™æ‚¨ä»‹ç»çš„æ˜¯ç½‘ç»œæœåŠ¡ä¸­çš„ç½‘é¡µæœåŠ¡åŠŸèƒ½ã€‚æ‰€è°“<strong>ç½‘é¡µæœåŠ¡</strong>å°±æ˜¯ä¸“é—¨ç”¨äºç½‘é¡µæµè§ˆçš„æœåŠ¡ã€‚è¿™ä¸ªæ“ä½œæˆ‘ç›¸ä¿¡æ‰€æœ‰çœ‹åˆ°è¿™ç¯‡æ•™ç¨‹çš„æœ‹å‹ä»¬éƒ½ä½¿ç”¨è¿‡ï¼Œå› ä¸ºæ‚¨ç°åœ¨æ­£é˜…è¯»çš„è¿™ç¯‡æ•™ç¨‹å°±æ˜¯é€šè¿‡ç½‘é¡µæœåŠ¡ä¼ è¾“åˆ°æ‚¨é¢å‰çš„ã€‚</p><p>ä¸ºäº†èƒ½å¤Ÿåº”ä»˜æ¥è‡ªå…¨ä¸–ç•Œçš„æœ‹å‹ä»¬å¤§é‡è®¿é—®ï¼Œç½‘ç«™æœåŠ¡å™¨æ˜¯ä¸€å°è¿ç®—èƒ½åŠ›å¾ˆå¼ºçš„è®¡ç®—æœºã€‚å‡å¦‚è¿™ä¸ªç½‘ç«™åªæœ‰æ‚¨è‡ªå·±è®¿é—®ï¼Œé‚£ä¹ˆESP8266-NodeMCUå°±è¶³å¤Ÿäº†ã€‚ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ç¨‹åºå¯ä»¥è®©ESP8266-NodeMCUå®ç°æœ€åŸºæœ¬çš„ç½‘é¡µæœåŠ¡åŠŸèƒ½ã€‚è¯·å…ˆå°†è¿™æ®µç¤ºä¾‹ç¨‹åºå¤åˆ¶å¹¶ä¸”ä¸Šä¼ NodeMCUã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**********************************************************************</span></span><br><span class="line"><span class="comment">é¡¹ç›®åç§°/Project          : é›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘</span></span><br><span class="line"><span class="comment">ç¨‹åºåç§°/Program name     : 3_2_1_First_Web_Server</span></span><br><span class="line"><span class="comment">å›¢é˜Ÿ/Team                : å¤ªæåˆ›å®¢å›¢é˜Ÿ / Taichi-Maker (www.taichi-maker.com)</span></span><br><span class="line"><span class="comment">ç¨‹åºç›®çš„/Purpose          : ä½¿ç”¨NodeMCUå»ºç«‹åŸºæœ¬æœåŠ¡å™¨ã€‚ç”¨æˆ·å¯é€šè¿‡æµè§ˆå™¨ä½¿ç”¨8266çš„IPåœ°å€</span></span><br><span class="line"><span class="comment">                           è®¿é—®8266æ‰€å»ºç«‹çš„åŸºæœ¬ç½‘é¡µï¼ˆHello from ESP8266ï¼‰</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">***********************************************************************/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WiFi.h&gt;</span>        <span class="comment">// æœ¬ç¨‹åºä½¿ç”¨ ESP8266WiFiåº“</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WiFiMulti.h&gt;</span>   <span class="comment">//  ESP8266WiFiMultiåº“</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WebServer.h&gt;</span>   <span class="comment">//  ESP8266WebServeråº“</span></span></span><br><span class="line"> </span><br><span class="line">ESP8266WiFiMulti wifiMulti;     <span class="comment">// å»ºç«‹ESP8266WiFiMultiå¯¹è±¡,å¯¹è±¡åç§°æ˜¯&#x27;wifiMulti&#x27;</span></span><br><span class="line"> </span><br><span class="line">ESP8266WebServer <span class="title function_">esp8266_server</span><span class="params">(<span class="number">80</span>)</span>;<span class="comment">// å»ºç«‹ESP8266WebServerå¯¹è±¡ï¼Œå¯¹è±¡åç§°ä¸ºesp8266_server</span></span><br><span class="line">                                    <span class="comment">// æ‹¬å·ä¸­çš„æ•°å­—æ˜¯ç½‘è·¯æœåŠ¡å™¨å“åº”httpè¯·æ±‚çš„ç«¯å£å·</span></span><br><span class="line">                                    <span class="comment">// ç½‘ç»œæœåŠ¡å™¨æ ‡å‡†httpç«¯å£å·ä¸º80ï¼Œå› æ­¤è¿™é‡Œä½¿ç”¨80ä¸ºç«¯å£å·</span></span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);          <span class="comment">// å¯åŠ¨ä¸²å£é€šè®¯</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//é€šè¿‡addApå‡½æ•°å­˜å‚¨  WiFiåç§°       WiFiå¯†ç </span></span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;taichi-maker&quot;</span>, <span class="string">&quot;12345678&quot;</span>);  <span class="comment">// è¿™ä¸‰æ¡è¯­å¥é€šè¿‡è°ƒç”¨å‡½æ•°addAPæ¥è®°å½•3ä¸ªä¸åŒçš„WiFiç½‘ç»œä¿¡æ¯ã€‚</span></span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;taichi-maker2&quot;</span>, <span class="string">&quot;87654321&quot;</span>); <span class="comment">// è¿™3ä¸ªWiFiç½‘ç»œåç§°åˆ†åˆ«æ˜¯taichi-maker, taichi-maker2, taichi-maker3ã€‚</span></span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;taichi-maker3&quot;</span>, <span class="string">&quot;13572468&quot;</span>); <span class="comment">// è¿™3ä¸ªç½‘ç»œçš„å¯†ç åˆ†åˆ«æ˜¯123456789ï¼Œ87654321ï¼Œ13572468ã€‚</span></span><br><span class="line">                                                <span class="comment">// æ­¤å¤„WiFiä¿¡æ¯åªæ˜¯ç¤ºä¾‹ï¼Œè¯·åœ¨ä½¿ç”¨æ—¶å°†éœ€è¦è¿æ¥çš„WiFiä¿¡æ¯å¡«å…¥ç›¸åº”ä½ç½®ã€‚</span></span><br><span class="line">                                                <span class="comment">// å¦å¤–è¿™é‡Œåªå­˜å‚¨äº†3ä¸ªWiFiä¿¡æ¯ï¼Œæ‚¨å¯ä»¥å­˜å‚¨æ›´å¤šçš„WiFiä¿¡æ¯åœ¨æ­¤å¤„ã€‚</span></span><br><span class="line"> </span><br><span class="line">  <span class="type">int</span> i = <span class="number">0</span>;                                 </span><br><span class="line">  <span class="keyword">while</span> (wifiMulti.run() != WL_CONNECTED) &#123;  <span class="comment">// æ­¤å¤„çš„wifiMulti.run()æ˜¯é‡ç‚¹ã€‚é€šè¿‡wifiMulti.run()ï¼ŒNodeMCUå°†ä¼šåœ¨å½“å‰</span></span><br><span class="line">    delay(<span class="number">1000</span>);                             <span class="comment">// ç¯å¢ƒä¸­æœç´¢addAPå‡½æ•°æ‰€å­˜å‚¨çš„WiFiã€‚å¦‚æœæœåˆ°å¤šä¸ªå­˜å‚¨çš„WiFié‚£ä¹ˆNodeMCU</span></span><br><span class="line">    Serial.print(i++); Serial.print(<span class="string">&#x27; &#x27;</span>);    <span class="comment">// å°†ä¼šè¿æ¥ä¿¡å·æœ€å¼ºçš„é‚£ä¸€ä¸ªWiFiä¿¡å·ã€‚</span></span><br><span class="line">  &#125;                                          <span class="comment">// ä¸€æ—¦è¿æ¥WiFIæˆåŠŸï¼ŒwifiMulti.run()å°†ä¼šè¿”å›â€œWL_CONNECTEDâ€ã€‚è¿™ä¹Ÿæ˜¯</span></span><br><span class="line">                                             <span class="comment">// æ­¤å¤„whileå¾ªç¯åˆ¤æ–­æ˜¯å¦è·³å‡ºå¾ªç¯çš„æ¡ä»¶ã€‚</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">// WiFiè¿æ¥æˆåŠŸåå°†é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºè¿æ¥æˆåŠŸä¿¡æ¯ </span></span><br><span class="line">  Serial.println(<span class="string">&#x27;\n&#x27;</span>);                     <span class="comment">// WiFiè¿æ¥æˆåŠŸå</span></span><br><span class="line">  Serial.print(<span class="string">&quot;Connected to &quot;</span>);            <span class="comment">// NodeMCUå°†é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºã€‚</span></span><br><span class="line">  Serial.println(WiFi.SSID());              <span class="comment">// è¿æ¥çš„WiFIåç§°</span></span><br><span class="line">  Serial.print(<span class="string">&quot;IP address:\t&quot;</span>);            <span class="comment">// ä»¥åŠ</span></span><br><span class="line">  Serial.println(WiFi.localIP());           <span class="comment">// NodeMCUçš„IPåœ°å€</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//--------&quot;å¯åŠ¨ç½‘ç»œæœåŠ¡åŠŸèƒ½&quot;ç¨‹åºéƒ¨åˆ†å¼€å§‹-------- //  æ­¤éƒ¨åˆ†ä¸ºç¨‹åºä¸ºæœ¬ç¤ºä¾‹ç¨‹åºé‡ç‚¹1</span></span><br><span class="line">  esp8266_server.begin();                   <span class="comment">//  è¯¦ç»†è®²è§£è¯·å‚è§å¤ªæåˆ›å®¢ç½‘ç«™ã€Šé›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘ã€‹</span></span><br><span class="line">  esp8266_server.on(<span class="string">&quot;/&quot;</span>, handleRoot);       <span class="comment">//  ç¬¬3ç« -ç¬¬2èŠ‚ ESP8266-NodeMCUç½‘ç»œæœåŠ¡å™¨-1</span></span><br><span class="line">  esp8266_server.onNotFound(handleNotFound);        </span><br><span class="line"><span class="comment">//--------&quot;å¯åŠ¨ç½‘ç»œæœåŠ¡åŠŸèƒ½&quot;ç¨‹åºéƒ¨åˆ†ç»“æŸ--------</span></span><br><span class="line">  Serial.println(<span class="string">&quot;HTTP esp8266_server started&quot;</span>);<span class="comment">//  å‘ŠçŸ¥ç”¨æˆ·ESP8266ç½‘ç»œæœåŠ¡åŠŸèƒ½å·²ç»å¯åŠ¨</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/* ä»¥ä¸‹å‡½æ•°è¯­å¥ä¸ºæœ¬ç¤ºä¾‹ç¨‹åºé‡ç‚¹3</span></span><br><span class="line"><span class="comment">è¯¦ç»†è®²è§£è¯·å‚è§å¤ªæåˆ›å®¢ç½‘ç«™ã€Šé›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘ã€‹</span></span><br><span class="line"><span class="comment">ç¬¬3ç« -ç¬¬2èŠ‚ 3_2_1_First_Web_Server çš„è¯´æ˜è®²è§£*/</span>  </span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">  esp8266_server.handleClient();     <span class="comment">// å¤„ç†httpæœåŠ¡å™¨è®¿é—®</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/* ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°ä¸ºæœ¬ç¤ºä¾‹ç¨‹åºé‡ç‚¹2</span></span><br><span class="line"><span class="comment">è¯¦ç»†è®²è§£è¯·å‚è§å¤ªæåˆ›å®¢ç½‘ç«™ã€Šé›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘ã€‹</span></span><br><span class="line"><span class="comment">ç¬¬3ç« -ç¬¬2èŠ‚ 3_2_1_First_Web_Server çš„è¯´æ˜è®²è§£*/</span>                                                                            </span><br><span class="line"><span class="type">void</span> <span class="title function_">handleRoot</span><span class="params">()</span> &#123;   <span class="comment">//å¤„ç†ç½‘ç«™æ ¹ç›®å½•â€œ/â€çš„è®¿é—®è¯·æ±‚ </span></span><br><span class="line">  esp8266_server.send(<span class="number">200</span>, <span class="string">&quot;text/plain&quot;</span>, <span class="string">&quot;Hello from ESP8266&quot;</span>);   <span class="comment">// NodeMCUå°†è°ƒç”¨æ­¤å‡½æ•°ã€‚ </span></span><br><span class="line">&#125;<span class="comment">//è¿™ä¸ªç½‘ç«™åªæœ‰ä¸€ä¸ªç½‘é¡µã€‚ä¸”ç½‘é¡µåªæœ‰ä¸€è¡Œæ–‡å­—â€œHello from ESP8266â€ã€‚</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// è®¾ç½®å¤„ç†404æƒ…å†µçš„å‡½æ•°&#x27;handleNotFound&#x27;</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">handleNotFound</span><span class="params">()</span>&#123;                                        <span class="comment">// å½“æµè§ˆå™¨è¯·æ±‚çš„ç½‘ç»œèµ„æºæ— æ³•åœ¨æœåŠ¡å™¨æ‰¾åˆ°æ—¶ï¼Œ</span></span><br><span class="line">  esp8266_server.send(<span class="number">404</span>, <span class="string">&quot;text/plain&quot;</span>, <span class="string">&quot;404: Not found&quot;</span>);   <span class="comment">// NodeMCUå°†è°ƒç”¨æ­¤å‡½æ•°ã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šä¼ ç»™NodeMCUï¼Œå¯åŠ¨NodeMCUå¹¶ä¸”ç¡®ä¿å®ƒå·²ç»æˆåŠŸè¿æ¥WiFi, æ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨åœ°å€æ ä¸­è¾“å…¥NodeMCUçš„IPåœ°å€å¹¶æŒ‰ä¸‹å›è½¦ã€‚</p><p>å‡å¦‚å°†åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°â€œHello from ESP8266â€(å¦‚ä¸‹æ‰€ç¤ºï¼‰ï¼Œé‚£ä¹ˆæ­å–œæ‚¨å·²ç»æˆåŠŸçš„è®©NodeMCUå®ç°äº†ç½‘ç»œæœåŠ¡åŠŸèƒ½ï¼Œå› ä¸ºæ‚¨æ‰€çœ‹åˆ°çš„è¿™æ¡æ–‡å­—ä¿¡æ¯æ­£æ˜¯æ¥è‡ªäºNodeMCUã€‚æ¢å¥è¯è¯´ï¼ŒNodeMCUä¸ºæ‚¨å»ºç«‹äº†ä¸€ä¸ªè¶…çº§è¿·ä½ çš„å°ç½‘ç«™ã€‚</p><p>é¦–å…ˆè®²è§£ç¤ºä¾‹ç¨‹åºçš„ç¬¬1ä¸ªé‡ç‚¹å†…å®¹ï¼š<strong>â€å¯åŠ¨ç½‘ç»œæœåŠ¡åŠŸèƒ½â€œç¨‹åºéƒ¨åˆ†</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">esp8266_server.begin();             </span><br><span class="line">esp8266_server.on(<span class="string">&quot;/&quot;</span>, handleRoot);      </span><br><span class="line">esp8266_server.onNotFound(handleNotFound); </span><br></pre></td></tr></table></figure><p>ç¨‹åºç¬¬ä¸€å¥<code>esp8266_server.begin()</code>ä½¿ç”¨äº†ESP8266WebServeråº“ä¸­çš„<code>begin</code>å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯è®©ESP8266-NodeMCUæ¥å¯åŠ¨ç½‘ç»œæœåŠ¡åŠŸèƒ½ã€‚è¯¥å‡½æ•°æ— éœ€ä»»ä½•å‚æ•°ã€‚</p><p>æ¥ä¸‹æ¥çš„çš„è¯­å¥<code>esp8266_server.on(&quot;/&quot;, handleRoot)</code>ç›¸å¯¹å¤æ‚ä¸€äº›ã€‚è¿™æ¡è¯­å¥è°ƒç”¨äº†ESP8266WebServeråº“ä¸­çš„<code>on</code>å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„ä½œç”¨æ˜¯<strong>æŒ‡æŒ¥NodeMCUæ¥å¦‚ä½•å¤„ç†æµè§ˆå™¨çš„httpè¯·æ±‚</strong>ã€‚æˆ‘ä»¬çœ‹åˆ°<code>on</code>å‡½æ•°ä¸€å…±æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²â€&#x2F;â€ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°çš„åç§°handleRootã€‚è¿™ä¸ªhandleRootå‡½æ•°çš„å…·ä½“å†…å®¹ï¼Œæˆ‘åé¢ä¼šç»™æ‚¨åšè¯¦ç»†è®²è§£ã€‚ç°åœ¨è¯·æ‚¨ç•™æ„<code>on</code>å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²â€&#x2F;â€ï¼Œå¦ä¸€ä¸ªæ˜¯å‡½æ•°åhandleRootã€‚</p><p>ä¸‹é¢æˆ‘æ¥ç»™æ‚¨ä»”ç»†è§£é‡Šä¸€ä¸‹å‚æ•°â€&#x2F;â€çš„ä½œç”¨ã€‚æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªç½‘ç«™æœ‰å¾ˆå¤šé¡µé¢ã€‚ä¸ºäº†åŠ ä»¥åŒºåˆ†ï¼Œè¿™äº›é¡µé¢éƒ½æœ‰å„è‡ªçš„åç§°ã€‚å¯¹äºåˆšåˆšæ‚¨åœ¨æµè§ˆå™¨çœ‹åˆ°çš„â€œHello from ESP8266â€è¿™ä¸ªé¡µé¢æ˜¯NodeMCUæœåŠ¡å™¨ä¸­çš„ç½‘ç«™é¦–é¡µã€‚è¿™ä¸ªç½‘ç«™é¦–é¡µçš„åç§°æ­£æ˜¯â€&#x2F;â€ã€‚ç›®å‰çš„ESP8266-NodeMCUæœåŠ¡å™¨ä¸­åªæœ‰ä¸€é¡µï¼Œå› æ­¤æˆ‘ä»¬è¿˜æ— æ³•äº†è§£å¦‚æœæƒ³è¦è°ƒç”¨å…¶ä»–é¡µé¢è¯¥å¦‚ä½•æ“ä½œã€‚ä¸è¿‡è¯·åˆ«æ‹…å¿ƒï¼Œè¿™ä¸ªæ“ä½œæˆ‘ä»¬ä¼šåœ¨ä¸‹ä¸€ä¸ªç¤ºä¾‹ç¨‹åºä¸­ä¸ºæ‚¨è®²è§£ã€‚</p><p>å¥½äº†ï¼Œç°åœ¨è¯·å°†æ‚¨çš„æ€ç»ªæ‹‰å›åˆ°æˆ‘ä»¬çš„NodeMCUç¨‹åºä¸­æ¥ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹<code>on</code>å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚è¿™ä¸ªå‚æ•°æ˜¯<code>handleRoot</code>å‡½æ•°çš„åå­—ã€‚<code>handlRoot</code>å‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯å‘Šè¯‰NodeMCUè¯¥å¦‚ä½•ç”Ÿæˆå’Œå‘é€ç½‘ç«™é¦–é¡µç»™æµè§ˆå™¨ã€‚ä¸è¿‡å…³äºè¿™ä¸ª<code>handleRoot</code>å‡½æ•°çš„å…·ä½“å†…å®¹ï¼Œæˆ‘ä¼šåœ¨æ¥ä¸‹æ¥çš„æ•™ç¨‹ä¸­ç»™æ‚¨åšè¯¦ç»†è®²è§£ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠå…³æ³¨ç‚¹é›†ä¸­åœ¨<code>on</code>å‡½æ•°ä¸Šã€‚</p><p>æœ€åæˆ‘ä»¬å†æ¥å®Œæ•´çš„çœ‹ä¸€ä¸‹è¿™æ¡è¯­å¥<code>esp8266_server.on(&quot;/&quot;, handleRoot)</code>ã€‚å®ƒçš„ä½œç”¨å°±æ˜¯å‘Šè¯‰NodeMCUï¼Œå½“æœ‰æµè§ˆå™¨è¯·æ±‚ç½‘ç«™é¦–é¡µæ—¶ï¼Œè¯·æ‰§è¡ŒhandlRootå‡½æ•°æ¥ç”Ÿæˆç½‘ç«™é¦–é¡µå†…å®¹ç„¶åå‘é€ç»™æµè§ˆå™¨ã€‚</p><p>è®²åˆ°è¿™é‡Œä¸çŸ¥é“æ‚¨ä¼šä¸ä¼šæ„Ÿåˆ°å¥½å¥‡ã€‚æˆ‘ä»¬åªæ˜¯åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥äº†NodeMCUçš„IPåœ°å€ï¼Œç„¶åå°±æŒ‰ä¸‹äº†å›è½¦ã€‚æµè§ˆå™¨æ€ä¹ˆä¼šçŸ¥é“æˆ‘ä»¬éœ€è¦çš„æ˜¯ç½‘ç«™çš„é¦–é¡µå‘¢ã€‚è¿™æ˜¯æµè§ˆå™¨çº¦å®šä¿—æˆçš„ä¸€ç§æ“ä½œæ–¹æ³•ã€‚å½“æˆ‘ä»¬åœ¨åœ°å€æ åªè¾“å…¥IPåœ°å€è€Œæ²¡æœ‰ä»»ä½•é™„åŠ åœ°å€ä¿¡æ¯ï¼Œæµè§ˆå™¨å°±ä¼šçŸ¥é“æˆ‘ä»¬æ˜¯è¦è·å–ä¸€ä¸ªç½‘ç«™çš„é¦–é¡µä¿¡æ¯ã€‚</p><p>ç»“æŸäº†<code>on</code>å‡½æ•°çš„è®²è§£ï¼Œæˆ‘ä»¬æ¥ç»§ç»­å¾€ä¸‹çœ‹ã€‚ä¸‹é¢ä¸€æ¡è¯­å¥<code>esp8266_server.onNotFound(handleNotFound)</code>ä½¿ç”¨äº†<code>onNotFound</code>å‡½æ•°ã€‚å®ƒçš„ä½œç”¨æ˜¯<strong>æŒ‡æŒ¥NodeMCUåœ¨æ”¶åˆ°æ— æ³•æ»¡è¶³çš„httpè¯·æ±‚æ—¶åº”è¯¥å¦‚ä½•å¤„ç†</strong>ã€‚ç›®å‰Hello from ESP8266ç½‘ç«™åªæœ‰ä¸€ä¸ªé¡µé¢ã€‚å‡å¦‚æœ‰äººæƒ³è¦æµè§ˆç½‘ç«™çš„å…¶å®ƒé¡µé¢ï¼ŒNodeMCUæ˜¯æ— æ³•æ»¡è¶³è¿™ä¸€è¯·æ±‚çš„ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥è®©NodeMCUç­”å¤ä¸€ä¸ªâ€œé”™è¯¯æç¤ºâ€é¡µé¢ç»™æå‡ºè¯·æ±‚çš„æµè§ˆå™¨ã€‚<code>onNotFound</code>å‡½æ•°å°±æ˜¯ç”¨æ¥å‘Šè¯‰NodeMCUå¦‚æœå‡ºç°æ— æ³•æ»¡è¶³çš„httpè¯·æ±‚æ—¶è¯¥å¦‚ä½•è¿›è¡Œå¤„ç†ã€‚<code>onNotFound</code>å‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°çš„å†…å®¹æ˜¯å‡½æ•°<code>handleNotFound</code>çš„åå­—ã€‚  </p><p>å‡è®¾ç°åœ¨æˆ‘ä»¬é€šè¿‡æµè§ˆå™¨å‘NodeMCUæœåŠ¡å™¨è¯·æ±‚ä¸€ä¸ªåå«â€œLEDâ€çš„é¡µé¢ã€‚ç”±äºNodeMCUçš„ç¨‹åºé‡Œæ²¡æœ‰â€œLEDâ€é¡µé¢ä¿¡æ¯ï¼Œå› æ­¤éœ€è¦ç»™æµè§ˆå™¨ç­”å¤ä¸€ä¸ªâ€œé”™è¯¯æç¤ºâ€é¡µé¢ã€‚<code>onNotFound</code>çš„ä½œç”¨å°±æ˜¯å‘Šè¯‰NodeMCUåœ¨é‡åˆ°è¿™ç§æ— æ³•æ»¡è¶³çš„httpè¯·æ±‚æ—¶ï¼Œåº”è¯¥æ‰§è¡Œ<code>handleNotFound</code>å‡½æ•°æ¥ç”Ÿæˆå¹¶å‘é€â€œé”™è¯¯æç¤ºâ€é¡µé¢ç»™æµè§ˆå™¨ã€‚</p><p>ä¸ºäº†éªŒè¯è¿™ä¸€åŠŸèƒ½ï¼Œæˆ‘ä»¬æ¥åšä¸€ä¸ªå®éªŒã€‚è¯·åœ¨æµè§ˆå™¨ä¸­è¾“å…¥NodMCUçš„IPåœ°å€ç„¶ååŠ ä¸€ä¸ªâ€œ&#x2F;LEDâ€å†å›è½¦ã€‚æ¯”å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘çš„NodeMCUçš„IPåœ°å€æ˜¯192.168.0.109ï¼Œé‚£ä¹ˆå½“æˆ‘åœ¨æµè§ˆå™¨æ ä¸­è¾“å…¥<code>192.168.0.109/LED</code>ç„¶åå›è½¦ï¼Œå°±ä¼šçœ‹åˆ°æµè§ˆå™¨æ˜¾ç¤ºå‡ºæ–‡å­—404: Not foundã€‚</p><p>è¿™é‡Œæˆ‘ä»¬æ‰€çœ‹åˆ°çš„è¿™è¡Œæ–‡å­—â€œ404: Not foundâ€æ­£æ˜¯å› ä¸ºNodeMCUæ²¡æœ‰åå«â€œLEDâ€çš„é¡µé¢ï¼Œå› æ­¤å®ƒä¼šä½¿ç”¨handleNotFoundå‡½æ•°ç”Ÿæˆå¹¶å‘é€ç»™æµè§ˆå™¨è¿™ä¸ªâ€œé”™è¯¯æç¤ºâ€é¡µé¢ã€‚æ—¢ç„¶è®²åˆ°è¿™é‡Œäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ¥ä»”ç»†çœ‹ä¸€çœ‹handleNotFoundå‡½æ•°çš„å…·ä½“å†…å®¹ã€‚  </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">handleNotFound</span><span class="params">()</span>&#123;                                </span><br><span class="line">  esp8266_server.send(<span class="number">404</span>, <span class="string">&quot;text/plain&quot;</span>, <span class="string">&quot;404: Not found&quot;</span>);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>handleNotFoundå‡½æ•°åªæœ‰ä¸€æ¡è¯­å¥ï¼š <code>esp8266_server.send(404, &quot;text/plain&quot;, &quot;404: Not found&quot;)</code>ã€‚è¿™æ¡è¯­å¥è°ƒç”¨äº†ESP8266WebServeråº“ä¸­çš„<code>send</code>å‡½æ•°ã€‚è¯¥å‡½æ•°çš„ä½œç”¨æ˜¯ç”Ÿæˆå¹¶ä¸”å‘é€httpå“åº”ä¿¡æ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç”µè„‘æµè§ˆå™¨æ‰€æ”¶åˆ°çš„ç½‘é¡µä¿¡æ¯éƒ½æ˜¯é€šè¿‡<code>send</code>å‡½æ•°ç”Ÿæˆå¹¶ä¸”å‘é€çš„ã€‚é‚£ä¹ˆå…·ä½“è¿™ä¸ªç½‘é¡µä¿¡æ¯æ˜¯å¦‚ä½•ç”Ÿæˆçš„å‘¢ï¼Ÿè¿™å°±è¦ä»”ç»†çœ‹çœ‹<code>send</code>å‡½æ•°çš„å‡ ä¸ªå‚æ•°å†…å®¹äº†ã€‚  </p><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ç¬¬ä¸€ä¸ªå‚æ•°404ã€‚è¿™ä¸ªæ•°å­—å¯¹äºå¾ˆå¤šæœ‹å‹æ¥è¯´éƒ½ä¸ä¼šæ„Ÿåˆ°é™Œç”Ÿï¼Œåœ¨<a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/internet-basics/application-layer/#http-response">äº’è”ç½‘åŸºç¡€-åº”ç”¨å±‚</a>çš„httpå“åº”éƒ¨åˆ†å¯¹å®ƒåšè¿‡ä»‹ç»ã€‚404æ˜¯ä¸€ä¸ªæœåŠ¡å™¨çŠ¶æ€ç ã€‚å®ƒçš„å«ä¹‰æ˜¯â€œå®¢æˆ·ç«¯çš„è¯·æ±‚æœ‰é”™è¯¯â€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæµè§ˆå™¨åœ¨æ”¶åˆ°äº†çŠ¶æ€ç 404åå°±çŸ¥é“ï¼Œå®ƒæ‰€è¯·æ±‚çš„é¡µé¢åœ¨æœåŠ¡å™¨ä¸Šæ˜¯ä¸å­˜åœ¨çš„ã€‚è¯·ç•™æ„ï¼Œè¿™ä¸ªæœåŠ¡å™¨çŠ¶æ€ç æ˜¯ä¸“é—¨ç»™æµè§ˆå™¨ç”¨çš„ã€‚æˆ‘ä»¬æ˜¯çœ‹ä¸åˆ°å®ƒçš„ã€‚ä¸ºäº†è®©æˆ‘ä»¬ä¹Ÿçœ‹åˆ°é¡µé¢ä¸å­˜åœ¨çš„å‡ºé”™ä¿¡æ¯ï¼Œ<code>send</code>å‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°ä½¿ç”¨äº†ä¸€ä¸ªå­—ç¬¦ä¸²â€404: Not foundâ€ã€‚è¿™ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹æ‰æ˜¯çœŸæ­£æ˜¾ç¤ºåœ¨æµè§ˆå™¨ä¸­ä¾›æˆ‘ä»¬é˜…è¯»çš„å†…å®¹ã€‚ä½ å¯ä»¥ä»»æ„çš„æ”¹å˜è¿™ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹ã€‚  </p><p>åˆ°è¿™é‡Œæˆ‘ä»¬æ¥å°ç»“ä¸€ä¸‹ã€‚æµè§ˆå™¨èƒ½å¤Ÿçœ‹æ‡‚çš„ä¿¡æ¯æ˜¯sendå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°,å®ƒçš„ç±»å‹æ˜¯æ•´æ•°å‹ï¼Œå®ƒçš„å†…å®¹æ˜¯æ•°å­—404ã€‚è€Œæ˜¾ç¤ºåœ¨æµè§ˆå™¨ä¸­çš„å‡ºé”™ä¿¡æ¯æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å‹çš„å‚æ•°ã€‚å®ƒæ˜¯sendå‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ç¨‹åºé‡Œï¼Œå®ƒçš„å†…å®¹æ˜¯â€œ404: Not foundâ€ã€‚</p><p><code>send</code>å‡½æ•°è¿˜æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°â€œtext&#x2F;plainâ€ã€‚å®ƒçš„ä½œç”¨æ˜¯<strong>è¯´æ˜httpå“åº”ä½“çš„ä¿¡æ¯ç±»å‹</strong>ã€‚åœ¨è¿™æ®µç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ç”¨â€œtext&#x2F;plainâ€çš„åŸå› æ˜¯è¦å‘Šè¯‰æµè§ˆå™¨åé¢çš„â€404: Not foundâ€ä¸ºä¸€æ®µçº¯æ–‡æœ¬ä¿¡æ¯ã€‚è¿™é‡Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶å®ƒç±»å‹çš„ä¿¡æ¯ã€‚ä¸è¿‡è¿™ä¸€çŸ¥è¯†æˆ‘ä»¬åç»­æ•™ç¨‹ä¸­ä¼šç»™æ‚¨ä»‹ç»ã€‚</p><p>ä¸ºäº†è®©æ‚¨æ›´å¥½çš„ç†è§£åˆšåˆšç»™æ‚¨è§£é‡Šçš„å†…å®¹ï¼Œæˆ‘æ¥å¯¹è¿™å¥<code>esp8266_server.send(404, &quot;text/plain&quot;, &quot;404: Not found&quot;)</code>åšä¸€ä¸‹æ€»ç»“ã€‚</p><p>sendå‡½æ•°ä¸€å…±æœ‰3ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°404æ˜¯æœåŠ¡å™¨çŠ¶æ€ç ã€‚ç¬¬äºŒä¸ªå‚æ•°â€œtext&#x2F;plainâ€æ˜¯è¯´æ˜httpå“åº”ä½“ä¿¡æ¯ç±»å‹ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°â€œ404: Not foundâ€åˆ™æ˜¯å“åº”ä½“çš„å…·ä½“ä¿¡æ¯äº†ã€‚</p><p>ç»†å¿ƒçš„è¯»è€…å¯èƒ½å·²ç»å‘ç°äº†ã€‚æˆ‘åœ¨ä¸Šé¢è¿™æ®µæ€»ç»“æ–‡å­—ä¸­æŒ‡æ˜äº†å“åº”ä½“è¿™ä¸€æ¦‚å¿µã€‚httpå“åº”æ˜¯åˆ†ä¸ºä¸¤éƒ¨åˆ†çš„ã€‚ç¬¬ä¸€éƒ¨åˆ†æ˜¯å“åº”å¤´ï¼Œåœ¨æˆ‘ä»¬è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå“åº”å¤´çš„å†…å®¹å°±æ˜¯404 text&#x2F;plainã€‚è€Œå“åº”ä½“çš„å†…å®¹åˆ™æ˜¯404: Not foundã€‚</p><p>ç»“æŸäº†handleNotFoundçš„è®²è§£æˆ‘ä»¬æœ€åå†æ¥çœ‹çœ‹ç¤ºä¾‹ç¨‹åºä¸­å¦ä¸€ä¸ªç”¨äºç”Ÿæˆå’Œå‘é€é¦–é¡µä¿¡æ¯çš„å‡½æ•°ï¼š<code>handleRoot</code>ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">handleRoot</span><span class="params">()</span> &#123;                         </span><br><span class="line">    esp8266_server.send(<span class="number">200</span>, <span class="string">&quot;text/plain&quot;</span>, <span class="string">&quot;Hello from ESP8266&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µç¤ºä¾‹ç¨‹åºä¸åˆšåˆšæˆ‘ä»¬è§åˆ°çš„handleNotFoundå‡½æ•°éå¸¸ç›¸ä¼¼ã€‚éƒ½æ˜¯ä½¿ç”¨<code>send</code>å‡½æ•°ç”Ÿæˆå¹¶ä¸”å‘é€httpå“åº”ä¿¡æ¯ã€‚</p><p><code>send</code>å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°200ï¼Œå®ƒåŒæ ·æ˜¯ä¸€ä¸ªæœåŠ¡å™¨çŠ¶æ€ç ï¼Œå«ä¹‰æ˜¯â€œæˆåŠŸæ¥æ”¶è¯·æ±‚ï¼Œå¹¶å·²å®Œæˆæ•´ä¸ªå¤„ç†è¿‡ç¨‹â€ã€‚ ç¬¬äºŒä¸ªå‚æ•°text&#x2F;plainçš„ä½œç”¨æˆ‘åˆšåˆšç»™æ‚¨è®²è¿‡ï¼Œä¸å†èµ˜è¿°äº†ã€‚æœ€åä¸€ä¸ªå‚æ•°â€Hello from ESP8266â€³æ­£æ˜¯æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°çš„é¦–é¡µæ–‡å­—å†…å®¹ã€‚</p><p>æœ€åæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™æ®µç¤ºä¾‹ç¨‹åºçš„ç¬¬3ä¸ªé‡ç‚¹å†…å®¹ï¼Œä¹Ÿå°±æ˜¯loopå‡½æ•°ä¸­å”¯ä¸€çš„ä¸€æ¡è¯­å¥<code>esp8266_server.handleClient()</code>ã€‚è¿™å¥ç¨‹åºè°ƒç”¨äº†<code>handleClient</code>å‡½æ•°ã€‚å®ƒçš„ä¸»è¦ä½œç”¨ä¹‹ä¸€æ˜¯æ£€æŸ¥æœ‰æ²¡æœ‰è®¾å¤‡é€šè¿‡ç½‘ç»œå‘NodeMCUå‘é€è¯·æ±‚ã€‚<code>å‡½æ•°handleClient</code>æ¯æ¬¡è¢«è°ƒç”¨æ—¶ï¼ŒNodeMCUéƒ½ä¼šæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰äººå‘é€httpè¯·æ±‚ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æŠŠå®ƒæ”¾åœ¨loopå‡½æ•°ä¸­ï¼Œä»è€Œç¡®ä¿å®ƒèƒ½ç»å¸¸è¢«è°ƒç”¨ã€‚å‡å¦‚æˆ‘ä»¬çš„loopå‡½æ•°é‡Œæœ‰ç±»ä¼¼delayä¸€ç±»çš„å‡½æ•°å»¶è¿Ÿç¨‹åºè¿è¡Œï¼Œé‚£ä¹ˆè¿™æ—¶å€™å°±ä¸€å®šè¦æ³¨æ„äº†ã€‚å¦‚æœ<code>handleClient</code>å‡½æ•°é•¿æ—¶é—´å¾—ä¸åˆ°è°ƒç”¨ï¼ŒNodeMCUçš„ç½‘ç»œæœåŠ¡ä¼šå˜å¾—å¾ˆä¸ç¨³å®šã€‚å› æ­¤åœ¨ä½¿ç”¨NodeMCUæ‰§è¡Œç½‘ç»œæœåŠ¡åŠŸèƒ½çš„æ—¶å€™ï¼Œä¸€å®šè¦ç¡®ä¿<code>handleClient</code>å‡½æ•°ç»å¸¸å¾—ä»¥è°ƒç”¨ã€‚æˆ‘åœ¨è¿™é‡Œåå¤å¼ºè°ƒè¿™ä¸€ç‚¹æ˜¯å› ä¸ºè¿™ä¸€ç‚¹éå¸¸å…³é”®ï¼Œè¯·åŠ¡å¿…æ³¨æ„ï¼</p><p>è¿™ä¸€èŠ‚çš„ç¨‹åºå†…å®¹åˆ°è¿™é‡Œå°±è®²è§£å®Œæ¯•äº†ï¼Œä¸‹ä¸€èŠ‚æ•™ç¨‹æˆ‘å°†ä¸ºæ‚¨è®²è§£å¦‚ä½•å»ºç«‹å¯ä»¥æ§åˆ¶NodeMCUå¼€å‘æ¿çš„ç½‘é¡µã€‚</p><h1 id="é€šè¿‡ç½‘ç»œæœåŠ¡å®ç°NodeMCUå¼€å‘æ¿åŸºæœ¬æ§åˆ¶"><a href="#é€šè¿‡ç½‘ç»œæœåŠ¡å®ç°NodeMCUå¼€å‘æ¿åŸºæœ¬æ§åˆ¶" class="headerlink" title="é€šè¿‡ç½‘ç»œæœåŠ¡å®ç°NodeMCUå¼€å‘æ¿åŸºæœ¬æ§åˆ¶"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/esp8266-nodemcu-web-server/pin-control/">é€šè¿‡ç½‘ç»œæœåŠ¡å®ç°NodeMCUå¼€å‘æ¿åŸºæœ¬æ§åˆ¶</a></h1><p>åˆ©ç”¨NodeMCUå»ºç«‹ç½‘ç»œæœåŠ¡</p><p>ç”¨æˆ·é€šè¿‡æµè§ˆå™¨å¯ä»¥è®¿é—®NodeMCUæ‰€å»ºç«‹çš„ç½‘é¡µ</p><p>é€šè¿‡è¯¥ç½‘é¡µï¼Œç”¨æˆ·å¯å®ç°å¯¹NodeMCUçš„æ§åˆ¶ã€‚</p><p>ä»¥ä¸‹æ˜¯ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**********************************************************************</span></span><br><span class="line"><span class="comment">é¡¹ç›®åç§°/Project          : é›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘</span></span><br><span class="line"><span class="comment">ç¨‹åºåç§°/Program name     : 3_2_2_Turning_on_and_off_an_LED</span></span><br><span class="line"><span class="comment">å›¢é˜Ÿ/Team                : å¤ªæåˆ›å®¢å›¢é˜Ÿ / Taichi-Maker (www.taichi-maker.com)</span></span><br><span class="line"><span class="comment">ç¨‹åºç›®çš„/Purpose          : ä½¿ç”¨NodeMCUå»ºç«‹åŸºæœ¬æœåŠ¡å™¨ã€‚ç”¨æˆ·å¯é€šè¿‡æµè§ˆå™¨ä½¿ç”¨8266çš„IPåœ°å€</span></span><br><span class="line"><span class="comment">                           è®¿é—®8266æ‰€å»ºç«‹çš„åŸºæœ¬ç½‘é¡µå¹¶é€šè¿‡è¯¥é¡µé¢ç‚¹äº®/ç†„ç­NodeMCUçš„å†…ç½®LED</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">***********************************************************************/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WiFi.h&gt;</span>        <span class="comment">// æœ¬ç¨‹åºä½¿ç”¨ ESP8266WiFiåº“</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WiFiMulti.h&gt;</span>   <span class="comment">//  ESP8266WiFiMultiåº“</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WebServer.h&gt;</span>   <span class="comment">//  ESP8266WebServeråº“</span></span></span><br><span class="line"> </span><br><span class="line">ESP8266WiFiMulti wifiMulti;     <span class="comment">// å»ºç«‹ESP8266WiFiMultiå¯¹è±¡,å¯¹è±¡åç§°æ˜¯ &#x27;wifiMulti&#x27;</span></span><br><span class="line"> </span><br><span class="line">ESP8266WebServer <span class="title function_">esp8266_server</span><span class="params">(<span class="number">80</span>)</span>;<span class="comment">// å»ºç«‹ç½‘ç»œæœåŠ¡å™¨å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç”¨äºå“åº”HTTPè¯·æ±‚ã€‚ç›‘å¬ç«¯å£ï¼ˆ80ï¼‰</span></span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);   <span class="comment">// å¯åŠ¨ä¸²å£é€šè®¯</span></span><br><span class="line"> </span><br><span class="line">  pinMode(LED_BUILTIN, OUTPUT); <span class="comment">//è®¾ç½®å†…ç½®LEDå¼•è„šä¸ºè¾“å‡ºæ¨¡å¼ä»¥ä¾¿æ§åˆ¶LED</span></span><br><span class="line">  </span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;ssid_from_AP_1&quot;</span>, <span class="string">&quot;your_password_for_AP_1&quot;</span>); <span class="comment">// å°†éœ€è¦è¿æ¥çš„ä¸€ç³»åˆ—WiFi IDå’Œå¯†ç è¾“å…¥è¿™é‡Œ</span></span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;ssid_from_AP_2&quot;</span>, <span class="string">&quot;your_password_for_AP_2&quot;</span>); <span class="comment">// ESP8266-NodeMCUå†å¯åŠ¨åä¼šæ‰«æå½“å‰ç½‘ç»œ</span></span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;ssid_from_AP_3&quot;</span>, <span class="string">&quot;your_password_for_AP_3&quot;</span>); <span class="comment">// ç¯å¢ƒæŸ¥æ‰¾æ˜¯å¦æœ‰è¿™é‡Œåˆ—å‡ºçš„WiFi IDã€‚å¦‚æœæœ‰</span></span><br><span class="line">  Serial.println(<span class="string">&quot;Connecting ...&quot;</span>);                            <span class="comment">// åˆ™å°è¯•ä½¿ç”¨æ­¤å¤„å­˜å‚¨çš„å¯†ç è¿›è¡Œè¿æ¥ã€‚</span></span><br><span class="line">  </span><br><span class="line">  <span class="type">int</span> i = <span class="number">0</span>;                                 </span><br><span class="line">  <span class="keyword">while</span> (wifiMulti.run() != WL_CONNECTED) &#123;  <span class="comment">// æ­¤å¤„çš„wifiMulti.run()æ˜¯é‡ç‚¹ã€‚é€šè¿‡wifiMulti.run()ï¼ŒNodeMCUå°†ä¼šåœ¨å½“å‰</span></span><br><span class="line">    delay(<span class="number">1000</span>);                             <span class="comment">// ç¯å¢ƒä¸­æœç´¢addAPå‡½æ•°æ‰€å­˜å‚¨çš„WiFiã€‚å¦‚æœæœåˆ°å¤šä¸ªå­˜å‚¨çš„WiFié‚£ä¹ˆNodeMCU</span></span><br><span class="line">    Serial.print(i++); Serial.print(<span class="string">&#x27; &#x27;</span>);    <span class="comment">// å°†ä¼šè¿æ¥ä¿¡å·æœ€å¼ºçš„é‚£ä¸€ä¸ªWiFiä¿¡å·ã€‚</span></span><br><span class="line">  &#125;                                          <span class="comment">// ä¸€æ—¦è¿æ¥WiFIæˆåŠŸï¼ŒwifiMulti.run()å°†ä¼šè¿”å›â€œWL_CONNECTEDâ€ã€‚è¿™ä¹Ÿæ˜¯</span></span><br><span class="line">                                             <span class="comment">// æ­¤å¤„whileå¾ªç¯åˆ¤æ–­æ˜¯å¦è·³å‡ºå¾ªç¯çš„æ¡ä»¶ã€‚</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// WiFiè¿æ¥æˆåŠŸåå°†é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºè¿æ¥æˆåŠŸä¿¡æ¯ </span></span><br><span class="line">  Serial.println(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">  Serial.print(<span class="string">&quot;Connected to &quot;</span>);</span><br><span class="line">  Serial.println(WiFi.SSID());              <span class="comment">// é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºè¿æ¥çš„WiFiåç§°</span></span><br><span class="line">  Serial.print(<span class="string">&quot;IP address:\t&quot;</span>);</span><br><span class="line">  Serial.println(WiFi.localIP());           <span class="comment">// é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºESP8266-NodeMCUçš„IP</span></span><br><span class="line"> </span><br><span class="line">  esp8266_server.begin();                           <span class="comment">// å¯åŠ¨ç½‘ç«™æœåŠ¡</span></span><br><span class="line">  esp8266_server.on(<span class="string">&quot;/&quot;</span>, HTTP_GET, handleRoot);     <span class="comment">// è®¾ç½®æœåŠ¡å™¨æ ¹ç›®å½•å³&#x27;/&#x27;çš„å‡½æ•°&#x27;handleRoot&#x27;</span></span><br><span class="line">  esp8266_server.on(<span class="string">&quot;/LED&quot;</span>, HTTP_POST, handleLED);  <span class="comment">// è®¾ç½®å¤„ç†LEDæ§åˆ¶è¯·æ±‚çš„å‡½æ•°&#x27;handleLED&#x27;</span></span><br><span class="line">  esp8266_server.onNotFound(handleNotFound);        <span class="comment">// è®¾ç½®å¤„ç†404æƒ…å†µçš„å‡½æ•°&#x27;handleNotFound&#x27;</span></span><br><span class="line"> </span><br><span class="line">  Serial.println(<span class="string">&quot;HTTP esp8266_server started&quot;</span>);<span class="comment">//  å‘ŠçŸ¥ç”¨æˆ·ESP8266ç½‘ç»œæœåŠ¡åŠŸèƒ½å·²ç»å¯åŠ¨</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">  esp8266_server.handleClient();                     <span class="comment">// æ£€æŸ¥httpæœåŠ¡å™¨è®¿é—®</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*è®¾ç½®æœåŠ¡å™¨æ ¹ç›®å½•å³&#x27;/&#x27;çš„å‡½æ•°&#x27;handleRoot&#x27;</span></span><br><span class="line"><span class="comment">  è¯¥å‡½æ•°çš„ä½œç”¨æ˜¯æ¯å½“æœ‰å®¢æˆ·ç«¯è®¿é—®NodeMCUæœåŠ¡å™¨æ ¹ç›®å½•æ—¶ï¼Œ</span></span><br><span class="line"><span class="comment">  NodeMCUéƒ½ä¼šå‘è®¿é—®è®¾å¤‡å‘é€ HTTP çŠ¶æ€ 200 (Ok) è¿™æ˜¯sendå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</span></span><br><span class="line"><span class="comment">  åŒæ—¶NodeMCUè¿˜ä¼šå‘æµè§ˆå™¨å‘é€HTMLä»£ç ï¼Œä»¥ä¸‹ç¤ºä¾‹ä¸­sendå‡½æ•°ä¸­ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œ</span></span><br><span class="line"><span class="comment">  ä¹Ÿå°±æ˜¯åŒå¼•å·ä¸­çš„å†…å®¹å°±æ˜¯NodeMCUå‘é€çš„HTMLä»£ç ã€‚è¯¥ä»£ç å¯åœ¨ç½‘é¡µä¸­äº§ç”ŸLEDæ§åˆ¶æŒ‰é’®ã€‚ </span></span><br><span class="line"><span class="comment">  å½“ç”¨æˆ·æŒ‰ä¸‹æŒ‰é’®æ—¶ï¼Œæµè§ˆå™¨å°†ä¼šå‘NodeMCUçš„/LEDé¡µé¢å‘é€HTTPè¯·æ±‚ï¼Œè¯·æ±‚æ–¹å¼ä¸ºPOSTã€‚</span></span><br><span class="line"><span class="comment">  NodeMCUæ¥æ”¶åˆ°æ­¤è¯·æ±‚åå°†ä¼šæ‰§è¡ŒhandleLEDå‡½æ•°å†…å®¹*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">handleRoot</span><span class="params">()</span> &#123;       </span><br><span class="line">  esp8266_server.send(<span class="number">200</span>, <span class="string">&quot;text/html&quot;</span>, <span class="string">&quot;&lt;form action=\&quot;/LED\&quot; method=\&quot;POST\&quot;&gt;&lt;input type=\&quot;submit\&quot; value=\&quot;Toggle LED\&quot;&gt;&lt;/form&gt;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//å¤„ç†LEDæ§åˆ¶è¯·æ±‚çš„å‡½æ•°&#x27;handleLED&#x27;</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">handleLED</span><span class="params">()</span> &#123;                          </span><br><span class="line">  digitalWrite(LED_BUILTIN,!digitalRead(LED_BUILTIN));<span class="comment">// æ”¹å˜LEDçš„ç‚¹äº®æˆ–è€…ç†„ç­çŠ¶æ€</span></span><br><span class="line">  esp8266_server.sendHeader(<span class="string">&quot;Location&quot;</span>,<span class="string">&quot;/&quot;</span>);          <span class="comment">// è·³è½¬å›é¡µé¢æ ¹ç›®å½•</span></span><br><span class="line">  esp8266_server.send(<span class="number">303</span>);                           <span class="comment">// å‘é€Httpç›¸åº”ä»£ç 303 è·³è½¬  </span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// è®¾ç½®å¤„ç†404æƒ…å†µçš„å‡½æ•°&#x27;handleNotFound&#x27;</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">handleNotFound</span><span class="params">()</span>&#123;</span><br><span class="line">  esp8266_server.send(<span class="number">404</span>, <span class="string">&quot;text/plain&quot;</span>, <span class="string">&quot;404: Not found&quot;</span>); <span class="comment">// å‘é€ HTTP çŠ¶æ€ 404 (æœªæ‰¾åˆ°é¡µé¢) å¹¶å‘æµè§ˆå™¨å‘é€æ–‡å­— &quot;404: Not found&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="é€šè¿‡ç½‘ç»œæœåŠ¡å°†å¼€å‘æ¿å¼•è„šçŠ¶æ€æ˜¾ç¤ºåœ¨ç½‘é¡µä¸­"><a href="#é€šè¿‡ç½‘ç»œæœåŠ¡å°†å¼€å‘æ¿å¼•è„šçŠ¶æ€æ˜¾ç¤ºåœ¨ç½‘é¡µä¸­" class="headerlink" title="é€šè¿‡ç½‘ç»œæœåŠ¡å°†å¼€å‘æ¿å¼•è„šçŠ¶æ€æ˜¾ç¤ºåœ¨ç½‘é¡µä¸­"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/esp8266-nodemcu-web-server/pin-state/">é€šè¿‡ç½‘ç»œæœåŠ¡å°†å¼€å‘æ¿å¼•è„šçŠ¶æ€æ˜¾ç¤ºåœ¨ç½‘é¡µä¸­</a></h1><p>ä¸ºäº†ä¾¿äºå­¦ä¹ ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨D3å¼•è„šä½œä¸ºæ¼”ç¤º, å› ä¸ºå®ƒå·²ç»ä¸å¼€å‘æ¿ä¸Šçš„FLASHæŒ‰é”®å¼€å…³è¿æ¥å¥½äº†ã€‚<em>æˆ‘ä»¬å¯ä»¥é€šè¿‡NodeMCUå¼€å‘æ¿ä¸Šçš„FLASHæŒ‰é”®æ§åˆ¶D3å¼•è„šçš„ç”µå¹³ã€‚</em></p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/backgrounds/esp8266-nodemcu-Flash-Button-1.jpg" alt="NodeMCUå¼€å‘æ¿FLASHæŒ‰é”®å¼€å…³"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**********************************************************************</span></span><br><span class="line"><span class="comment">é¡¹ç›®åç§°/Project          : é›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘</span></span><br><span class="line"><span class="comment">ç¨‹åºåç§°/Program name     : 3_2_3_Pin_State_Display</span></span><br><span class="line"><span class="comment">å›¢é˜Ÿ/Team                : å¤ªæåˆ›å®¢å›¢é˜Ÿ / Taichi-Maker (www.taichi-maker.com)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç¨‹åºç›®çš„/Purpose          : ä½¿ç”¨NodeMCUå»ºç«‹åŸºæœ¬æœåŠ¡å™¨ã€‚è¯¥é¡µé¢å°†ä¼šè‡ªåŠ¨åˆ·æ–°å¹¶ä¸”æ˜¾ç¤ºNodeMCU</span></span><br><span class="line"><span class="comment">                           çš„D3å¼•è„šçŠ¶æ€ã€‚NodeMCUå¼€å‘æ¿ä¸Šçš„FLASHæŒ‰é”®å¯ä»¥æ§åˆ¶D3å¼•è„šçš„ç”µå¹³ã€‚</span></span><br><span class="line"><span class="comment">                           æ²¡æœ‰æŒ‰ä¸‹è¯¥æŒ‰é”®æ—¶D3å¼•è„šå°†ä¼šä¿æŒé«˜ç”µå¹³çŠ¶æ€ã€‚å½“æŒ‰ä¸‹è¯¥æŒ‰é”®åï¼Œ</span></span><br><span class="line"><span class="comment">                           D3å¼•è„šä¼šå˜ä¸ºä½ç”µå¹³ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">***********************************************************************/</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WiFi.h&gt;</span>        <span class="comment">// æœ¬ç¨‹åºä½¿ç”¨ ESP8266WiFiåº“</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WiFiMulti.h&gt;</span>   <span class="comment">//  ESP8266WiFiMultiåº“</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WebServer.h&gt;</span>   <span class="comment">//  ESP8266WebServeråº“</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">define</span> buttonPin D3            <span class="comment">// æŒ‰é’®å¼•è„šD3</span></span></span><br><span class="line"> </span><br><span class="line">ESP8266WiFiMulti wifiMulti;     <span class="comment">// å»ºç«‹ESP8266WiFiMultiå¯¹è±¡,å¯¹è±¡åç§°æ˜¯&#x27;wifiMulti&#x27;</span></span><br><span class="line"> </span><br><span class="line">ESP8266WebServer <span class="title function_">esp8266_server</span><span class="params">(<span class="number">80</span>)</span>;<span class="comment">// å»ºç«‹ç½‘ç»œæœåŠ¡å™¨å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç”¨äºå“åº”HTTPè¯·æ±‚ã€‚ç›‘å¬ç«¯å£ï¼ˆ80ï¼‰</span></span><br><span class="line"> </span><br><span class="line"><span class="type">bool</span> pinState;  <span class="comment">// å­˜å‚¨å¼•è„šçŠ¶æ€ç”¨å˜é‡</span></span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span>&#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);   <span class="comment">// å¯åŠ¨ä¸²å£é€šè®¯</span></span><br><span class="line"> </span><br><span class="line">  pinMode(buttonPin, INPUT_PULLUP); <span class="comment">// å°†æŒ‰é”®å¼•è„šè®¾ç½®ä¸ºè¾“å…¥ä¸Šæ‹‰æ¨¡å¼</span></span><br><span class="line"> </span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;ssid_from_AP_1&quot;</span>, <span class="string">&quot;your_password_for_AP_1&quot;</span>); <span class="comment">// å°†éœ€è¦è¿æ¥çš„ä¸€ç³»åˆ—WiFi IDå’Œå¯†ç è¾“å…¥è¿™é‡Œ</span></span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;ssid_from_AP_2&quot;</span>, <span class="string">&quot;your_password_for_AP_2&quot;</span>); <span class="comment">// ESP8266-NodeMCUå†å¯åŠ¨åä¼šæ‰«æå½“å‰ç½‘ç»œ</span></span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;ssid_from_AP_3&quot;</span>, <span class="string">&quot;your_password_for_AP_3&quot;</span>); <span class="comment">// ç¯å¢ƒæŸ¥æ‰¾æ˜¯å¦æœ‰è¿™é‡Œåˆ—å‡ºçš„WiFi IDã€‚å¦‚æœæœ‰</span></span><br><span class="line">  Serial.println(<span class="string">&quot;Connecting ...&quot;</span>);                            <span class="comment">// åˆ™å°è¯•ä½¿ç”¨æ­¤å¤„å­˜å‚¨çš„å¯†ç è¿›è¡Œè¿æ¥ã€‚</span></span><br><span class="line">  </span><br><span class="line">  <span class="type">int</span> i = <span class="number">0</span>;                                 </span><br><span class="line">  <span class="keyword">while</span> (wifiMulti.run() != WL_CONNECTED) &#123;  <span class="comment">// æ­¤å¤„çš„wifiMulti.run()æ˜¯é‡ç‚¹ã€‚é€šè¿‡wifiMulti.run()ï¼ŒNodeMCUå°†ä¼šåœ¨å½“å‰</span></span><br><span class="line">    delay(<span class="number">1000</span>);                             <span class="comment">// ç¯å¢ƒä¸­æœç´¢addAPå‡½æ•°æ‰€å­˜å‚¨çš„WiFiã€‚å¦‚æœæœåˆ°å¤šä¸ªå­˜å‚¨çš„WiFié‚£ä¹ˆNodeMCU</span></span><br><span class="line">    Serial.print(i++); Serial.print(<span class="string">&#x27; &#x27;</span>);    <span class="comment">// å°†ä¼šè¿æ¥ä¿¡å·æœ€å¼ºçš„é‚£ä¸€ä¸ªWiFiä¿¡å·ã€‚</span></span><br><span class="line">  &#125;                                          <span class="comment">// ä¸€æ—¦è¿æ¥WiFIæˆåŠŸï¼ŒwifiMulti.run()å°†ä¼šè¿”å›â€œWL_CONNECTEDâ€ã€‚è¿™ä¹Ÿæ˜¯</span></span><br><span class="line">                                             <span class="comment">// æ­¤å¤„whileå¾ªç¯åˆ¤æ–­æ˜¯å¦è·³å‡ºå¾ªç¯çš„æ¡ä»¶ã€‚</span></span><br><span class="line">  <span class="comment">// WiFiè¿æ¥æˆåŠŸåå°†é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºè¿æ¥æˆåŠŸä¿¡æ¯ </span></span><br><span class="line">  Serial.println(<span class="string">&#x27;\n&#x27;</span>);                     <span class="comment">// WiFiè¿æ¥æˆåŠŸå</span></span><br><span class="line">  Serial.print(<span class="string">&quot;Connected to &quot;</span>);            <span class="comment">// NodeMCUå°†é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºã€‚</span></span><br><span class="line">  Serial.println(WiFi.SSID());              <span class="comment">// è¿æ¥çš„WiFIåç§°</span></span><br><span class="line">  Serial.print(<span class="string">&quot;IP address:\t&quot;</span>);            <span class="comment">// ä»¥åŠ</span></span><br><span class="line">  Serial.println(WiFi.localIP());           <span class="comment">// NodeMCUçš„IPåœ°å€</span></span><br><span class="line">  </span><br><span class="line">  esp8266_server.begin();                   <span class="comment">// å¯åŠ¨ç½‘ç«™æœåŠ¡                </span></span><br><span class="line">  esp8266_server.on(<span class="string">&quot;/&quot;</span>, handleRoot);       <span class="comment">// è®¾ç½®æœåŠ¡å™¨æ ¹ç›®å½•å³&#x27;/&#x27;çš„å‡½æ•°&#x27;handleRoot&#x27;</span></span><br><span class="line">  esp8266_server.onNotFound(handleNotFound);<span class="comment">// è®¾ç½®å¤„ç†404æƒ…å†µçš„å‡½æ•°&#x27;handleNotFound&#x27;        </span></span><br><span class="line"> </span><br><span class="line">  Serial.println(<span class="string">&quot;HTTP esp8266_server started&quot;</span>);<span class="comment">//  å‘ŠçŸ¥ç”¨æˆ·ESP8266ç½‘ç»œæœåŠ¡åŠŸèƒ½å·²ç»å¯åŠ¨</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span>&#123;</span><br><span class="line">  esp8266_server.handleClient();     <span class="comment">// å¤„ç†httpæœåŠ¡å™¨è®¿é—®</span></span><br><span class="line">  pinState = digitalRead(buttonPin); <span class="comment">// è·å–å¼•è„šçŠ¶æ€</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//--------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">/* ä»¥ä¸‹å‡½æ•°å¤„ç†ç½‘ç«™é¦–é¡µçš„è®¿é—®è¯·æ±‚ã€‚æ­¤å‡½æ•°ä¸ºæœ¬ç¤ºä¾‹ç¨‹åºé‡ç‚¹1</span></span><br><span class="line"><span class="comment">è¯¦ç»†è®²è§£è¯·å‚è§å¤ªæåˆ›å®¢ç½‘ç«™ã€Šé›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘ã€‹</span></span><br><span class="line"><span class="comment">ç¬¬3ç« -ç¬¬2èŠ‚â€œé€šè¿‡ç½‘ç»œæœåŠ¡å°†å¼€å‘æ¿å¼•è„šçŠ¶æ€æ˜¾ç¤ºåœ¨ç½‘é¡µä¸­â€çš„è¯´æ˜è®²è§£ã€‚*/</span>                                                                       </span><br><span class="line"><span class="type">void</span> <span class="title function_">handleRoot</span><span class="params">()</span> &#123;   </span><br><span class="line">  String displayPinState;                   <span class="comment">// å­˜å‚¨æŒ‰é”®çŠ¶æ€çš„å­—ç¬¦ä¸²å˜é‡</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(pinState == HIGH)&#123;                     <span class="comment">// å½“æŒ‰é”®å¼•è„šD3ä¸ºé«˜ç”µå¹³</span></span><br><span class="line">    displayPinState = <span class="string">&quot;Button State: HIGH&quot;</span>; <span class="comment">// å­—ç¬¦ä¸²èµ‹å€¼é«˜ç”µå¹³ä¿¡æ¯</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;                                  <span class="comment">// å½“æŒ‰é”®å¼•è„šD3ä¸ºä½ç”µå¹³</span></span><br><span class="line">    displayPinState = <span class="string">&quot;Button State: LOW&quot;</span>;  <span class="comment">// å­—ç¬¦ä¸²èµ‹å€¼ä½ç”µå¹³ä¿¡æ¯</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  esp8266_server.send(<span class="number">200</span>, <span class="string">&quot;text/plain&quot;</span>, displayPinState); </span><br><span class="line">                                            <span class="comment">// å‘æµè§ˆå™¨å‘é€æŒ‰é”®çŠ¶æ€ä¿¡æ¯  </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//--------------------------------------------------------------------------------</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// è®¾ç½®å¤„ç†404æƒ…å†µçš„å‡½æ•°&#x27;handleNotFound&#x27;</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">handleNotFound</span><span class="params">()</span>&#123;                                        <span class="comment">// å½“æµè§ˆå™¨è¯·æ±‚çš„ç½‘ç»œèµ„æºæ— æ³•åœ¨æœåŠ¡å™¨æ‰¾åˆ°æ—¶ï¼Œ</span></span><br><span class="line">  esp8266_server.send(<span class="number">404</span>, <span class="string">&quot;text/plain&quot;</span>, <span class="string">&quot;404: Not found&quot;</span>);   <span class="comment">// NodeMCUå°†è°ƒç”¨æ­¤å‡½æ•°ã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä»¥ä¸Šç¨‹åºçš„loopå‡½æ•°ä¸­ï¼Œ<code>pinState = digitalRead(buttonPin);</code> è¯­å¥å°†ä¸æ–­æ£€æŸ¥NodeMCUå¼€å‘æ¿D3å¼•è„šçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯æ£€æŸ¥è¯¥å¼•è„šæ‰€è¿æ¥çš„æŒ‰é”®æ˜¯å¦è¢«æŒ‰ä¸‹ã€‚è¯¥çŠ¶æ€å°†ä¼šå­˜å‚¨ä¸å¸ƒå°”å˜é‡pinStateä¸­ã€‚</p><p>å˜é‡pinStateå°†ä¼šç”¨äºæœ¬ç¨‹åºçš„é‡ç‚¹1ï¼Œä¹Ÿå°±æ˜¯handleRoot() å‡½æ•°é‡Œã€‚åœ¨handleRootå‡½æ•°é‡Œï¼Œæˆ‘ä»¬åˆ©ç”¨é€»è¾‘åˆ¤æ–­è¯­å¥æ¥å¯¹displayPinState è¿›è¡Œèµ‹å€¼ã€‚<strong>å¦‚æœæŒ‰é”®æ²¡æœ‰è¢«æŒ‰ä¸‹</strong>ï¼ŒpinStateä¸ºHIGHï¼Œè¿™æ—¶å€™ç¨‹åºå°†ä¼šæ‰§è¡Œ<code>displayPinState = &quot;Button State: HIGH&quot;;</code>ä¹Ÿå°±æ˜¯ä¸ºdisplayPinStateçš„èµ‹å€¼ä¸ºâ€œButton State: HIGHâ€ã€‚è¿™å¥è¯çš„æ„æ€æ˜¯â€œæŒ‰é”®å¼•è„šçŠ¶æ€ä¸ºé«˜ç”µå¹³â€ã€‚åä¹‹ï¼Œå½“æˆ‘ä»¬æŒ‰ä¸‹æŒ‰é”®åï¼Œç¨‹åºå°†ä¼šæ‰§è¡Œ<code>displayPinState = &quot;Button State: LOW&quot;;</code>ä¹Ÿå°±æ˜¯ä¸ºdisplayPinStateçš„èµ‹å€¼ä¸ºâ€œButton State: LOWâ€ã€‚</p><p>åœ¨handleRootå‡½æ•°çš„ç»“å°¾å¤„ï¼Œ<br><code>esp8266_server.send(200, &quot;text/plain&quot;, displayPinState);</code><br>è¿™æ¡è¯­å¥å°†ä¼šæŠŠdisplayPinStateæ‰€å­˜å‚¨çš„ä¿¡æ¯å‘é€ç»™æµè§ˆå™¨ã€‚äºæ˜¯æˆ‘ä»¬åœ¨æ²¡æœ‰æŒ‰ä¸‹æŒ‰é”®æ—¶ï¼Œå°†ä¼šå¾—åˆ°ä»¥ä¸‹é¡µé¢ä¿¡æ¯ã€‚</p><h1 id="æš‚æ—¶æ²¡æ”¾å›¾"><a href="#æš‚æ—¶æ²¡æ”¾å›¾" class="headerlink" title="æš‚æ—¶æ²¡æ”¾å›¾"></a><strong>æš‚æ—¶æ²¡æ”¾å›¾</strong></h1><p>ä»¥ä¸Šç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ·æ–°ç½‘é¡µé¡µé¢æ‰èƒ½å°†æŒ‰é”®çš„æœ€æ–°çŠ¶æ€æ˜¾ç¤ºåœ¨ç½‘é¡µä¸­ã€‚ä¸ºäº†å®ç°é¡µé¢çš„è‡ªåŠ¨åˆ·æ–°ï¼Œè¯·æ‚¨å‚è€ƒä»¥ä¸‹ç¤ºä¾‹ç¨‹åºã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**********************************************************************</span></span><br><span class="line"><span class="comment">é¡¹ç›®åç§°/Project          : é›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘</span></span><br><span class="line"><span class="comment">ç¨‹åºåç§°/Program name     : 3_2_4_Pin_State_Display_Auto_Refresh</span></span><br><span class="line"><span class="comment">å›¢é˜Ÿ/Team                : å¤ªæåˆ›å®¢å›¢é˜Ÿ / Taichi-Maker (www.taichi-maker.com)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ç¨‹åºç›®çš„/Purpose          : ä½¿ç”¨NodeMCUå»ºç«‹åŸºæœ¬æœåŠ¡å™¨ã€‚è¯¥ç½‘é¡µå°†æ˜¾ç¤ºå¼•è„šD3çŠ¶æ€ã€‚åŒæ—¶çŠ¶æ€ä¼š</span></span><br><span class="line"><span class="comment">                           æ¯éš”5ç§’é’Ÿæ›´æ–°ä¸€æ¬¡ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">***********************************************************************/</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WiFi.h&gt;</span>        <span class="comment">// æœ¬ç¨‹åºä½¿ç”¨ ESP8266WiFiåº“</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WiFiMulti.h&gt;</span>   <span class="comment">//  ESP8266WiFiMultiåº“</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WebServer.h&gt;</span>   <span class="comment">//  ESP8266WebServeråº“</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">define</span> buttonPin D3            <span class="comment">// æŒ‰é’®å¼•è„šD3</span></span></span><br><span class="line"> </span><br><span class="line">ESP8266WiFiMulti wifiMulti;     <span class="comment">// å»ºç«‹ESP8266WiFiMultiå¯¹è±¡,å¯¹è±¡åç§°æ˜¯&#x27;wifiMulti&#x27;</span></span><br><span class="line"> </span><br><span class="line">ESP8266WebServer <span class="title function_">esp8266_server</span><span class="params">(<span class="number">80</span>)</span>;<span class="comment">// å»ºç«‹ç½‘ç»œæœåŠ¡å™¨å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç”¨äºå“åº”HTTPè¯·æ±‚ã€‚ç›‘å¬ç«¯å£ï¼ˆ80ï¼‰</span></span><br><span class="line"> </span><br><span class="line"><span class="type">bool</span> pinState;                      <span class="comment">// å­˜å‚¨å¼•è„šçŠ¶æ€ç”¨å˜é‡</span></span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span>&#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);          <span class="comment">// å¯åŠ¨ä¸²å£é€šè®¯</span></span><br><span class="line">  delay(<span class="number">10</span>);</span><br><span class="line">  Serial.println(<span class="string">&quot;&quot;</span>);</span><br><span class="line"> </span><br><span class="line">  pinMode(buttonPin, INPUT_PULLUP); <span class="comment">// å°†æŒ‰é”®å¼•è„šè®¾ç½®ä¸ºè¾“å…¥ä¸Šæ‹‰æ¨¡å¼</span></span><br><span class="line"> </span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;ssid_from_AP_1&quot;</span>, <span class="string">&quot;your_password_for_AP_1&quot;</span>); <span class="comment">// å°†éœ€è¦è¿æ¥çš„ä¸€ç³»åˆ—WiFi IDå’Œå¯†ç è¾“å…¥è¿™é‡Œ</span></span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;ssid_from_AP_2&quot;</span>, <span class="string">&quot;your_password_for_AP_2&quot;</span>); <span class="comment">// ESP8266-NodeMCUåœ¨å¯åŠ¨åä¼šæ‰«æå½“å‰ç½‘ç»œ</span></span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;ssid_from_AP_3&quot;</span>, <span class="string">&quot;your_password_for_AP_3&quot;</span>); <span class="comment">// ç¯å¢ƒæŸ¥æ‰¾æ˜¯å¦æœ‰è¿™é‡Œåˆ—å‡ºçš„WiFi IDã€‚å¦‚æœæœ‰</span></span><br><span class="line">  Serial.println(<span class="string">&quot;Connecting ...&quot;</span>);                            <span class="comment">// åˆ™å°è¯•ä½¿ç”¨æ­¤å¤„å­˜å‚¨çš„å¯†ç è¿›è¡Œè¿æ¥ã€‚</span></span><br><span class="line">                                                               <span class="comment">// å¦å¤–è¿™é‡Œåªå­˜å‚¨äº†3ä¸ªWiFiä¿¡æ¯ï¼Œæ‚¨å¯ä»¥å­˜å‚¨æ›´å¤š</span></span><br><span class="line">                                                               <span class="comment">// çš„WiFiä¿¡æ¯åœ¨æ­¤å¤„ã€‚</span></span><br><span class="line">  <span class="type">int</span> i = <span class="number">0</span>;                                 </span><br><span class="line">  <span class="keyword">while</span> (wifiMulti.run() != WL_CONNECTED) &#123;  <span class="comment">// æ­¤å¤„çš„wifiMulti.run()æ˜¯é‡ç‚¹ã€‚é€šè¿‡wifiMulti.run()ï¼ŒNodeMCUå°†ä¼šåœ¨å½“å‰</span></span><br><span class="line">    delay(<span class="number">1000</span>);                             <span class="comment">// ç¯å¢ƒä¸­æœç´¢addAPå‡½æ•°æ‰€å­˜å‚¨çš„WiFiã€‚å¦‚æœæœåˆ°å¤šä¸ªå­˜å‚¨çš„WiFié‚£ä¹ˆNodeMCU</span></span><br><span class="line">    Serial.print(i++); Serial.print(<span class="string">&#x27; &#x27;</span>);    <span class="comment">// å°†ä¼šè¿æ¥ä¿¡å·æœ€å¼ºçš„é‚£ä¸€ä¸ªWiFiä¿¡å·ã€‚</span></span><br><span class="line">  &#125;                                          <span class="comment">// ä¸€æ—¦è¿æ¥WiFIæˆåŠŸï¼ŒwifiMulti.run()å°†ä¼šè¿”å›â€œWL_CONNECTEDâ€ã€‚è¿™ä¹Ÿæ˜¯</span></span><br><span class="line">                                             <span class="comment">// æ­¤å¤„whileå¾ªç¯åˆ¤æ–­æ˜¯å¦è·³å‡ºå¾ªç¯çš„æ¡ä»¶ã€‚</span></span><br><span class="line">  <span class="comment">// WiFiè¿æ¥æˆåŠŸåå°†é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºè¿æ¥æˆåŠŸä¿¡æ¯ </span></span><br><span class="line">  Serial.println(<span class="string">&#x27;\n&#x27;</span>);                     <span class="comment">// WiFiè¿æ¥æˆåŠŸå</span></span><br><span class="line">  Serial.print(<span class="string">&quot;Connected to &quot;</span>);            <span class="comment">// NodeMCUå°†é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºã€‚</span></span><br><span class="line">  Serial.println(WiFi.SSID());              <span class="comment">// è¿æ¥çš„WiFIåç§°</span></span><br><span class="line">  Serial.print(<span class="string">&quot;IP address:\t&quot;</span>);            <span class="comment">// ä»¥åŠ</span></span><br><span class="line">  Serial.println(WiFi.localIP());           <span class="comment">// NodeMCUçš„IPåœ°å€</span></span><br><span class="line">  </span><br><span class="line">  esp8266_server.begin();                  </span><br><span class="line">  esp8266_server.on(<span class="string">&quot;/&quot;</span>, handleRoot);      </span><br><span class="line">  esp8266_server.onNotFound(handleNotFound);        </span><br><span class="line"> </span><br><span class="line">  Serial.println(<span class="string">&quot;HTTP esp8266_server started&quot;</span>);<span class="comment">//  å‘ŠçŸ¥ç”¨æˆ·ESP8266ç½‘ç»œæœåŠ¡åŠŸèƒ½å·²ç»å¯åŠ¨</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span>&#123;</span><br><span class="line">  esp8266_server.handleClient();     <span class="comment">// å¤„ç†httpæœåŠ¡å™¨è®¿é—®</span></span><br><span class="line">  pinState = digitalRead(buttonPin); <span class="comment">// è·å–å¼•è„šçŠ¶æ€</span></span><br><span class="line">&#125;                                                                   </span><br><span class="line"> </span><br><span class="line"><span class="comment">/* ä»¥ä¸‹å‡½æ•°å¤„ç†ç½‘ç«™é¦–é¡µçš„è®¿é—®è¯·æ±‚ã€‚æ­¤å‡½æ•°ä¸ºæœ¬ç¤ºä¾‹ç¨‹åºé‡ç‚¹1</span></span><br><span class="line"><span class="comment">è¯¦ç»†è®²è§£è¯·å‚è§å¤ªæåˆ›å®¢ç½‘ç«™ã€Šé›¶åŸºç¡€å…¥é—¨å­¦ç”¨ç‰©è”ç½‘ã€‹</span></span><br><span class="line"><span class="comment">ç¬¬3ç« -ç¬¬2èŠ‚â€œé€šè¿‡ç½‘ç»œæœåŠ¡å°†å¼€å‘æ¿å¼•è„šçŠ¶æ€æ˜¾ç¤ºåœ¨ç½‘é¡µä¸­â€çš„è¯´æ˜è®²è§£ã€‚*/</span>    </span><br><span class="line"><span class="type">void</span> <span class="title function_">handleRoot</span><span class="params">()</span> &#123;   <span class="comment">//å¤„ç†ç½‘ç«™ç›®å½•â€œ/â€çš„è®¿é—®è¯·æ±‚ </span></span><br><span class="line">  esp8266_server.send(<span class="number">200</span>, <span class="string">&quot;text/html&quot;</span>, sendHTML(pinState));  </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//--------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å»ºç«‹ç”¨äºå‘é€ç»™å®¢æˆ·ç«¯æµè§ˆå™¨çš„HTMLä»£ç ã€‚æ­¤ä»£ç å°†ä¼šæ¯éš”5ç§’åˆ·æ–°é¡µé¢ã€‚</span></span><br><span class="line"><span class="comment">é€šè¿‡é¡µé¢åˆ·æ–°ï¼Œå¼•è„šçš„æœ€æ–°çŠ¶æ€ä¹Ÿä¼šæ˜¾ç¤ºäºé¡µé¢ä¸­</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">String <span class="title function_">sendHTML</span><span class="params">(<span class="type">bool</span> buttonState)</span>&#123;</span><br><span class="line">  </span><br><span class="line">  String htmlCode = <span class="string">&quot;&lt;!DOCTYPE html&gt; &lt;html&gt;\n&quot;</span>;</span><br><span class="line">  htmlCode +=<span class="string">&quot;&lt;head&gt;&lt;meta http-equiv=&#x27;refresh&#x27; content=&#x27;5&#x27;/&gt;\n&quot;</span>;</span><br><span class="line">  htmlCode +=<span class="string">&quot;&lt;title&gt;ESP8266 Butoon State&lt;/title&gt;\n&quot;</span>;</span><br><span class="line">  htmlCode +=<span class="string">&quot;&lt;style&gt;html &#123; font-family: Helvetica; display: inline-block; margin: 0px auto; text-align: center;&#125;\n&quot;</span>;</span><br><span class="line">  htmlCode +=<span class="string">&quot;body&#123;margin-top: 50px;&#125; h1 &#123;color: #444444;margin: 50px auto 30px;&#125; h3 &#123;color: #444444;margin-bottom: 50px;&#125;\n&quot;</span>;</span><br><span class="line">  htmlCode +=<span class="string">&quot;&lt;/style&gt;\n&quot;</span>;</span><br><span class="line">  htmlCode +=<span class="string">&quot;&lt;/head&gt;\n&quot;</span>;</span><br><span class="line">  htmlCode +=<span class="string">&quot;&lt;body&gt;\n&quot;</span>;</span><br><span class="line">  htmlCode +=<span class="string">&quot;&lt;h1&gt;ESP8266 BUTTON STATE&lt;/h1&gt;\n&quot;</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(buttonState)</span><br><span class="line">    &#123;htmlCode +=<span class="string">&quot;&lt;p&gt;Button Status: HIGH&lt;/p&gt;\n&quot;</span>;&#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    &#123;htmlCode +=<span class="string">&quot;&lt;p&gt;Button Status: LOW&lt;/p&gt;\n&quot;</span>;&#125;</span><br><span class="line">    </span><br><span class="line">  htmlCode +=<span class="string">&quot;&lt;/body&gt;\n&quot;</span>;</span><br><span class="line">  htmlCode +=<span class="string">&quot;&lt;/html&gt;\n&quot;</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> htmlCode;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//--------------------------------------------------------------------------------</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// è®¾ç½®å¤„ç†404æƒ…å†µçš„å‡½æ•°&#x27;handleNotFound&#x27;</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">handleNotFound</span><span class="params">()</span>&#123;                                        <span class="comment">// å½“æµè§ˆå™¨è¯·æ±‚çš„ç½‘ç»œèµ„æºæ— æ³•åœ¨æœåŠ¡å™¨æ‰¾åˆ°æ—¶ï¼Œ</span></span><br><span class="line">  esp8266_server.send(<span class="number">404</span>, <span class="string">&quot;text/plain&quot;</span>, <span class="string">&quot;404: Not found&quot;</span>);   <span class="comment">// NodeMCUå°†è°ƒç”¨æ­¤å‡½æ•°ã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä»¥ä¸Šç¤ºä¾‹ç¨‹åºä¸­çš„<code>handleRoot</code>å‡½æ•°ä¸­ï¼Œ<code>esp8266_server.send(200, &quot;text/html&quot;, sendHTML(pinState))</code>è¯­å¥çš„çš„3ä¸ªå‚æ•° <code>sendHTML(pinState)</code>è°ƒç”¨äº†<code>sendHTML</code>å‡½æ•°ã€‚è¯¥å‡½æ•°çš„ä½œç”¨æ˜¯å»ºç«‹ä¸€ä¸ªå¯ä»¥å®šæ—¶åˆ·æ–°çš„HTMLç½‘é¡µä»£ç ã€‚é€šè¿‡å®šæ—¶åˆ·æ–°ç½‘é¡µï¼Œå¼€å‘æ¿çš„å¼•è„šçŠ¶æ€å°†ä¼šä¸æ–­åœ°åœ¨é¡µé¢ä¸­è¿›è¡Œæ›´æ–°ã€‚</p><p>æ­¤HTMLç½‘é¡µä»£ç æ˜¯ç”±<code>sendHTML</code>å‡½æ•°äº§ç”Ÿçš„ã€‚è¯¥å‡½æ•°å»ºç«‹äº†ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ï¼Œè¯¥å­—ç¬¦ä¸²å˜é‡æ‰€å­˜å‚¨çš„ä¿¡æ¯æ­£æ˜¯ç½‘é¡µHTMLä»£ç ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯¥HTMLä»£ç ä¼šä¸æ–­åœ°æ£€æŸ¥å˜é‡pinStateçŠ¶æ€ï¼Œå¹¶ä¸”æ ¹æ®pinStateçš„çŠ¶æ€æ”¹å˜HTMLä»£ç çš„ä¿¡æ¯ï¼Œä»è€Œå®ç°åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºå¼•è„šçŠ¶æ€ã€‚</p><p>æ­¤HTMLä»£ç ä¸­çœŸæ­£å®ç°å®šæ—¶åˆ·æ–°ç½‘é¡µåŠŸèƒ½çš„è¯­å¥æ˜¯ä»£ç ä¸­çš„ç¬¬79è¡Œè¯­å¥ã€‚è¿™æ¡è¯­å¥æ˜¯å‘Šè¯‰ç½‘é¡µéœ€è¦å®šæ—¶åˆ·æ–°ï¼Œåˆ·æ–°é¢‘ç‡5ç§’é’Ÿï¼Œå³æ¯5ç§’é’Ÿåˆ·æ–°ä¸€æ¬¡é¡µé¢ã€‚æ‚¨å¯ä»¥é€šè¿‡æ”¹å˜æ­¤è¡Œè¯­å¥ä¸­çš„æ•°å€¼5æ¥è°ƒæ•´é¡µé¢åˆ·æ–°é¢‘ç‡ã€‚</p><p>æ¯ä¸€æ¬¡é¡µé¢åˆ·æ–°ï¼Œæµè§ˆå™¨éƒ½ä¼šå‘NodeMCUå‘é€HTTPè¯·æ±‚ã€‚NodeMCUåœ¨æ”¶åˆ°æµè§ˆå™¨è¯·æ±‚åï¼Œå°†ä¼šæŠŠæœ€æ–°çš„HTMLä»£ç ä¿¡æ¯è¿”å›ç»™æµè§ˆå™¨ã€‚æµè§ˆå™¨æ”¶åˆ°æœ€æ–°çš„HTMLä»£ç åå°†ä¼šåœ¨é¡µé¢ä¸­æ˜¾ç¤ºå¼•è„šçš„çŠ¶æ€ã€‚<br>ä»¥ä¸‹æ˜¯æ²¡æœ‰æŒ‰ä¸‹æŒ‰é”®æ—¶çš„é¡µé¢æ˜¾ç¤ºä¿¡æ¯ã€‚</p><h1 id="æš‚æ—¶æ²¡æ”¾å›¾-1"><a href="#æš‚æ—¶æ²¡æ”¾å›¾-1" class="headerlink" title="æš‚æ—¶æ²¡æ”¾å›¾"></a><strong>æš‚æ—¶æ²¡æ”¾å›¾</strong></h1>]]></content>
      
      
      
        <tags>
            
            <tag> esp8266 </tag>
            
            <tag> ç‰©è”ç½‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ç‰©è”ç½‘ä¹‹ESP8266NodeMCUï¼ˆä¸‰ï¼‰</title>
      <link href="/post/336e95a3.html"/>
      <url>/post/336e95a3.html</url>
      
        <content type="html"><![CDATA[<h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><h2 id="å®‰è£…-ESP8266-NodeMCUå¼€å‘æ¿é©±åŠ¨"><a href="#å®‰è£…-ESP8266-NodeMCUå¼€å‘æ¿é©±åŠ¨" class="headerlink" title="å®‰è£… ESP8266-NodeMCUå¼€å‘æ¿é©±åŠ¨"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/install-esp8266-nodemcu-driver/">å®‰è£… ESP8266-NodeMCUå¼€å‘æ¿é©±åŠ¨</a></h2><p>ç›®å‰å¤§éƒ¨åˆ†ç”µè„‘é©±åŠ¨éƒ½å·²è‡ªåŠ¨å®‰è£…å®Œæˆï¼Œå¯å…ˆè¿›è¡Œä¸‹ä¸€æ­¥ï¼Œè‹¥é‡è¿æ¥é—®é¢˜ï¼Œå¯è‡ªè¡Œç™¾åº¦å®‰è£…é©±åŠ¨ã€‚</p><h2 id="ä¸ºESP8266-NodeMCUæ­å»ºArduino-IDEå¼€å‘ç¯å¢ƒ"><a href="#ä¸ºESP8266-NodeMCUæ­å»ºArduino-IDEå¼€å‘ç¯å¢ƒ" class="headerlink" title="ä¸ºESP8266-NodeMCUæ­å»ºArduino IDEå¼€å‘ç¯å¢ƒ"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/nodemcu-arduino-ide/">ä¸ºESP8266-NodeMCUæ­å»ºArduino IDEå¼€å‘ç¯å¢ƒ</a></h2><p>**ä¸‹è½½ Arduino IDE **</p><p>æ‰“å¼€Arduino IDEï¼Œ<strong>â€œæ–‡ä»¶â€ -&gt; â€œé¦–é€‰é¡¹â€, åœ¨ â€œé™„åŠ å¼€å‘æ¿ç®¡ç†ç½‘å€â€</strong> ä¸­è¾“å…¥ä»¥ä¸‹ç½‘å€ï¼š</p><p>esp8266å¼€å‘æ¿ç®¡ç†å™¨åœ°å€ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://arduino.esp8266.com/stable/package_esp8266com_index.json</span><br></pre></td></tr></table></figure><p>ï¼ˆé€‰å¡«ï¼Œæ–¹ä¾¿æ—¥åå¼€å‘esp32ï¼‰esp32å¼€å‘ç‰ˆç®¡ç†å™¨åœ°å€ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://dl.espressif.com/dl/package_esp32_index.json</span><br></pre></td></tr></table></figure><p>ç´§æ¥ç€ç‚¹å‡»<strong>â€å·¥å…·â€œ -&gt; â€å¼€å‘æ¿â€œ -&gt; â€œå¼€å‘æ¿ç®¡ç†å™¨â€</strong>, <strong>åœ¨æœç´¢æ ä¸­è¾“å…¥â€œesp8266â€</strong>ï¼Œçœ‹åˆ°æœç´¢ç»“æœæ˜¾ç¤º**â€esp8266 by ESP8266 Communityâ€, é€‰æ‹©æœ€æ–°ç‰ˆæœ¬å®‰è£…å³å¯ï¼ˆæˆ‘è¿™é‡Œæ˜¯3.0.2ï¼‰**</p><p>å®‰è£…æˆåŠŸåï¼Œåœ¨<strong>â€å·¥å…·â€œ -&gt; â€å¼€å‘æ¿â€œ ä¸­é€‰æ‹©â€NodeMCU 1.0 (ESP-12E Moudle)â€œ å³å¯</strong></p><p>ç´§æ¥ç€è®¾ç½®<strong>NodeMCUå¼€å‘æ¿çš„ç«¯å£ï¼Œåœ¨ â€œå·¥å…·â€ -&gt; â€œç«¯å£â€</strong></p><p><font color=purple>ï¼ˆè¿™é‡Œæ¯”è¾ƒç®€å•ï¼Œå¦‚æœæœ‰å…¶å®ƒé—®é¢˜è‡ªè¡Œç™¾åº¦è§£å†³ï¼‰</font></p><h1 id="NodeMCUå¼€å‘æ¿çš„æ¥å…¥ç‚¹æ¨¡å¼"><a href="#NodeMCUå¼€å‘æ¿çš„æ¥å…¥ç‚¹æ¨¡å¼" class="headerlink" title="NodeMCUå¼€å‘æ¿çš„æ¥å…¥ç‚¹æ¨¡å¼"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/ap/">NodeMCUå¼€å‘æ¿çš„æ¥å…¥ç‚¹æ¨¡å¼</a></h1><h2 id="æ¥å…¥ç‚¹æ¨¡å¼ï¼ˆAccess-Point-ä¹Ÿç§°-APï¼‰"><a href="#æ¥å…¥ç‚¹æ¨¡å¼ï¼ˆAccess-Point-ä¹Ÿç§°-APï¼‰" class="headerlink" title="æ¥å…¥ç‚¹æ¨¡å¼ï¼ˆAccess Point, ä¹Ÿç§° APï¼‰"></a>æ¥å…¥ç‚¹æ¨¡å¼ï¼ˆAccess Point, ä¹Ÿç§° APï¼‰</h2><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/NodeMCU-Access-Point.png" alt="ESP8266-NodeMCUæ¥å…¥ç‚¹(Access Point)å·¥ä½œæ¨¡å¼"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">NodeMCUæ¥å…¥ç‚¹æ¨¡å¼ </span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">æ­¤ç¨‹åºç”¨äºæ¼”ç¤ºå¦‚ä½•å°†NodeMCUä»¥æ¥å…¥ç‚¹æ¨¡å¼å·¥ä½œã€‚é€šè¿‡æ­¤ç¨‹åºï¼Œæ‚¨å¯ä»¥ä½¿ç”¨</span></span><br><span class="line"><span class="comment">ç”µè„‘æˆ–è€…æ‰‹æœºè¿æ¥NodeMCUæ‰€å»ºç«‹WiFiç½‘ç»œã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WiFi.h&gt;</span>        <span class="comment">// æœ¬ç¨‹åºä½¿ç”¨ESP8266WiFiåº“</span></span></span><br><span class="line"> </span><br><span class="line"><span class="type">const</span> <span class="type">char</span> *ssid = <span class="string">&quot;è®¾å®šè‡ªå·±çš„wifiå&quot;</span>; <span class="comment">// è¿™é‡Œå®šä¹‰å°†è¦ å»ºç«‹ çš„WiFiåç§°</span></span><br><span class="line">                                   <span class="comment">// æ‚¨å¯ä»¥å°†è‡ªå·±æƒ³è¦å»ºç«‹çš„WiFiåç§°å¡«å†™å…¥æ­¤å¤„çš„åŒå¼•å·ä¸­</span></span><br><span class="line"> </span><br><span class="line"><span class="type">const</span> <span class="type">char</span> *password = <span class="string">&quot;è®¾å®šè‡ªå·±çš„wifiå¯†ç &quot;</span>;  <span class="comment">// è¿™é‡Œå®šä¹‰å°†è¦å»ºç«‹çš„WiFiå¯†ç </span></span><br><span class="line">                                    <span class="comment">// æ‚¨å¯ä»¥å°†è‡ªå·±æƒ³è¦ä½¿ç”¨çš„WiFiå¯†ç æ”¾å…¥å¼•å·å†…</span></span><br><span class="line">                                    <span class="comment">// å¦‚æœå»ºç«‹çš„WiFiä¸è¦å¯†ç ï¼Œåˆ™åœ¨åŒå¼•å·å†…ä¸è¦å¡«å…¥ä»»ä½•ä¿¡æ¯</span></span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);              <span class="comment">// å¯åŠ¨ä¸²å£é€šè®¯</span></span><br><span class="line"> </span><br><span class="line">  WiFi.softAP(ssid, password);     <span class="comment">// æ­¤è¯­å¥æ˜¯é‡ç‚¹ã€‚WiFi.softAPç”¨äºå¯åŠ¨NodeMCUçš„APæ¨¡å¼ã€‚</span></span><br><span class="line">                                   <span class="comment">// æ‹¬å·ä¸­æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œssidæ˜¯WiFiåã€‚passwordæ˜¯WiFiå¯†ç ã€‚</span></span><br><span class="line">                                   <span class="comment">// è¿™ä¸¤ä¸ªå‚æ•°å…·ä½“å†…å®¹åœ¨setupå‡½æ•°ä¹‹å‰çš„ä½ç½®è¿›è¡Œå®šä¹‰ã€‚</span></span><br><span class="line"> </span><br><span class="line">  Serial.print(<span class="string">&quot;Access Point: &quot;</span>);    <span class="comment">// é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºä¿¡æ¯</span></span><br><span class="line">  Serial.println(ssid);              <span class="comment">// å‘ŠçŸ¥ç”¨æˆ·NodeMCUæ‰€å»ºç«‹çš„WiFiå</span></span><br><span class="line">  Serial.print(<span class="string">&quot;IP address: &quot;</span>);      <span class="comment">// ä»¥åŠNodeMCUçš„IPåœ°å€</span></span><br><span class="line">  Serial.println(WiFi.softAPIP());   <span class="comment">// é€šè¿‡è°ƒç”¨WiFi.softAPIP()å¯ä»¥å¾—åˆ°NodeMCUçš„IPåœ°å€</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†ç¨‹åºä¸Šä¼ è‡³å¼€å‘æ¿ä»¥å, NodeMCUåœ¨æ¯æ¬¡å¯åŠ¨ä»¥åï¼Œéƒ½ä¼šè‡ªåŠ¨å¯åŠ¨æ¥å…¥ç‚¹æ¨¡å¼ã€‚æ¥å…¥ç‚¹WiFiçš„è¯¦ç»†ä¿¡æ¯ä¼šé€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºç»™ç”¨æˆ·æŸ¥çœ‹ã€‚</p><p>è‹¥æƒ³è¦éªŒè¯ä¸€ä¸‹ç”µè„‘æ˜¯å¦å¯ä»¥ä¸NodeMCUè¿›è¡Œç½‘ç»œé€šè®¯ï¼Œé‚£ä¹ˆåŒæ ·å¯ä»¥åœ¨Windowsæ“ä½œç³»ç»Ÿçš„â€œå‘½ä»¤æç¤ºç¬¦â€ä¸­è¾“å…¥ï¼š<code>ping IP address</code></p><p>ï¼ˆæ³¨æ„ï¼špingçš„IPåœ°å€æ˜¯NodeMCUé»˜è®¤çš„æ¥å…¥ç‚¹IPåœ°å€ï¼Œè¿™ä¸€ä¿¡æ¯åœ¨ä¸Šé¢çš„ ä¸²å£ç›‘è§†å™¨æˆªå±ä¸­å¯ä»¥çœ‹åˆ°ã€‚ï¼‰</p><h1 id="NodeMCUå¼€å‘æ¿çš„æ— çº¿ç»ˆç«¯æ¨¡å¼"><a href="#NodeMCUå¼€å‘æ¿çš„æ— çº¿ç»ˆç«¯æ¨¡å¼" class="headerlink" title="NodeMCUå¼€å‘æ¿çš„æ— çº¿ç»ˆç«¯æ¨¡å¼"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/iot-c/station/">NodeMCUå¼€å‘æ¿çš„æ— çº¿ç»ˆç«¯æ¨¡å¼</a></h1><h2 id="æ— çº¿ç»ˆç«¯æ¨¡å¼-Station"><a href="#æ— çº¿ç»ˆç«¯æ¨¡å¼-Station" class="headerlink" title="æ— çº¿ç»ˆç«¯æ¨¡å¼(Station)"></a>æ— çº¿ç»ˆç«¯æ¨¡å¼(Station)</h2><h3 id="1-è¿æ¥WiFI"><a href="#1-è¿æ¥WiFI" class="headerlink" title="1. è¿æ¥WiFI"></a><strong>1. è¿æ¥WiFI</strong></h3><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/NodeMCU-Station.png" alt="ESP8266-NodeMCUæ— çº¿ç»ˆç«¯(Wireless Station)å·¥ä½œæ¨¡å¼">)</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">NodeMCUæ— çº¿ç»ˆç«¯æ¨¡å¼è¿æ¥WiFi</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">æœ¬ç¤ºä¾‹ç¨‹åºç”¨äºæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨NodeMCUæ— çº¿ç»ˆç«¯æ¨¡å¼è¿æ¥WiFi</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WiFi.h&gt;</span>        <span class="comment">// æœ¬ç¨‹åºä½¿ç”¨ESP8266WiFiåº“</span></span></span><br><span class="line"> </span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* ssid     = <span class="string">&quot;è‡ªå®¶è·¯ç”±å™¨çš„wifiå&quot;</span>;      <span class="comment">// è¿æ¥WiFiå</span></span><br><span class="line">                                            <span class="comment">// è¯·å°†æ‚¨éœ€è¦è¿æ¥çš„WiFiåå¡«å…¥å¼•å·ä¸­</span></span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* password = <span class="string">&quot;è‡ªå®¶è·¯ç”±å™¨çš„wifiå¯†ç &quot;</span>;          <span class="comment">// è¿æ¥WiFiå¯†ç </span></span><br><span class="line">                                            <span class="comment">// è¯·å°†æ‚¨éœ€è¦è¿æ¥çš„WiFiå¯†ç å¡«å…¥å¼•å·ä¸­</span></span><br><span class="line">                                            </span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);         <span class="comment">// å¯åŠ¨ä¸²å£é€šè®¯</span></span><br><span class="line">  </span><br><span class="line">  WiFi.begin(ssid, password);                  <span class="comment">// å¯åŠ¨ç½‘ç»œè¿æ¥</span></span><br><span class="line">  Serial.print(<span class="string">&quot;Connecting to &quot;</span>);              <span class="comment">// ä¸²å£ç›‘è§†å™¨è¾“å‡ºç½‘ç»œè¿æ¥ä¿¡æ¯</span></span><br><span class="line">  Serial.print(ssid); Serial.println(<span class="string">&quot; ...&quot;</span>);  <span class="comment">// å‘ŠçŸ¥ç”¨æˆ·NodeMCUæ­£åœ¨å°è¯•WiFiè¿æ¥</span></span><br><span class="line">  </span><br><span class="line">  <span class="type">int</span> i = <span class="number">0</span>;                                   <span class="comment">// è¿™ä¸€æ®µç¨‹åºè¯­å¥ç”¨äºæ£€æŸ¥WiFiæ˜¯å¦è¿æ¥æˆåŠŸ</span></span><br><span class="line">  <span class="keyword">while</span> (WiFi.status() != WL_CONNECTED) &#123;      <span class="comment">// WiFi.status()å‡½æ•°çš„è¿”å›å€¼æ˜¯ç”±NodeMCUçš„WiFiè¿æ¥çŠ¶æ€æ‰€å†³å®šçš„ã€‚ </span></span><br><span class="line">    delay(<span class="number">1000</span>);                               <span class="comment">// å¦‚æœWiFiè¿æ¥æˆåŠŸåˆ™è¿”å›å€¼ä¸ºWL_CONNECTED                       </span></span><br><span class="line">    Serial.print(i++); Serial.print(<span class="string">&#x27; &#x27;</span>);      <span class="comment">// æ­¤å¤„é€šè¿‡Whileå¾ªç¯è®©NodeMCUæ¯éš”ä¸€ç§’é’Ÿæ£€æŸ¥ä¸€æ¬¡WiFi.status()å‡½æ•°è¿”å›å€¼</span></span><br><span class="line">  &#125;                                            <span class="comment">// åŒæ—¶NodeMCUå°†é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºè¿æ¥æ—¶é•¿è¯»ç§’ã€‚</span></span><br><span class="line">                                               <span class="comment">// è¿™ä¸ªè¯»ç§’æ˜¯é€šè¿‡å˜é‡iæ¯éš”ä¸€ç§’è‡ªåŠ 1æ¥å®ç°çš„ã€‚</span></span><br><span class="line">                                               </span><br><span class="line">  Serial.println(<span class="string">&quot;&quot;</span>);                          <span class="comment">// WiFiè¿æ¥æˆåŠŸå</span></span><br><span class="line">  Serial.println(<span class="string">&quot;Connection established!&quot;</span>);   <span class="comment">// NodeMCUå°†é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡º&quot;è¿æ¥æˆåŠŸ&quot;ä¿¡æ¯ã€‚</span></span><br><span class="line">  Serial.print(<span class="string">&quot;IP address:    &quot;</span>);             <span class="comment">// åŒæ—¶è¿˜å°†è¾“å‡ºNodeMCUçš„IPåœ°å€ã€‚è¿™ä¸€åŠŸèƒ½æ˜¯é€šè¿‡è°ƒç”¨</span></span><br><span class="line">  Serial.println(WiFi.localIP());              <span class="comment">// WiFi.localIP()å‡½æ•°æ¥å®ç°çš„ã€‚è¯¥å‡½æ•°çš„è¿”å›å€¼å³NodeMCUçš„IPåœ°å€ã€‚</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123;                                   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-è‡ªåŠ¨è¿æ¥æœ€å¼ºä¿¡å·WiFiç½‘ç»œ"><a href="#2-è‡ªåŠ¨è¿æ¥æœ€å¼ºä¿¡å·WiFiç½‘ç»œ" class="headerlink" title="2. è‡ªåŠ¨è¿æ¥æœ€å¼ºä¿¡å·WiFiç½‘ç»œ"></a><strong>2. è‡ªåŠ¨è¿æ¥æœ€å¼ºä¿¡å·WiFiç½‘ç»œ</strong></h3><p>æœ‰æ—¶ä¼šåœ¨å®¶ï¼Œå­¦æ ¡ï¼Œå…¬å¸ç­‰æ¥å›è·‘ï¼Œè¿™æ ·çš„è¯æ²¡æ¢ä¸€ä¸ªåœ°æ–¹å°±å¾—é‡æ–°æ›´æ”¹ä»£ç ï¼Œå¤ªéº»çƒ¦ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">NodeMCUæ— çº¿ç»ˆç«¯æ¨¡å¼è¿æ¥WiFi-2</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">æ­¤ç¨‹åºå°†ä¼šæ§åˆ¶NodeMCUåœ¨å½“å‰çš„ç½‘ç»œç¯å¢ƒé‡Œæœç´¢é¢„å…ˆå­˜å‚¨å¥½çš„WiFiã€‚</span></span><br><span class="line"><span class="comment">ä¸€æ—¦æ‰¾åˆ°é¢„å­˜çš„WiFiåç§°ï¼ŒNodeMCUå°†ä¼šä½¿ç”¨é¢„å­˜çš„å¯†ç ä¿¡æ¯å°è¯•è¿æ¥è¯¥WiFiã€‚</span></span><br><span class="line"><span class="comment">å¦‚æœåŒæ—¶æ‰¾åˆ°å¤šä¸ªé¢„å­˜WiFiï¼ŒNodeMCUå°†ä¼šå°è¯•è¿æ¥ä¿¡å·æœ€å¼ºçš„WiFiã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WiFi.h&gt;</span>          <span class="comment">// æœ¬ç¨‹åºä½¿ç”¨ESP8266WiFiåº“</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ESP8266WiFiMulti.h&gt;</span>   <span class="comment">// æœ¬ç¨‹åºä½¿ç”¨ESP8266WiFiMultiåº“</span></span></span><br><span class="line"> </span><br><span class="line">ESP8266WiFiMulti wifiMulti;     <span class="comment">// å»ºç«‹ESP8266WiFiMultiå¯¹è±¡,å¯¹è±¡åç§°æ˜¯&#x27;wifiMulti&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line">  Serial.begin(<span class="number">9600</span>);            <span class="comment">// å¯åŠ¨ä¸²å£é€šè®¯</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//é€šè¿‡addApå‡½æ•°å­˜å‚¨  WiFiåç§°       WiFiå¯†ç </span></span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;taichi-maker&quot;</span>, <span class="string">&quot;12345678&quot;</span>);  <span class="comment">// è¿™ä¸‰æ¡è¯­å¥é€šè¿‡è°ƒç”¨å‡½æ•°addAPæ¥è®°å½•3ä¸ªä¸åŒçš„WiFiç½‘ç»œä¿¡æ¯ã€‚</span></span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;taichi-maker2&quot;</span>, <span class="string">&quot;87654321&quot;</span>); <span class="comment">// è¿™3ä¸ªWiFiç½‘ç»œåç§°åˆ†åˆ«æ˜¯taichi-maker, taichi-maker2, taichi-maker3ã€‚</span></span><br><span class="line">  wifiMulti.addAP(<span class="string">&quot;taichi-maker3&quot;</span>, <span class="string">&quot;13572468&quot;</span>); <span class="comment">// è¿™3ä¸ªç½‘ç»œçš„å¯†ç åˆ†åˆ«æ˜¯123456789ï¼Œ87654321ï¼Œ13572468ã€‚</span></span><br><span class="line">                                                <span class="comment">// æ­¤å¤„WiFiä¿¡æ¯åªæ˜¯ç¤ºä¾‹ï¼Œè¯·åœ¨ä½¿ç”¨æ—¶å°†éœ€è¦è¿æ¥çš„WiFiä¿¡æ¯å¡«å…¥ç›¸åº”ä½ç½®ã€‚</span></span><br><span class="line">                                                <span class="comment">// å¦å¤–è¿™é‡Œåªå­˜å‚¨äº†3ä¸ªWiFiä¿¡æ¯ï¼Œæ‚¨å¯ä»¥å­˜å‚¨æ›´å¤šçš„WiFiä¿¡æ¯åœ¨æ­¤å¤„ã€‚</span></span><br><span class="line">                                                </span><br><span class="line">  Serial.println(<span class="string">&quot;Connecting ...&quot;</span>);         <span class="comment">// é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºä¿¡æ¯å‘ŠçŸ¥ç”¨æˆ·NodeMCUæ­£åœ¨å°è¯•è¿æ¥WiFi</span></span><br><span class="line">  <span class="type">int</span> i = <span class="number">0</span>;                                 </span><br><span class="line">  <span class="keyword">while</span> (wifiMulti.run() != WL_CONNECTED) &#123;  <span class="comment">// æ­¤å¤„çš„wifiMulti.run()æ˜¯é‡ç‚¹ã€‚é€šè¿‡wifiMulti.run()ï¼ŒNodeMCUå°†ä¼šåœ¨å½“å‰</span></span><br><span class="line">    delay(<span class="number">1000</span>);                             <span class="comment">// ç¯å¢ƒä¸­æœç´¢addAPå‡½æ•°æ‰€å­˜å‚¨çš„WiFiã€‚å¦‚æœæœåˆ°å¤šä¸ªå­˜å‚¨çš„WiFié‚£ä¹ˆNodeMCU</span></span><br><span class="line">    Serial.print(<span class="string">&#x27;.&#x27;</span>);                       <span class="comment">// å°†ä¼šè¿æ¥ä¿¡å·æœ€å¼ºçš„é‚£ä¸€ä¸ªWiFiä¿¡å·ã€‚</span></span><br><span class="line">  &#125;                                           <span class="comment">// ä¸€æ—¦è¿æ¥WiFIæˆåŠŸï¼ŒwifiMulti.run()å°†ä¼šè¿”å›â€œWL_CONNECTEDâ€ã€‚è¿™ä¹Ÿæ˜¯</span></span><br><span class="line">                                              <span class="comment">// æ­¤å¤„whileå¾ªç¯åˆ¤æ–­æ˜¯å¦è·³å‡ºå¾ªç¯çš„æ¡ä»¶ã€‚</span></span><br><span class="line"> </span><br><span class="line">  </span><br><span class="line">  Serial.println(<span class="string">&#x27;\n&#x27;</span>);                     <span class="comment">// WiFiè¿æ¥æˆåŠŸå</span></span><br><span class="line">  Serial.print(<span class="string">&quot;Connected to &quot;</span>);            <span class="comment">// NodeMCUå°†é€šè¿‡ä¸²å£ç›‘è§†å™¨è¾“å‡ºã€‚</span></span><br><span class="line">  Serial.println(WiFi.SSID());              <span class="comment">// è¿æ¥çš„WiFIåç§°</span></span><br><span class="line">  Serial.print(<span class="string">&quot;IP address:\t&quot;</span>);            <span class="comment">// ä»¥åŠ</span></span><br><span class="line">  Serial.println(WiFi.localIP());           <span class="comment">// NodeMCUçš„IPåœ°å€</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> esp8266 </tag>
            
            <tag> ç‰©è”ç½‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ç‰©è”ç½‘ä¹‹ESP8266NodeMCUï¼ˆäºŒï¼‰</title>
      <link href="/post/4e66da29.html"/>
      <url>/post/4e66da29.html</url>
      
        <content type="html"><![CDATA[<h1 id="TCP-x2F-IPåè®®ç°‡ï¼ˆTCP-x2F-IP-Stackï¼‰"><a href="#TCP-x2F-IPåè®®ç°‡ï¼ˆTCP-x2F-IP-Stackï¼‰" class="headerlink" title="TCP&#x2F;IPåè®®ç°‡ï¼ˆTCP&#x2F;IP Stackï¼‰"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/internet-basics/tcp-ip-stack/">TCP&#x2F;IPåè®®ç°‡ï¼ˆTCP&#x2F;IP Stackï¼‰</a></h1><p>åœ¨ç½‘ç»œç³»ç»Ÿä¸­ï¼Œä¸ºäº†ä¿è¯é€šä¿¡è®¾å¤‡ä¹‹é—´èƒ½æ­£ç¡®åœ°è¿›è¡Œé€šä¿¡ï¼Œå¿…é¡»ä½¿ç”¨ä¸€ç§åŒæ–¹éƒ½èƒ½å¤Ÿç†è§£çš„è¯­è¨€ï¼Œè¿™ç§è¯­è¨€è¢«ç§°ä¸ºâ€œåè®®â€ã€‚</p><p>TCP&#x2F;IPåè®®ç°‡æ˜¯Internetçš„åŸºç¡€ï¼Œä¹Ÿæ˜¯å½“ä»Šæœ€æµè¡Œçš„ç»„ç½‘å½¢å¼ã€‚TCP&#x2F;IPæ˜¯ä¸€ç»„åè®®çš„ä»£åè¯ã€‚</p><p>TCP&#x2F;IPåè®®è¢«åˆ’åˆ†ä¸º4å±‚ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><table><thead><tr><th>åˆ†å±‚åç§°</th><th>åŒ…å«åè®®</th></tr></thead><tbody><tr><td>åº”ç”¨å±‚</td><td>HTTP, FTP, mDNS, WebSocket, OSC â€¦</td></tr><tr><td>ä¼ è¾“å±‚</td><td>TCP, UDP</td></tr><tr><td>ç½‘ç»œå±‚</td><td>IP</td></tr><tr><td>é“¾è·¯å±‚ï¼ˆä¹Ÿç§°ç½‘ç»œæ¥å£å±‚ï¼‰</td><td>Ethernet, Wi-Fi â€¦</td></tr></tbody></table><h1 id="é“¾è·¯å±‚ï¼ˆLink-Layerï¼‰"><a href="#é“¾è·¯å±‚ï¼ˆLink-Layerï¼‰" class="headerlink" title="é“¾è·¯å±‚ï¼ˆLink Layerï¼‰"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/internet-basics/link-layer/">é“¾è·¯å±‚ï¼ˆLink Layerï¼‰</a></h1><p>é“¾è·¯å±‚çš„ä¸»è¦ä½œç”¨æ˜¯å®ç°è®¾å¤‡ä¹‹é—´çš„ç‰©ç†é“¾æ¥ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„WiFiå°±æ˜¯é“¾è·¯å±‚çš„ä¸€ç§ã€‚</p><h2 id="ESP8266åˆ©ç”¨WiFiè”ç½‘æ—¶æœ‰ä¸‰ç§å·¥ä½œæ¨¡å¼ã€‚"><a href="#ESP8266åˆ©ç”¨WiFiè”ç½‘æ—¶æœ‰ä¸‰ç§å·¥ä½œæ¨¡å¼ã€‚" class="headerlink" title="ESP8266åˆ©ç”¨WiFiè”ç½‘æ—¶æœ‰ä¸‰ç§å·¥ä½œæ¨¡å¼ã€‚"></a>ESP8266åˆ©ç”¨WiFiè”ç½‘æ—¶æœ‰ä¸‰ç§å·¥ä½œæ¨¡å¼ã€‚</h2><p><strong>æ¨¡å¼1 â€“ æ— çº¿ç»ˆç«¯æ¨¡å¼ï¼ˆWireless Stationï¼‰</strong></p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒESP8266å¯é€šè¿‡WiFiè¿æ¥æ— çº¿è·¯ç”±å™¨ã€‚è¿™ä¸ç”¨æ‚¨çš„æ‰‹æœºé€šè¿‡WiFiè¿æ¥æ— çº¿è·¯ç”±å™¨çš„æ¨¡å¼ç›¸åŒã€‚</p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/NodeMCU-Station.png" alt="ESP8266-NodeMCUæ— çº¿ç»ˆç«¯(Wireless Station)å·¥ä½œæ¨¡å¼"></p><p><strong>æ¨¡å¼2 â€“ æ¥å…¥ç‚¹æ¨¡å¼ï¼ˆAccess Point, ä¹Ÿç§° APï¼‰</strong></p><p>ESP8266ä¹Ÿå¯ä»¥å»ºç«‹WiFiç½‘ç»œä¾›å…¶å®ƒè®¾å¤‡è¿æ¥ã€‚å½“ESP8266ä»¥æ­¤æ¨¡å¼è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ‰‹æœºæœç´¢ESP8266æ‰€å‘å‡ºçš„WiFiç½‘ç»œå¹¶è¿›è¡Œè¿æ¥ã€‚</p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/NodeMCU-Access-Point.png" alt="ESP8266-NodeMCUæ¥å…¥ç‚¹(Access Point)å·¥ä½œæ¨¡å¼"></p><p><strong>æ¨¡å¼3 â€“ æ··åˆæ¨¡å¼ï¼ˆWireless Station + APï¼‰</strong></p><p>æ··åˆæ¨¡å¼å³ä»¥ä¸Šä¸¤ç§æ¨¡å¼çš„æ··åˆã€‚</p><h1 id="ç½‘ç»œå±‚ï¼ˆInternet-Layerï¼‰"><a href="#ç½‘ç»œå±‚ï¼ˆInternet-Layerï¼‰" class="headerlink" title="ç½‘ç»œå±‚ï¼ˆInternet Layerï¼‰"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/internet-basics/internet-layer/">ç½‘ç»œå±‚ï¼ˆInternet Layerï¼‰</a></h1><h5 id="ç½‘ç»œå±‚ä¸IPåè®®"><a href="#ç½‘ç»œå±‚ä¸IPåè®®" class="headerlink" title="ç½‘ç»œå±‚ä¸IPåè®®"></a>ç½‘ç»œå±‚ä¸IPåè®®</h5><p>å°½ç®¡è®¾å¤‡å¯ä»¥é€šè¿‡é“¾è·¯å±‚è”ç½‘ï¼Œä½†æ˜¯å…‰æœ‰é“¾è·¯å±‚è¿˜æ— æ³•å®ç°è®¾å¤‡ä¹‹é—´çš„æ•°æ®é€šè®¯ã€‚å› ä¸ºç½‘ç»œè®¾å¤‡æ²¡æœ‰æ˜ç¡®çš„æ ‡è¯†ã€‚ç½‘ç»œè®¾å¤‡æ— ä»çŸ¥æ™“è¦å‘è°ä¼ è¾“æ•°æ®ï¼Œä¹Ÿæ— æ³•ç¡®å®šä»ä½•å¤„è·å–æ•°æ®ã€‚</p><p>ç½‘ç»œå±‚ä¸»è¦ä½œç”¨æ˜¯é€šè¿‡IPåè®®ä¸ºè”ç½‘è®¾å¤‡æä¾›IPåœ°å€ã€‚</p><p>æœ‰äº†IPåœ°å€è¿˜ä¸å¤Ÿï¼Œå› ä¸ºè¦ç¡®ä¿ç½‘ç»œä¸­æ‰€æœ‰è®¾å¤‡IPåœ°å€ä¸é‡å¤ï¼Œè¿˜éœ€è¦DHCP (Dynamic Host Configuration Protocol) æœåŠ¡å™¨æ¥å®ç°è¿™ä¸€åŠŸèƒ½ã€‚</p><p>å½“ç½‘ç»œä¸­æ‰€æœ‰è®¾å¤‡éƒ½æœ‰äº†ç‹¬ç«‹çš„IPåœ°å€åï¼Œè®¾å¤‡ä¹‹é—´å°±å¯ä»¥æ”¶å‘æ•°æ®äº†ã€‚</p><h1 id="ä¼ è¾“å±‚ï¼ˆTransportation-Layerï¼‰"><a href="#ä¼ è¾“å±‚ï¼ˆTransportation-Layerï¼‰" class="headerlink" title="ä¼ è¾“å±‚ï¼ˆTransportation Layerï¼‰"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/internet-basics/transportation-layer/">ä¼ è¾“å±‚ï¼ˆTransportation Layerï¼‰</a></h1><p>ç½‘ç»œè®¾å¤‡é€šè®¯æ—¶ï¼Œæ•°æ®ä¸¢å¤±å’Œæ•°æ®å—æŸçš„æƒ…å†µç»å¸¸å‡ºç°ã€‚ä¼ è¾“å±‚çš„<br>TCPï¼ˆTransmission Control Protocolï¼‰å’ŒUDPï¼ˆUser Datagram Protocolï¼‰åè®®å¯ä»¥ç”¨æ¥è§£å†³è¿™ä¸€é—®é¢˜ã€‚é€šå¸¸æˆ‘ä»¬ä¼šé€‰æ‹©è¿™ä¸¤ç§åè®®ä¸­çš„ä¸€ç§æ¥ä¿è¯æ•°æ®ä¼ è¾“çš„å‡†ç¡®æ€§ã€‚å…·ä½“é€‰æ‹©å“ªä¸€ç§åè®®è¦çœ‹æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ä½•ç§ç½‘ç»œåº”ç”¨ã€‚å› ä¸ºä¸åŒçš„ç½‘ç»œåº”ç”¨å¯¹äºæ•°æ®çš„ä¼ è¾“è¦æ±‚æ˜¯ä¸åŒçš„ã€‚</p><p>TCPåè®®å¯ä»¥æ›´å¥½çš„ä¿è¯æ•°æ®ä¼ è¾“çš„å‡†ç¡®æ€§ï¼Œä½†æ˜¯ä¼ è¾“é€Ÿåº¦æ¯”UDPåè®®è€Œè¨€è¦æ…¢ä¸€äº›ã€‚TCPåè®®çš„ç‰¹ç‚¹æ˜¯å¯ä»¥ä¿è¯æ‰€æœ‰æ•°æ®éƒ½èƒ½è¢«æ¥æ”¶ç«¯æ¥æ”¶ï¼Œæ•°æ®çš„ä¼ è¾“é¡ºåºä¹Ÿä¸ä¼šè¢«æ‰“ä¹±ï¼Œè€Œä¸”å¦‚æœ‰æ•°æ®æŸååˆ™é‡å‘å—æŸæ•°æ®ã€‚åŸºäºä»¥ä¸ŠåŠŸèƒ½ç‰¹ç‚¹ï¼ŒTCPé€šå¸¸ç”¨äºç”µå­é‚®ä»¶åŠæ–‡ä»¶ä¸Šä¼ ç­‰ã€‚</p><p>UDPåè®®å¹¶ä¸èƒ½ä¿è¯æ‰€æœ‰æ•°æ®éƒ½è¢«æ¥æ”¶ç«¯æ‰€æ¥å—ã€‚ä¸€æ—¦å‡ºç°æ•°æ®å—æŸçš„æƒ…å†µï¼ŒUDPåè®®å°†ä¼šæŠ›å¼ƒå—æŸçš„æ•°æ®ã€‚è¿™äº›æ•°æ®ä¸€æ—¦è¢«æŠ›å¼ƒå°†ä¼šæ°¸ä¹…æ€§çš„æ¶ˆå¤±ï¼Œå‘é€ç«¯ä¸ä¼šå› ä¸ºæ•°æ®å—æŸè€Œé‡æ–°å‘é€ã€‚å› æ­¤UDPåè®®è¿œä¸å¦‚TCPåè®®å¯é ã€‚</p><p>ä½†æ˜¯æ—¢ç„¶æ˜¯è¿™æ ·ï¼Œä¸ºä½•è¿˜æœ‰äººä¼šé€‰æ‹©UDPåè®®å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºUDPæ¯”TCPé€Ÿåº¦å¿«ã€‚å› æ­¤UDPåè®®é€šå¸¸ç”¨äºç½‘ç»œæ¸¸æˆä»¥åŠè¯­éŸ³èŠå¤©æˆ–è§†é¢‘èŠå¤©åº”ç”¨ã€‚</p><h1 id="åº”ç”¨å±‚ï¼ˆApplication-Layerï¼‰"><a href="#åº”ç”¨å±‚ï¼ˆApplication-Layerï¼‰" class="headerlink" title="åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰"></a><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/internet-basics/application-layer/">åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰</a></h1><p>ä¼ è¾“å±‚å¯ä»¥å®ç°è®¾å¤‡é—´çš„æ•°æ®ä¼ è¾“ã€‚ä½†å‘é€ç«¯å’Œæ¥æ”¶ç«¯è¿˜éœ€è¦ä¸€ç§åè®®æ¥ç†è§£è¿™äº›ä¼ è¾“ä¿¡æ¯çš„å«ä¹‰ã€‚è¿™å°±å¼•å‡ºäº†å³å°†ç»™æ‚¨ä»‹ç»çš„åº”ç”¨å±‚ã€‚</p><h4 id="HTTPåè®®"><a href="#HTTPåè®®" class="headerlink" title="HTTPåè®®"></a><strong>HTTPåè®®</strong></h4><p>åº”ç”¨å±‚ä¸­æœ‰å¾ˆå¤šç§åè®®ï¼Œæœ€å¸¸è§æ˜¯HTTPåè®®ã€‚å®ƒå¸¸è¢«ç”¨æ¥ä¼ è¾“ç½‘é¡µæ•°æ®ã€‚æˆ‘ä»¬è¿™ç¯‡æ•™ç¨‹ä¹Ÿå°†ç€é‡ä»‹ç»HTTPåè®®ã€‚</p><p>HTTPåè®®ç”±<strong>è¯·æ±‚</strong>å’Œ<strong>å“åº”</strong>æ„æˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒHTTPçš„å·¥ä½œæ¨¡å¼å¾ˆåƒæ˜¯ä¸€é—®ä¸€ç­”ã€‚</p><h4 id="HTTPè¯·æ±‚"><a href="#HTTPè¯·æ±‚" class="headerlink" title="HTTPè¯·æ±‚"></a><strong>HTTPè¯·æ±‚</strong></h4><p>ä¸¾ä¾‹æ¥è¯´ï¼Œå½“æ‚¨åœ¨æµè§ˆå™¨è¾“å…¥<a href="http://www.taichi-maker.comè¿™ä¸€ç½‘å€å¹¶æŒ‰ä¸‹å›è½¦,è¿™æ—¶å€™æµè§ˆå™¨ä¼šæŠŠè¿™ä¸€æ“ä½œè½¬æ¢æˆä¸€ä¸ªhttpè¯·æ±‚./">www.taichi-maker.comè¿™ä¸€ç½‘å€å¹¶æŒ‰ä¸‹å›è½¦ï¼Œè¿™æ—¶å€™æµè§ˆå™¨ä¼šæŠŠè¿™ä¸€æ“ä½œè½¬æ¢æˆä¸€ä¸ªHTTPè¯·æ±‚ã€‚</a></p><p>è¿™ä¸ªHTTPè¯·æ±‚ä¸»è¦åˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†ã€‚ä¸€éƒ¨åˆ†æ˜¯è¯·æ±‚å¤´ï¼ˆRequest Headerï¼‰ä¸€éƒ¨åˆ†æ˜¯è¯·æ±‚ä½“ï¼ˆRequest Bodyï¼‰ã€‚å¯¹äºæˆ‘ä»¬å­¦ä¹ ç‰©è”ç½‘çŸ¥è¯†æ¥è¯´ï¼Œè¯·æ±‚å¤´æ˜¯æˆ‘ä»¬é‡ç‚¹è¦å…³æ³¨çš„å†…å®¹ã€‚è€Œè¯·æ±‚ä½“çš„çŸ¥è¯†å·²ç»è¶…è¶Šè¿™ç¯‡æ•™ç¨‹çš„èŒƒå›´ï¼ŒæŠ±æ­‰æˆ‘å°±ä¸åœ¨è¿™é‡Œè¯¦è¿°äº†ã€‚</p><p>è¯·çœ‹ä»¥ä¸‹æ˜¯ç®€åŒ–åçš„è¯·æ±‚å¤´å†…å®¹ï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>www.taichi-maker.com</span><br></pre></td></tr></table></figure><p>åœ¨ä»¥ä¸Šçš„HTTPè¯·æ±‚ä¸­:</p><p>â€œGETâ€ æ˜¯ä¸€ä¸ª<strong>è¯»å–</strong>è¯·æ±‚ã€‚ä¹Ÿå°±æ˜¯è¯·æ±‚ç½‘ç«™æœåŠ¡å™¨æŠŠç½‘é¡µæ•°æ®å‘é€è¿‡æ¥ã€‚</p><p>â€œ&#x2F;â€ çš„ä½œç”¨å°±æ˜¯è¦å‘Šè¯‰ç½‘ç«™æœåŠ¡å™¨ï¼Œæˆ‘è¿™ä¸ªè¯»å–è¯·æ±‚çš„å†…å®¹æ˜¯ç½‘ç«™æ ¹ç›®å½•ä¸‹çš„å†…å®¹ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯è¯·æ±‚æœåŠ¡å™¨æŠŠç½‘ç«™é¦–é¡µçš„ç½‘é¡µæ•°æ®å‘è¿‡æ¥ã€‚</p><p>â€œHTTP&#x2F;1.1â€ æ˜¯æŒ‡è¯·æ±‚æ‰€é‡‡ç”¨çš„HTTPåè®®ç‰ˆæœ¬æ˜¯1.1ã€‚</p><p>â€œHost: <a href="http://www.taichi-maker.comâ€è¡¨ç¤ºè¯·æ±‚çš„åŸŸåæ˜¯/">www.taichi-maker.comâ€è¡¨ç¤ºè¯·æ±‚çš„åŸŸåæ˜¯</a> <a href="http://www.taichi-maker.com/">www.taichi-maker.com</a> ä¹Ÿå°±æ˜¯å¤ªæåˆ›å®¢ç½‘ç«™çš„åŸŸåã€‚</p><p>ä»¥ä¸Šæ˜¯HTTPåè®®çš„ GET è¯·æ±‚ä¸­æœ€å…³é”®çš„å†…å®¹ã€‚åœ¨ HTTP åè®®ä¸­ï¼ŒGETåªæ˜¯è¯¸å¤šè¯·æ±‚æ–¹æ³•ä¸­çš„ä¸€ç§ã€‚ä»¥ä¸‹æ˜¯HTTPåè®®ä¸­çš„å…¶å®ƒè¯·æ±‚æ–¹æ³•ï¼š</p><p><strong>HTTP1.0å®šä¹‰äº†ä¸‰ç§è¯·æ±‚æ–¹æ³•ï¼š GET, POST å’Œ HEADæ–¹æ³•ã€‚</strong><br><strong>HTTP1.1æ–°å¢äº†äº”ç§è¯·æ±‚æ–¹æ³•ï¼šOPTIONS, PUT, DELETE, TRACE å’Œ CONNECT æ–¹æ³•ã€‚</strong></p><p>å…³äºè¯·æ±‚æ–¹æ³•ï¼Œæˆ‘ä»¬è¿™é‡Œä¸»è¦ä»‹ç»çš„åªæœ‰GETã€‚å…¶å®ƒçš„è¯·æ±‚æ–¹æ³•å·²ç»è¶…è¶Šäº†æˆ‘ä»¬è¿™ä¸ªæ•™ç¨‹çš„èŒƒå›´ï¼Œå°±ä¸åœ¨è¿™é‡Œç»§ç»­æ·±å…¥è®²ä¸‹å»äº†ã€‚æ„Ÿå…´è¶£çš„è¯ï¼Œæ‚¨å¯ä»¥é€šè¿‡äº’è”ç½‘æ‰¾åˆ°è¿™æ–¹é¢çš„æ•™ç¨‹èµ„æºã€‚</p><h4 id="HTTPå“åº”"><a href="#HTTPå“åº”" class="headerlink" title="HTTPå“åº”"></a><strong>HTTPå“åº”</strong></h4><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†çœ‹ä¸€çœ‹æµè§ˆå™¨å‘é€ä»¥ä¸ŠHTTPè¯·æ±‚åï¼Œæ¥æ”¶åˆ°çš„æœåŠ¡å™¨HTTPå“åº”ã€‚HTTPå“åº”å†…å®¹ä¹Ÿæ˜¯åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯å“åº”å¤´ï¼ˆResponse Headerï¼‰ä¸€éƒ¨åˆ†æ˜¯å“åº”ä½“ï¼ˆResponse Bodyï¼‰ã€‚å…¶ä¸­å“åº”ä½“éƒ¨åˆ†æ˜¯å¯é€‰é¡¹ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰äº›HTTPå“åº”åªæœ‰å“åº”å¤´ï¼Œè€Œå“åº”ä½“æ˜¯ç©ºçš„ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥ç»™å¤§å®¶ä»‹ç»å“åº”å¤´éƒ¨åˆ†ã€‚</p><p>ç”±äºå“åº”å¤´ä¿¡æ¯é‡æ¯”è¾ƒå¤§ï¼Œæˆ‘ä»¬è¿˜æ˜¯é€‰å‡ºä¸»è¦å†…å®¹ç»™å¤§å®¶è®²è§£ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span> OK</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/html; charset=UTF-8</span><br></pre></td></tr></table></figure><p>â€œHTTP&#x2F;1.1â€è¿™ä¸ªä¿¡æ¯æˆ‘ä»¬åˆšåˆšåœ¨HTTPè¯·æ±‚éƒ¨åˆ†ä¸­ä»‹ç»è¿‡ã€‚å®ƒçš„å«ä¹‰å°±æ˜¯æ­¤HTTPå“åº”æ‰€é‡‡ç”¨çš„åè®®ç‰ˆæœ¬æ˜¯1.1ã€‚</p><p>â€œ200â€è¿™ä¸ªä»£ç å¯èƒ½æœ‰äº›æœ‹å‹ä¼šæ„Ÿè§‰é™Œç”Ÿã€‚ä½†æ˜¯å¦‚æœæˆ‘è¯´èµ·â€œ404â€è¿™ä¸ªæ•°å­—å¯èƒ½å¤§å®¶ä¼šæ„Ÿåˆ°æ›´ç†Ÿæ‚‰å§ï¼Ÿæ— è®ºæ˜¯200ä¹Ÿå¥½è¿˜æ˜¯404ä¹Ÿå¥½ï¼Œè¿™äº›éƒ½æ˜¯HTTPå“åº”çŠ¶æ€ç ã€‚å®ƒçš„ä½œç”¨æ˜¯ä»¥ä»£ç çš„å½¢å¼è¡¨è¾¾æœåŠ¡å™¨åœ¨æ¥åˆ°è¯·æ±‚åçš„çŠ¶æ€ã€‚â€œ200â€ä»£è¡¨æœåŠ¡å™¨æˆåŠŸæ‰¾åˆ°äº†è¯·æ±‚çš„ç½‘é¡µèµ„æºï¼ˆè¿™ä¸€ç‚¹å¤§å®¶åœ¨åé¢çš„OKä¸­ä¹Ÿå·²ç»ä½“ç°å‡ºæ¥äº†ï¼‰ã€‚ â€œ404â€ä»£è¡¨æœåŠ¡å™¨æ— æ³•æ‰¾åˆ°è¯·æ±‚çš„ç½‘é¡µèµ„æºã€‚ï¼š</p><p>ä»¥ä¸‹æ˜¯å¸¸è§çš„æœåŠ¡å™¨çŠ¶æ€ç ï¼š</p><p>100~199ï¼šæˆåŠŸæ¥æ”¶è¯·æ±‚ï¼Œè¦æ±‚å®¢æˆ·ç«¯ç»§ç»­æäº¤ä¸‹ä¸€æ¬¡è¯·æ±‚æ‰èƒ½å®Œæˆæ•´ä¸ªå¤„ç†è¿‡ç¨‹ã€‚</p><p>200~299ï¼šæˆåŠŸæ¥æ”¶è¯·æ±‚å¹¶å·²å®Œæˆæ•´ä¸ªå¤„ç†è¿‡ç¨‹ã€‚å¸¸ç”¨200</p><p>300~399ï¼šå®Œæˆè¯·æ±‚ï¼Œå®¢æˆ·éœ€è¿›ä¸€æ­¥ç»†åŒ–è¯·æ±‚ã€‚</p><p>400~499ï¼šå®¢æˆ·ç«¯çš„è¯·æ±‚æœ‰é”™è¯¯ï¼Œå¸¸ç”¨404å’Œ403(403çš„å«ä¹‰æ˜¯æƒé™ä¸å¤Ÿï¼ŒæœåŠ¡å™¨æ‹’ç»è®¿é—®ã€‚)</p><p>500~599ï¼šæœåŠ¡å™¨ç«¯å‡ºç°é”™è¯¯ï¼Œå¸¸ç”¨500</p><p><strong>â€œContent-Typeâ€</strong> æŒ‡ç¤ºå“åº”ä½“çš„å†…å®¹æ˜¯ä»€ä¹ˆç±»å‹ã€‚è¿™é‡Œçš„å“åº”ä½“å†…å®¹ç±»å‹æ˜¯<strong>â€œtext&#x2F;htmâ€</strong>ï¼Œå³ç½‘é¡µHTMLä»£ç ã€‚é€šè¿‡è¿™ä¸€è¡Œå“åº”å¤´ä¿¡æ¯ï¼Œæˆ‘ä»¬çš„æµè§ˆå™¨å°†ä¼šçŸ¥é“ï¼Œåœ¨è¿™ä¸€ä¸ªå“åº”ä¸­çš„å“åº”ä½“éƒ¨åˆ†éƒ½æ˜¯HTMLç½‘é¡µä»£ç ã€‚äºæ˜¯æµè§ˆå™¨å°†ä¼šåšå¥½å‡†å¤‡ï¼Œå°†ç½‘é¡µä»£ç ç¿»è¯‘æˆæˆ‘ä»¬äººç±»å®¹æ˜“è¯»æ‡‚çš„æ ¼å¼å¹¶ä¸”å‘ˆç°åœ¨æµè§ˆå™¨ä¸­ã€‚<strong>charset&#x3D;UTF-8</strong>æ˜¯å­—ç¬¦é›†ã€‚</p><p>æˆ‘ä»¬å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå‡è®¾æŸä¸€ä¸ªå“åº”å¤´ä¸­â€œContent-Typeâ€ ç±»å‹æ˜¯â€image&#x2F;jpegâ€ã€‚è¿™å°±æ„å‘³ç€è¯¥å“åº”ä½“ä¸­çš„ä¿¡æ¯æ˜¯ä¸€ä¸ªjpegæ ¼å¼çš„å›¾ç‰‡ï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¹Ÿå°±ä¼šæŒ‰ç…§jpegçš„è§£ç æ–¹å¼å°†å›¾ç‰‡å‘ˆç°åœ¨æˆ‘ä»¬çš„é¢å‰ã€‚</p><p>åœ¨ä»¥ä¸Šç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº’è”ç½‘æµè§ˆå™¨æ¥è®²è§£HTTPçš„è¯·æ±‚å’Œå“åº”ã€‚å½“æˆ‘ä»¬ä½¿ç”¨NodeMCUæ¥å¼€å‘ç‰©è”ç½‘é¡¹ç›®æ—¶ï¼Œå‘å‡ºHTTPè¯·æ±‚çš„å°±ä¸å†æ˜¯æµè§ˆå™¨è€Œæ˜¯NodeMCUå¼€å‘æ¿äº†ã€‚è€Œè¯»å–è¿™äº›å“åº”è¯·æ±‚çš„ä¹Ÿå°†æ˜¯NodeMCUå¼€å‘æ¿ã€‚é‚£ä¹ˆï¼Œç©¶ç«Ÿå¦‚ä½•è®©NodeMCUå‘å‡ºHTTPè¯·æ±‚ï¼Œè€ŒNodeMCUåˆæ˜¯å¦‚ä½•è§£è¯»HTTPå“åº”å‘¢ï¼Ÿè¿™äº›éƒ½ä¾èµ–äºæˆ‘ä»¬ä¸ºNodeMCUå¼€å‘çš„æ§åˆ¶ç¨‹åºã€‚è¿™äº›å†…å®¹ä¼šåœ¨åç»­çš„æ•™ç¨‹é‡Œç»™å¤§å®¶è¯¦ç»†ä»‹ç»ã€‚</p><h4 id="DNSï¼ˆDomain-Name-System-x2F-åŸŸåç³»ç»Ÿï¼‰"><a href="#DNSï¼ˆDomain-Name-System-x2F-åŸŸåç³»ç»Ÿï¼‰" class="headerlink" title="DNSï¼ˆDomain Name System&#x2F;åŸŸåç³»ç»Ÿï¼‰"></a><strong>DNSï¼ˆDomain Name System&#x2F;åŸŸåç³»ç»Ÿï¼‰</strong></h4><p>åœ¨ä¹‹å‰çš„æ•™ç¨‹ä¸­ï¼Œæˆ‘æ›¾ç»ç»™å¤§å®¶è®²è¿‡ç½‘ç»œä¸­çš„æ‰€æœ‰è®¾å¤‡éƒ½å…·æœ‰ç‹¬ç«‹çš„IPåœ°å€ã€‚è¿™ä¸€ç‚¹å¯¹äºç½‘ç«™æœåŠ¡å™¨æ¥è¯´ä¹Ÿä¸ä¾‹å¤–ã€‚å½“æˆ‘ä»¬ä½¿ç”¨æµè§ˆå™¨è®¿é—®æŸä¸€ä¸ªç½‘ç«™æ—¶ï¼Œå®é™…ä¸Šæˆ‘ä»¬æ˜¯é€šè¿‡æµè§ˆå™¨å‘ç½‘ç«™æœåŠ¡å™¨å‘é€HTTPè¯·æ±‚ã€‚ç„¶è€Œç½‘ç«™æœåŠ¡å™¨çš„IPåœ°å€å¾ˆéš¾è®°å¿†ï¼Œæ¯”å¦‚å¤ªæåˆ›å®¢ç½‘ç«™çš„åŸŸåç”±ä¸¤ä¸ªå•è¯ç»„æˆï¼Œtaichiæ˜¯å¤ªæï¼Œmakeræ˜¯åˆ›å®¢ã€‚è¿™å¾ˆå¥½è®°ï¼Œä½†æ˜¯è¦æƒ³è®°ä½å¤ªæåˆ›å®¢æœåŠ¡å™¨çš„IPå°±æ²¡é‚£ä¹ˆå®¹æ˜“äº†ã€‚å› ä¸ºé‚£æ˜¯4ä¸ªæ¯«æ— è§„å¾‹çš„æ•°å­—ã€‚</p><p>ä¸ºäº†è§£å†³IPåœ°å€ä¸å¥½è®°è¿™ä¸€é—®é¢˜ï¼ŒDNSè¢«æ´¾ä¸Šäº†ç”¨åœºã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŠŠDNSçœ‹ä½œæ˜¯ä¸€ä¸ªå·¨å‹ç”µè¯æœ¬ã€‚ç”µè¯æœ¬ä¸­çš„è”ç³»äººä¸€æ å°±æ˜¯ç½‘ç«™çš„åŸŸåï¼Œè€Œç”µè¯æœ¬ä¸­çš„ç”µè¯å·ç ä¸€æ åˆ™æ˜¯è¿™äº›ç½‘ç«™çš„IPåœ°å€ã€‚æœ‰äº†DNSæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ç®€å•æ˜“è®°çš„åŸŸåæ¥è®¿é—®ç½‘ç«™äº†ã€‚</p><p>è¿˜æ˜¯ç”¨å¤ªæåˆ›å®¢ç½‘ç«™æ¥ä¸¾ä¾‹å§ï¼Œæ¯å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥åŸŸå<a href="www.taichi-maker.com">www.taichi-maker.com</a>å¹¶æŒ‰ä¸‹å›è½¦åï¼Œè¿™æ—¶æµè§ˆå™¨é¦–å…ˆä¼šå‘DNSæœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè¯·æ±‚çš„å†…å®¹å¤§è‡´å¦‚ä¸‹ï¼šâ€œäº²çˆ±çš„DNSæœåŠ¡å™¨ï¼Œæˆ‘é‚£ä¸ªæ˜æ˜å¯ä»¥é è„¸åƒé¥­å´ååè¦å­¦ç‰©è”ç½‘çš„ä¸»äººæƒ³è®¿é—®ä¸€ä¸ªåŸŸåæ˜¯<a href="www.taichi-maker.com">www.taichi-maker.com</a>çš„ç½‘ç«™ã€‚éº»çƒ¦æ‚¨æŠŠè¿™ä¸ªåŸŸåçš„ç½‘ç«™æœåŠ¡å™¨IPåœ°å€å‘Šè¯‰æˆ‘å¥½å—ï¼Ÿâ€ DNSæœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°è¿™ä¸€è¯·æ±‚åï¼Œä¼šåšå‡ºä»¥ä¸‹åº”ç­”ï¼šâ€œäº²çˆ±çš„æµè§ˆå™¨ï¼Œæ‚¨è¦çš„ç½‘ç«™æœåŠ¡å™¨ipåœ°å€æ˜¯ 12 . 34 . 56 . 78ã€‚â€ æµè§ˆå™¨åœ¨æ¥æ”¶åˆ°è¿™ä¸€IPåœ°å€åï¼Œå°±å¼€å§‹å‘è¿™ä¸ªIPåœ°å€æ‰€å¯¹åº”çš„ç½‘ç«™æœåŠ¡å™¨æ­£å¼å‘å‡ºHTTP GETè¯·æ±‚äº†ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> esp8266 </tag>
            
            <tag> ç‰©è”ç½‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ç‰©è”ç½‘ä¹‹ESP8266NodeMCUï¼ˆä¸€ï¼‰</title>
      <link href="/post/a01e6d85.html"/>
      <url>/post/a01e6d85.html</url>
      
        <content type="html"><![CDATA[<h1 id="åˆè¯†NodeMCUå¼€å‘æ¿"><a href="#åˆè¯†NodeMCUå¼€å‘æ¿" class="headerlink" title="åˆè¯†NodeMCUå¼€å‘æ¿"></a>åˆè¯†NodeMCUå¼€å‘æ¿</h1><p>å¸‚é¢ä¸Šé”€å”®çš„é…æœ‰ESP8266èŠ¯ç‰‡çš„å¼€å‘æ¿æœ‰å¾ˆå¤šç§ã€‚æ¯”è¾ƒæµè¡Œçš„æœ‰SparkFun ESP8266 Thingã€Adafruit Feather HUZZAH with ESP8266ã€NodeMCUç­‰ã€‚è¿™é‡Œé€‰æ‹©è·Ÿå¤ªæåˆ›å®¢å›¢é˜Ÿå­¦NodeMCUã€‚</p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/imagesnodemcu_pinLocation.jpg" alt="ESP8266-NodeMCUå¼€å‘æ¿"></p><h2 id="æ•°å­—è¾“å…¥è¾“å‡ºå¼•è„šï¼ˆGPIOï¼‰"><a href="#æ•°å­—è¾“å…¥è¾“å‡ºå¼•è„šï¼ˆGPIOï¼‰" class="headerlink" title="æ•°å­—è¾“å…¥è¾“å‡ºå¼•è„šï¼ˆGPIOï¼‰"></a>æ•°å­—è¾“å…¥è¾“å‡ºå¼•è„šï¼ˆGPIOï¼‰</h2><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒESP8266èŠ¯ç‰‡å››å‘¨åˆ†å¸ƒå¾ˆå¤šå¼•è„šã€‚è¿™äº›å¼•è„šå¤§éƒ¨åˆ†å¯ç”¨ä½œè¾“å…¥è¾“å‡ºä½¿ç”¨ã€‚è¿™äº›ç”¨ä½œè¾“å…¥è¾“å‡ºçš„å¼•è„šç»Ÿç§°ä¸ºGPIOã€‚</p><p>å½“å¼•è„šä»¥æ•°å­—è¾“å‡ºæ¨¡å¼å·¥ä½œæ—¶ï¼Œä½ç”µå¹³æ˜¯<font color=red size=4>0V</font>&gt; (çŒç”µæµ)ï¼Œé«˜ç”µå¹³æ˜¯<font color=red size=4>3.3V</font> (æ‹‰ç”µæµ)ã€‚</p><p><font face="é»‘ä½“" color=green size=4>è¯·æ³¨æ„:ESP8266èŠ¯ç‰‡ä¸Arduino Uno&#x2F;Mega&#x2F;Nanoç­‰å¼€å‘æ¿çš„å¼•è„šç”µå¹³ç”µå‹æœ‰æ‰€åŒºåˆ«ã€‚Arduinoå¼€å‘æ¿çš„é«˜ç”µå¹³æ˜¯+5Vï¼Œä½ç”µå¹³æ˜¯0Vã€‚</font></p><h3 id="GPIOç¼–å·ä¸NodeMCUå¼€å‘æ¿å¼•è„šåçš„åŒºåˆ«"><a href="#GPIOç¼–å·ä¸NodeMCUå¼€å‘æ¿å¼•è„šåçš„åŒºåˆ«" class="headerlink" title="GPIOç¼–å·ä¸NodeMCUå¼€å‘æ¿å¼•è„šåçš„åŒºåˆ«"></a>GPIOç¼–å·ä¸NodeMCUå¼€å‘æ¿å¼•è„šåçš„åŒºåˆ«</h3><p>è¯·ç•™æ„ï¼šåœ¨å¾ˆå¤šä»‹ç»ESP8266ä»¥åŠNodeMCUçš„èµ„æ–™é‡Œä¼šå‡ºç°ä¸¤ç§å¼•è„šå‘½åæ–¹æ³•ã€‚ä¸€ç§æ˜¯GPIOç¼–å·ï¼Œä¸€ç§æ˜¯NodeMCUå¼•è„šåã€‚è¯·æ³¨æ„è¿™ä¸¤è€…æ˜¯ä¸åŒçš„ï¼Œè¯·åƒä¸‡ä¸è¦æ··æ·†ã€‚</p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/imagesnodemcu-pin-number.jpg" alt="nodemcu-pin-number"></p><p>ç®€è€Œè¨€ä¹‹ï¼Œåªè¦æ‚¨çœ‹åˆ°GPIOè¿™å‡ ä¸ªå­—æ¯ï¼Œå°±è¯´æ˜æ˜¯èŠ¯ç‰‡å¼•è„šï¼Œè€Œæ²¡æœ‰GPIOè¿™å‡ ä¸ªå­—æ¯ï¼Œé‚£è‚¯å®šæ˜¯æŒ‡å¼€å‘æ¿å¼•è„šã€‚</p><h3 id="ESP8266-GPIOç¼–å·ä¸NodeMCUå¼€å‘æ¿å¼•è„šåçš„å¯¹åº”å…³ç³»"><a href="#ESP8266-GPIOç¼–å·ä¸NodeMCUå¼€å‘æ¿å¼•è„šåçš„å¯¹åº”å…³ç³»" class="headerlink" title="ESP8266 GPIOç¼–å·ä¸NodeMCUå¼€å‘æ¿å¼•è„šåçš„å¯¹åº”å…³ç³»"></a>ESP8266 GPIOç¼–å·ä¸NodeMCUå¼€å‘æ¿å¼•è„šåçš„å¯¹åº”å…³ç³»</h3><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/imagesnodemcu-pin-GPIO_001.png" alt="nodemcu-pin-GPIO_001"></p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/esp8266_devkit_horizontal-002.png" alt="esp8266_devkit_horizontal-002"></p><p>åœ¨ä»¥ä¸Šå›¾ç‰‡ä¸­æ·±è“åº•ç™½è‰²å­—çš„æ ‡è¯†å°±æ˜¯GPIOå¼•è„šç¼–å·ã€‚å¦‚<img src="http://www.taichi-maker.com/wp-content/uploads/2019/02/GPIO4.png" alt="NodeMCU-GPIO4"> </p><p>è€Œå¼€å‘æ¿ä¸Šæ‰€å°åˆ·çš„D2,D3ç­‰ç­‰å°±æ˜¯NodeMCUå¼€å‘æ¿å¼•è„šåç§°ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">digitalWrite(<span class="number">4</span>, High);</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šè¯­å¥é€šè¿‡digitalWriteå‡½æ•°å°†å¼•è„š4è®¾ç½®ä¸ºé«˜ç”µå¹³ã€‚è¿™é‡Œçš„æ•°å­—4å°±æ˜¯æŒ‡GPIO4ã€‚ä¹Ÿå¯ä»¥è¯´è¿™ä¸ªè¯­å¥æ˜¯å°†NodeMCUå¼€å‘æ¿çš„D2å¼•è„šè®¾ç½®ä¸ºé«˜ç”µå¹³,å³ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">digitalWrite(D2, High);    <span class="comment">//å› ä¸ºD2å¯¹åº”çš„æ˜¯GPIO4ã€‚</span></span><br></pre></td></tr></table></figure><h2 id="å¯ç”¨å¼•è„š"><a href="#å¯ç”¨å¼•è„š" class="headerlink" title="å¯ç”¨å¼•è„š"></a>å¯ç”¨å¼•è„š</h2><p>ESP8266èŠ¯ç‰‡æœ‰17ä¸ªGPIOå¼•è„šï¼ˆGPIO0ï½GPIO16ï¼‰ã€‚è¿™äº›å¼•è„šä¸­çš„GPIO6ï½GPIO 11è¢«ç”¨äºè¿æ¥å¼€å‘æ¿çš„é—ªå­˜ï¼ˆFlash Memoryï¼‰ã€‚å¦‚æœåœ¨å®éªŒç”µè·¯ä¸­ä½¿ç”¨GPIO6ï½GPIO11ï¼ŒNodeMCUå¼€å‘æ¿å°†æ— æ³•æ­£å¸¸å·¥ä½œã€‚å› æ­¤å»ºè®®æ‚¨<font color=red size=4>ä¸è¦ä½¿ç”¨GPIO6ï½GPIO 11ã€‚</font></p><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/imagesesp8266_devkit_horizontal-flash-pins.png" alt="*ESP8266çš„GPIO6-GPIO11ç”¨äºè¿æ¥é—ªå­˜ï¼Œå› æ­¤ä¸å»ºè®®ä½¿ç”¨è¿™äº›å¼•è„šã€‚*"></p><h3 id="ç”µå‹ç”µæµé™åˆ¶"><a href="#ç”µå‹ç”µæµé™åˆ¶" class="headerlink" title="ç”µå‹ç”µæµé™åˆ¶"></a>ç”µå‹ç”µæµé™åˆ¶</h3><p>NodeMCUå¼€å‘æ¿å¼•è„šçš„<font color=orange>è¾“å…¥è¾“å‡ºç”µå‹é™åˆ¶æ˜¯3.3 V</font>ã€‚å¦‚æœå‘å¼•è„šæ–½åŠ 3.6Vä»¥ä¸Šçš„ç”µå‹å°±æœ‰å¯èƒ½å¯¹èŠ¯ç‰‡ç”µè·¯é€ æˆæŸåã€‚åŒæ—¶è¯·æ³¨æ„ï¼Œè¿™äº›å¼•è„šçš„<font color=orange>æœ€å¤§è¾“å‡ºç”µæµæ˜¯12mAã€‚</font></p><p>ç”±äºNodeMCUå¼€å‘æ¿çš„å¼•è„šå…è®¸ç”µå‹å’Œç”µæµéƒ½æ˜¯ä½äºArduinoå¼€å‘æ¿çš„å¼•è„šï¼Œå°†NodeMCUä¸Arduinoå¼•è„šç›¸äº’è¿æ¥æ—¶ä¸€å®šè¦ç‰¹åˆ«æ³¨æ„è¿™ä¸¤ä¸ªå¼€å‘æ¿çš„å¼•è„šç”µå‹å’Œç”µæµçš„åŒºåˆ«ã€‚æ“ä½œä¸å½“ææœ‰å¯èƒ½å¯èƒ½ä¼šæŸåNodeMCUå¼€å‘æ¿ã€‚</p><h3 id="ç‰¹æ®Šå¼•è„šæƒ…å†µè¯´æ˜"><a href="#ç‰¹æ®Šå¼•è„šæƒ…å†µè¯´æ˜" class="headerlink" title="ç‰¹æ®Šå¼•è„šæƒ…å†µè¯´æ˜"></a>ç‰¹æ®Šå¼•è„šæƒ…å†µè¯´æ˜</h3><p><strong>GPIO2å¼•è„š</strong> åœ¨NodeMCUå¼€å‘æ¿å¯åŠ¨æ—¶æ˜¯ä¸èƒ½è¿æ¥ä½ç”µå¹³çš„ã€‚</p><p><strong>GPIO15å¼•è„š</strong>åœ¨å¼€å‘æ¿è¿è¡Œä¸­ä¸€ç›´ä¿æŒä½ç”µå¹³çŠ¶æ€ã€‚å› æ­¤è¯·ä¸è¦ä½¿ç”¨GPIO15å¼•è„šæ¥è¯»å–å¼€å…³çŠ¶æ€æˆ–è¿›è¡ŒIÂ²Cé€šè®¯ã€‚</p><p><strong>GPIO0å¼•è„š</strong>åœ¨å¼€å‘æ¿è¿è¡Œä¸­éœ€è¦ä¸€ç›´ä¿æŒé«˜ç”µå¹³çŠ¶æ€ã€‚å¦åˆ™ESP8266å°†è¿›å…¥ç¨‹åºä¸Šä¼ å·¥ä½œæ¨¡å¼ä¹Ÿå°±æ— æ³•æ­£å¸¸å·¥ä½œäº†ã€‚æ‚¨æ— éœ€å¯¹GPIO0å¼•è„šè¿›è¡Œé¢å¤–æ“ä½œï¼Œå› ä¸ºNodeMCUçš„å†…ç½®ç”µè·¯å¯ä»¥ç¡®ä¿GPIO0å¼•è„šåœ¨å·¥ä½œæ—¶è¿æ¥é«˜ç”µå¹³è€Œåœ¨ä¸Šä¼ ç¨‹åºæ—¶è¿æ¥ä½ç”µå¹³ã€‚</p><h3 id="ä¸Šæ‹‰ç”µé˜»-x2F-ä¸‹æ‹‰ç”µé˜»"><a href="#ä¸Šæ‹‰ç”µé˜»-x2F-ä¸‹æ‹‰ç”µé˜»" class="headerlink" title="ä¸Šæ‹‰ç”µé˜»&#x2F;ä¸‹æ‹‰ç”µé˜»"></a>ä¸Šæ‹‰ç”µé˜»&#x2F;ä¸‹æ‹‰ç”µé˜»</h3><p><strong>GPIO 0-15å¼•è„š</strong>éƒ½é…æœ‰å†…ç½®ä¸Šæ‹‰ç”µé˜»ã€‚è¿™ä¸€ç‚¹ä¸Arduinoååˆ†ç±»ä¼¼ã€‚<strong>GPIO16 å¼•è„š</strong>é…æœ‰å†…ç½®ä¸‹æ‹‰ç”µé˜»ã€‚</p><h3 id="æ¨¡æ‹Ÿè¾“å…¥"><a href="#æ¨¡æ‹Ÿè¾“å…¥" class="headerlink" title="æ¨¡æ‹Ÿè¾“å…¥"></a>æ¨¡æ‹Ÿè¾“å…¥</h3><p>ESP8266 åªæœ‰ä¸€ä¸ªæ¨¡æ‹Ÿè¾“å…¥å¼•è„šï¼ˆè¯¥å¼•è„šé€šè¿‡æ¨¡æ‹Ÿ-æ•°å­—è½¬æ¢å°†å¼•è„šä¸Šçš„æ¨¡æ‹Ÿç”µå‹æ•°å€¼è½¬åŒ–ä¸ºæ•°å­—é‡ï¼‰ã€‚<font color=red>æ­¤å¼•è„šå¯è¯»å–çš„æ¨¡æ‹Ÿç”µå‹å€¼ä¸º 0 â€“ 1.0Vã€‚</font>è¯·æ³¨æ„ï¼šESP8266 èŠ¯ç‰‡æ¨¡æ‹Ÿè¾“å…¥å¼•è„šè¿æ¥åœ¨1.0Vä»¥ä¸Šç”µå‹å¯èƒ½æŸåESP8266èŠ¯ç‰‡ã€‚</p><p>ä»¥ä¸Šæ‰€æè¿°çš„æ˜¯é’ˆå¯¹ESP8266èŠ¯ç‰‡çš„å¼•è„šã€‚è€Œå¯¹äºNodeMCUå¼€å‘æ¿å¼•è„šï¼Œæƒ…å†µå°±ä¸åŒäº†ã€‚</p><p>NodeMCUå¼€å‘æ¿é…æœ‰é™å‹ç”µè·¯ã€‚æ‚¨å¯ä»¥ç”¨NodeMCUå¼€å‘æ¿çš„æ¨¡æ‹Ÿè¾“å…¥å¼•è„šè¯»å–0-3.3Vçš„æ¨¡æ‹Ÿç”µå‹ä¿¡å·ã€‚</p><h3 id="é€šè®¯"><a href="#é€šè®¯" class="headerlink" title="é€šè®¯"></a>é€šè®¯</h3><h4 id="ä¸²è¡Œç«¯å£"><a href="#ä¸²è¡Œç«¯å£" class="headerlink" title="ä¸²è¡Œç«¯å£"></a><strong>ä¸²è¡Œç«¯å£</strong></h4><p>ESP8266æœ‰2ä¸ªç¡¬ä»¶ä¸²è¡Œç«¯å£ï¼ˆUARTï¼‰ã€‚</p><p>ä¸²è¡Œç«¯å£0ï¼ˆUART0ï¼‰ä½¿ç”¨GPIO1å’ŒGPIO3å¼•è„šã€‚å…¶ä¸­GPIO1å¼•è„šæ˜¯TX0ï¼ŒGPIO3æ˜¯RX0ã€‚</p><p>ä¸²è¡Œç«¯å£1ï¼ˆUART1ï¼‰ä½¿ç”¨GPIO2å’ŒGPIO8å¼•è„šã€‚å…¶ä¸­GPIO2å¼•è„šæ˜¯TX1ï¼ŒGPIO8æ˜¯RX1ã€‚è¯·æ³¨æ„ï¼Œç”±äºGPIO8è¢«ç”¨äºè¿æ¥é—ªå­˜èŠ¯ç‰‡ï¼Œä¸²è¡Œç«¯å£1åªèƒ½ä½¿ç”¨GPIO2æ¥å‘å¤–å‘é€ä¸²è¡Œæ•°æ®ã€‚</p><h4 id="IÂ²C"><a href="#IÂ²C" class="headerlink" title="IÂ²C"></a><strong>IÂ²C</strong></h4><p>ESP8266åªæœ‰è½¯ä»¶æ¨¡æ‹Ÿçš„IÂ²Cç«¯å£ï¼Œæ²¡æœ‰ç¡¬ä»¶IÂ²Cç«¯å£ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»æ„çš„ä¸¤ä¸ªGPIOå¼•è„šé€šè¿‡è½¯ä»¶æ¨¡æ‹Ÿæ¥å®ç°IÂ²Cé€šè®¯ã€‚ESP8266çš„æ•°æ®è¡¨ï¼ˆdatasheetï¼‰ä¸­ï¼ŒGPIO2æ ‡æ³¨ä¸ºSDAï¼ŒGPIO14æ ‡æ³¨ä¸ºSCLã€‚</p><h4 id="SPI"><a href="#SPI" class="headerlink" title="SPI"></a><strong>SPI</strong></h4><p>ESP8266çš„SPIç«¯å£æƒ…å†µå¦‚ä¸‹ï¼š</p><p>GPIO14 â€” CLK<br>GPIO12 â€” MISO<br>GPIO13 â€” MOSI<br>GPIO 15 â€” CS(SS)</p><h3 id="ESP8266å¼•è„šåŠŸèƒ½ä¸€è§ˆ"><a href="#ESP8266å¼•è„šåŠŸèƒ½ä¸€è§ˆ" class="headerlink" title="ESP8266å¼•è„šåŠŸèƒ½ä¸€è§ˆ"></a><strong>ESP8266å¼•è„šåŠŸèƒ½ä¸€è§ˆ</strong></h3><table><thead><tr><th align="left">GPIO</th><th align="left">åŠŸèƒ½</th><th align="left">çŠ¶æ€</th><th align="left">é™åˆ¶</th></tr></thead><tbody><tr><td align="left">0</td><td align="left">å¼•å¯¼æ¨¡å¼é€‰æ‹©</td><td align="left">3.3V</td><td align="left">æ— Hi-Z</td></tr><tr><td align="left">1</td><td align="left">TX0</td><td align="left">â€“</td><td align="left">ä¸²å£é€šè®¯è¿‡ç¨‹ä¸­ä¸èƒ½ä½¿ç”¨</td></tr><tr><td align="left">2</td><td align="left">å¼•å¯¼æ¨¡å¼é€‰æ‹© TX1</td><td align="left">3.3V</td><td align="left">å¯åŠ¨æ—¶ä¸èƒ½æ¥åœ° å¯åŠ¨æ—¶å‘é€è°ƒè¯•ä¿¡æ¯</td></tr><tr><td align="left">3</td><td align="left">RX0</td><td align="left">â€“</td><td align="left">ä¸²å£é€šè®¯è¿‡ç¨‹ä¸­ä¸èƒ½ä½¿ç”¨</td></tr><tr><td align="left">4</td><td align="left">SDA (IÂ²C)</td><td align="left">â€“</td><td align="left">â€“</td></tr><tr><td align="left">5</td><td align="left">SCL (IÂ²C)</td><td align="left">â€“</td><td align="left">â€“</td></tr><tr><td align="left">6 â€“ 11</td><td align="left">è¿æ¥é—ªå­˜</td><td align="left">x</td><td align="left">ä¸å¯ç”¨</td></tr><tr><td align="left">12</td><td align="left">MISO (SPI)</td><td align="left">â€“</td><td align="left">â€“</td></tr><tr><td align="left">13</td><td align="left">MOSI (SPI)</td><td align="left">â€“</td><td align="left">â€“</td></tr><tr><td align="left">14</td><td align="left">SCK (SPI)</td><td align="left">â€“</td><td align="left">â€“</td></tr><tr><td align="left">15</td><td align="left">SS (SPI)</td><td align="left">0V</td><td align="left">ä¸Šæ‹‰ç”µé˜»ä¸å¯ç”¨</td></tr><tr><td align="left">16</td><td align="left">ç¡çœ å”¤é†’</td><td align="left">â€“</td><td align="left">æ— ä¸Šæ‹‰ç”µé˜»ï¼Œä»…æœ‰ä¸‹æ‹‰ç”µé˜» è¿æ¥ RST å¼•è„šå®ç°ç¡çœ å”¤é†’</td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> esp8266 </tag>
            
            <tag> ç‰©è”ç½‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>viç¼–è¾‘å™¨åŸºæœ¬å‘½ä»¤</title>
      <link href="/post/59501.html"/>
      <url>/post/59501.html</url>
      
        <content type="html"><![CDATA[<h2 id="viæ¨¡å¼åˆ‡æ¢"><a href="#viæ¨¡å¼åˆ‡æ¢" class="headerlink" title="viæ¨¡å¼åˆ‡æ¢"></a>viæ¨¡å¼åˆ‡æ¢</h2><p><img src="https://raw.githubusercontent.com/wild-civil/typora_img/main/images/vi.jpg" alt="vi"></p><h2 id="viä¿å­˜å’Œé€€å‡ºå‘½ä»¤"><a href="#viä¿å­˜å’Œé€€å‡ºå‘½ä»¤" class="headerlink" title="viä¿å­˜å’Œé€€å‡ºå‘½ä»¤"></a>viä¿å­˜å’Œé€€å‡ºå‘½ä»¤</h2><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">:q</td><td align="center">(Quit)é€€å‡ºæœªä¿®æ”¹çš„æ–‡ä»¶ï¼ˆè‹¥æ–‡ä»¶è¢«ä¿®æ”¹ä¸”æœªä¿å­˜ï¼Œåˆ™è¯¥å‘½ä»¤æ— æ•ˆï¼‰</td></tr><tr><td align="center">:q!</td><td align="center">å¼ºåˆ¶é€€å‡ºï¼Œä¸”ä¸ä¿å­˜ä¿®æ”¹è¿‡çš„éƒ¨åˆ†</td></tr><tr><td align="center">:w</td><td align="center">(Write)ä¿å­˜æ–‡ä»¶ï¼Œä½†ä¸é€€å‡º</td></tr><tr><td align="center">:x</td><td align="center">(Exit)ä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºï¼ˆ:x &lt;&#x3D;&gt; :wqï¼‰</td></tr><tr><td align="center">:w File</td><td align="center">å¦å­˜ä¸ºFileç»™å‡ºçš„æ–‡ä»¶åï¼Œä¸é€€å‡º</td></tr><tr><td align="center">:r File</td><td align="center">ï¼ˆRead)è¯»å…¥FileæŒ‡å®šçš„æ–‡ä»¶å†…å®¹æ’å…¥åˆ°å…‰æ ‡å¤„</td></tr></tbody></table><h2 id="viå‘½ä»¤ã€ç¼–è¾‘æ¨¡å¼åˆ‡æ¢"><a href="#viå‘½ä»¤ã€ç¼–è¾‘æ¨¡å¼åˆ‡æ¢" class="headerlink" title="viå‘½ä»¤ã€ç¼–è¾‘æ¨¡å¼åˆ‡æ¢"></a>viå‘½ä»¤ã€ç¼–è¾‘æ¨¡å¼åˆ‡æ¢</h2><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">i I<br />ï¼ˆInsert)</td><td align="center">i å‘½ä»¤å°†æ–‡æœ¬æ’å…¥åˆ°å…‰æ ‡æ‰€åœ¨ä½ç½®å‰ã€‚<br />I å‘½ä»¤å°†æ–‡æœ¬æ’å…¥å½“å‰è¡Œçš„è¡Œé¦–ã€‚å½“è¾“å…¥ I å‘½ä»¤åï¼Œå…‰æ ‡è‡ªåŠ¨ç§»åˆ°è¯¥è¡Œçš„è¡Œé¦–ã€‚</td></tr><tr><td align="center">a A <br />(Append)</td><td align="center">a å‘½ä»¤å°†æ–°æ–‡æœ¬è¿½åŠ åˆ°å…‰æ ‡å½“å‰æ‰€åœ¨ä½ç½®ä¹‹å<br />A å‘½ä»¤å°†æ–°æ–‡æœ¬è¿½åŠ åˆ°æ‰€åœ¨è¡Œçš„è¡Œå°¾ã€‚å½“è¾“å…¥ A å‘½ä»¤åï¼Œå…‰æ ‡è‡ªåŠ¨ç§»åˆ°è¯¥è¡Œçš„è¡Œå°¾ã€‚</td></tr><tr><td align="center">o O<br />(Open)</td><td align="center">o å‘½ä»¤å°†åœ¨å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹é¢æ’å…¥ä¸€ä¸ªç©ºè¡Œï¼Œå¹¶å°†å…‰æ ‡ç½®äºè¯¥è¡Œçš„è¡Œé¦–ã€‚<br />O å‘½ä»¤åœ¨å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸Šé¢æ’å…¥ä¸€ä¸ªç©ºè¡Œï¼Œå¹¶å°†å…‰æ ‡ç½®äºè¯¥è¡Œçš„è¡Œé¦–ã€‚</td></tr><tr><td align="center">:ï¼Command</td><td align="center">åœ¨viä¸­æ‰§è¡Œå¤–éƒ¨å‘½ä»¤Commandï¼ŒæŒ‰å›è½¦é”®å¯ä»¥è¿”å›viç»§ç»­å·¥ä½œ<br />ä¾‹å¦‚ï¼Œåœ¨viå‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥:! pwdå¯ä»¥æŸ¥çœ‹å½“å‰æ‰€åœ¨ç›®å½•åˆæˆ–è€…:! date æŸ¥çœ‹æ—¶é—´</td></tr></tbody></table><p>å½“ vi å¤„äºæ–‡æœ¬ç¼–è¾‘çŠ¶æ€ï¼Œå±å¹•æœ€ä¸‹è¡Œæ˜¾ç¤º â€œâ€“INSERTâ€“â€è¯´æ˜ä¿¡æ¯</p><h2 id="viæ‹·è´-ç²˜è´´"><a href="#viæ‹·è´-ç²˜è´´" class="headerlink" title="viæ‹·è´ ç²˜è´´"></a>viæ‹·è´ ç²˜è´´</h2><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">[N] x<br />(Expurgate)</td><td align="center">åˆ é™¤ä»å…‰æ ‡ä½ç½®å¼€å§‹çš„è¿ç»­Nè¡Œå­—ç¬¦(å¹¶å¤åˆ¶åˆ°ç¼–è¾‘ç¼“å†²åŒº)</td></tr><tr><td align="center">[N] dd<br />(Delete)</td><td align="center">è¯¥å‘½ä»¤åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„æ•´è¡Œã€‚åœ¨ dd å‰å¯åŠ ä¸Šä¸€ä¸ªæ•°å­— Nï¼Œè¡¨ç¤ºåˆ é™¤å½“å‰è¡ŒåŠå…¶å N-1 è¡Œçš„å†…å®¹ã€‚</td></tr><tr><td align="center">[N] yy<br />(Yank)</td><td align="center">å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„æ•´è¡Œã€‚åœ¨ yy å‰å¯åŠ ä¸€ä¸ªæ•°å­— Nï¼Œè¡¨ç¤ºå¤åˆ¶å½“å‰è¡ŒåŠå…¶å N-1 è¡Œçš„å†…å®¹ã€‚</td></tr><tr><td align="center">p æˆ– P<br />(Put)</td><td align="center">ä»ç¼–è¾‘ç¼“å†²åŒºå¤åˆ¶æ–‡æœ¬åˆ°å½“å‰å…‰æ ‡å¤„</td></tr><tr><td align="center">u<br />(Undo)</td><td align="center">è¯¥å‘½ä»¤æ’¤é”€ä¸Šä¸€æ¬¡æ‰€åšçš„æ“ä½œã€‚å¤šæ¬¡ä½¿ç”¨ u å‘½ä»¤ä¼šä¸€æ­¥ä¸€æ­¥ä¾æ¬¡æ’¤é”€ä¹‹å‰åšè¿‡çš„æ“ä½œï¼ˆåœ¨ä¸€æ¬¡åˆ‡æ¢åˆ°æ–‡æœ¬è¾“å…¥æ¨¡å¼ä¸­è¾“å…¥çš„æ‰€æœ‰æ–‡æœ¬ç®—ä¸€æ¬¡æ“ä½œï¼‰ã€‚</td></tr></tbody></table><h2 id="viå…‰æ ‡å‘½ä»¤"><a href="#viå…‰æ ‡å‘½ä»¤" class="headerlink" title="viå…‰æ ‡å‘½ä»¤"></a>viå…‰æ ‡å‘½ä»¤</h2><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">h</td><td align="center">æ–¹å‘é”®ï¼Œå‘å·¦ç§»åŠ¨å…‰æ ‡ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ï¼Œç›¸å½“äºé”® â€œâ†â€</td></tr><tr><td align="center">j</td><td align="center">æ–¹å‘é”®ï¼Œå‘ä¸‹ç§»åŠ¨å…‰æ ‡åˆ°ä¸‹ä¸€è¡Œçš„ä½ç½®ï¼Œç›¸å½“äºé”® â€œâ†“â€</td></tr><tr><td align="center">k</td><td align="center">æ–¹å‘é”®ï¼Œå‘ä¸Šç§»åŠ¨å…‰æ ‡åˆ°ä¸Šä¸€è¡Œçš„ä½ç½®ï¼Œç›¸å½“äºé”® â€œâ†‘â€</td></tr><tr><td align="center">l</td><td align="center">æ–¹å‘é”®ï¼Œå‘å³ç§»åŠ¨å…‰æ ‡ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ï¼Œç›¸å½“äºé”® â€œâ†’â€</td></tr><tr><td align="center">:N</td><td align="center">ç§»åŠ¨å…‰æ ‡åˆ°ç¬¬Nè¡Œ (Nå¾…å®š)</td></tr><tr><td align="center">1G</td><td align="center">ç§»åŠ¨å…‰æ ‡åˆ°æ–‡ä»¶çš„ç¬¬ 1 è¡Œ</td></tr><tr><td align="center">G</td><td align="center">ç§»åŠ¨å…‰æ ‡åˆ°æ–‡ä»¶çš„æœ€å 1 è¡Œ</td></tr><tr><td align="center">:set number</td><td align="center">è®¾ç½®è¡Œå·æ˜¾ç¤º</td></tr><tr><td align="center">set</td><td align="center">å–æ¶ˆè¡Œå·æ˜¾ç¤º</td></tr></tbody></table>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Android studio ä¸ƒå¤©Javaé›¶åŸºç¡€å…¥é—¨ è®°å½•</title>
      <link href="/post/34091.html"/>
      <url>/post/34091.html</url>
      
        <content type="html"><![CDATA[<h2 id="åŸºæœ¬å…¥é—¨"><a href="#åŸºæœ¬å…¥é—¨" class="headerlink" title="åŸºæœ¬å…¥é—¨"></a>åŸºæœ¬å…¥é—¨</h2>]]></content>
      
      
      
        <tags>
            
            <tag> Learning record </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo + githubæ­å»ºä¸ªäººåšå®¢</title>
      <link href="/post/95eb7d.html"/>
      <url>/post/95eb7d.html</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo-githubæ­å»ºä¸ªäººåšå®¢ï¼Œå¹¶ç»‘å®šåŸŸå"><a href="#Hexo-githubæ­å»ºä¸ªäººåšå®¢ï¼Œå¹¶ç»‘å®šåŸŸå" class="headerlink" title="Hexo+githubæ­å»ºä¸ªäººåšå®¢ï¼Œå¹¶ç»‘å®šåŸŸå"></a>Hexo+githubæ­å»ºä¸ªäººåšå®¢ï¼Œå¹¶ç»‘å®šåŸŸå</h1><blockquote><p>æ­å»º&amp;ç¾åŒ–ï¼š<a href="http://haiyong.site/post/cda958f2.html">http://haiyong.site/post/cda958f2.html</a> </p></blockquote><p>æ³¨ï¼šæœ¬æ–‡ç« å†…å®¹å¤§éƒ¨åˆ†æ¥æº(åŒ…æ‹¬è§†é¢‘)æ¥è‡ªï¼š<a href="www.wushishu.xyz">www.wushishu.xyz </a>å¤‡ç”¨<a href="wushishu.github.io">wushishu.github.io</a></p><h1 id="ç¬¬ä¸€éƒ¨åˆ†è§†é¢‘å­¦ä¹ "><a href="#ç¬¬ä¸€éƒ¨åˆ†è§†é¢‘å­¦ä¹ " class="headerlink" title="ç¬¬ä¸€éƒ¨åˆ†è§†é¢‘å­¦ä¹ "></a>ç¬¬ä¸€éƒ¨åˆ†è§†é¢‘å­¦ä¹ </h1><iframe src="https://player.bilibili.com/player.html?aid=638754315&amp;bvid=BV1NY4y1C7Ng&amp;cid=714430663&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" width="800" height="500" style="box-sizing: border-box; --tw-border-spacing-x: 0; --tw-border-spacing-y: 0; --tw-translate-x: 0; --tw-translate-y: 0; --tw-rotate: 0; --tw-skew-x: 0; --tw-skew-y: 0; --tw-scale-x: 1; --tw-scale-y: 1; --tw-pan-x: ; --tw-pan-y: ; --tw-pinch-zoom: ; --tw-scroll-snap-strictness: proximity; --tw-ordinal: ; --tw-slashed-zero: ; --tw-numeric-figure: ; --tw-numeric-spacing: ; --tw-numeric-fraction: ; --tw-ring-inset: ; --tw-ring-offset-width: 0px; --tw-ring-offset-color: #fff; --tw-ring-color: rgb(59 130 246 / 0.5); --tw-ring-offset-shadow: 0 0 #0000; --tw-ring-shadow: 0 0 #0000; --tw-shadow: 0 0 #0000; --tw-shadow-colored: 0 0 #0000; --tw-blur: ; --tw-brightness: ; --tw-contrast: ; --tw-grayscale: ; --tw-hue-rotate: ; --tw-invert: ; --tw-saturate: ; --tw-sepia: ; --tw-drop-shadow: ; --tw-backdrop-blur: ; --tw-backdrop-brightness: ; --tw-backdrop-contrast: ; --tw-backdrop-grayscale: ; --tw-backdrop-hue-rotate: ; --tw-backdrop-invert: ; --tw-backdrop-opacity: ; --tw-backdrop-saturate: ; --tw-backdrop-sepia: ; margin: 0px 0px 20px; color: rgb(76, 73, 72); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;Helvetica Neue&quot;, Lato, Roboto, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"></iframe><p>ä¹Ÿå¯ä»¥ç›´æ¥è·Ÿç€è§†é¢‘èµ°</p><h2 id="å®‰è£…å¹¶é…ç½®Node-js"><a href="#å®‰è£…å¹¶é…ç½®Node-js" class="headerlink" title="å®‰è£…å¹¶é…ç½®Node.js"></a>å®‰è£…å¹¶é…ç½®Node.js</h2><p>Node.jsä¸‹è½½:ã€å®ƒè®©JavaScriptæˆä¸ºä¸PHPã€Pythonã€Perlã€Rubyç­‰æœåŠ¡ç«¯è¯­è¨€å¹³èµ·å¹³åçš„è„šæœ¬è¯­è¨€ã€‚ã€‘</p><p>æ•™ç¨‹ï¼š<a href="https://blog.csdn.net/weixin_52799373/article/details/123840137%EF%BC%88%E8%BF%87%E7%A8%8B%E8%AF%A6%E7%BB%86%EF%BC%8C%E8%BF%98%E8%A6%86%E7%9B%96win11%EF%BC%8C%E8%AF%84%E8%AE%BA%E4%B8%8B%E9%9D%A2%E8%BF%98%E6%9C%89%E5%B8%88%E5%8F%94%E7%9A%84%E8%B6%B3%E8%BF%B9%EF%BC%89">https://blog.csdn.net/weixin_52799373/article/details/123840137ï¼ˆè¿‡ç¨‹è¯¦ç»†ï¼Œè¿˜è¦†ç›–win11ï¼Œè¯„è®ºä¸‹é¢è¿˜æœ‰å¸ˆå”çš„è¶³è¿¹ï¼‰</a></p><h4 id="æ³¨æ„ä¸€"><a href="#æ³¨æ„ä¸€" class="headerlink" title="æ³¨æ„ä¸€"></a>æ³¨æ„ä¸€</h4><p>å…¨å±€å®‰è£…æœ€å¸¸ç”¨çš„ express æ¨¡å— è¿›è¡Œæµ‹è¯•</p><p>å‘½ä»¤å¦‚ä¸‹:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express -g</span><br></pre></td></tr></table></figure><p>æŠ¥é”™å›¾ç‰‡ï¼š</p><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311330969.png" alt="img" style="zoom:50%;" /><p>è§£å†³æ–¹æ³•ï¼š</p><p>ã€äº²æµ‹æœ‰æ•ˆã€‘</p><p>éœ€è¦åˆ é™¤ npmrc æ–‡ä»¶ã€‚</p><p><strong>å¼ºè°ƒï¼š</strong>ä¸æ˜¯nodejså®‰è£…ç›®å½•npmæ¨¡å—ä¸‹çš„é‚£ä¸ªnpmrcæ–‡ä»¶</p><p>è€Œæ˜¯åœ¨ C:\Users\ï¼ˆä½ çš„ç”¨æˆ·åï¼‰\ä¸‹çš„.npmrcæ–‡ä»¶</p><p><em><strong>èªæ˜çš„ä½ ï¼Œä¸€å®šæƒ³åˆ°äº†ç›´æ¥ç”¨everingæœç´¢ï¼Œçœçš„è¿˜è¦è°ƒç”¨æ–‡ä»¶ç®¡ç†å™¨åœ¨ä¸€ç‚¹ä¸€ç‚¹çš„æ‰¾</strong></em></p><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311331077.png" alt="img" style="zoom:50%;" /><h4 id="æ³¨æ„äºŒ"><a href="#æ³¨æ„äºŒ" class="headerlink" title="æ³¨æ„äºŒ"></a>æ³¨æ„äºŒ</h4><p><strong>åœ¨æ–‡ç« ç¬¬å››æ­©æµ‹è¯•ä¸ŠæŸ¥çœ‹å®‰è£…ç»“æœ</strong></p><p>å¯èƒ½ä¼šå‡ºç°ä¸‹é¢ç…§ç‰‡ç»“æœï¼Œæ›´æ”¹äº†ç›®å½•ä¸ºä»€ä¹ˆè¿˜æ˜¯Cç›˜ç›®å½•ä¸‹ï¼Œè¿™æ—¶å€™åªéœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤å³å¯ã€‚</p><p>åœ¨ä¸‹é¢è·¯å¾„ä¸‹æ‰¾åˆ°cmd.exeå¹¶ä¸”ç®¡ç†å‘˜èº«ä»½è¿è¡Œå³å¯ã€‚</p><p>æ¨æµ‹ï¼šå‡ºåƒè¿™ç§ç°è±¡çš„åŸå› å°±æ˜¯æ‰§è¡Œæƒé™ä¸å¤Ÿï¼Œæ¨èå¤§å®¶åœ¨æ¡Œé¢å»ºç«‹ä¸€ä¸ªå¿«æ·æ–¹å¼ï¼ˆç®¡ç†å‘˜å‘½ä»¤çš„ï¼‰cmd</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\System32\cmd.exe</span><br></pre></td></tr></table></figure><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311331718.png" alt="img" style="zoom:50%;" /><p><strong>åˆ›å»ºç®¡ç†å‘˜æƒé™çš„cmdæ¡Œé¢å¿«æ·æ–¹å¼</strong></p><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311331004.png" alt="img" style="zoom:50%;" /><h2 id="å®‰è£…å¹¶é…ç½®Git"><a href="#å®‰è£…å¹¶é…ç½®Git" class="headerlink" title="å®‰è£…å¹¶é…ç½®Git"></a>å®‰è£…å¹¶é…ç½®Git</h2><p>gitæ˜¯ä¸€ä¸ªå¹¶æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥æœ‰æ•ˆã€é«˜é€Ÿåœ°å¤„ç†ä»å¾ˆå°åˆ°éå¸¸å¤§çš„é¡¹ç›®ç‰ˆæœ¬ç®¡ç†</p><p>Windowsç³»ç»ŸGitå®‰è£…æ•™ç¨‹ï¼š<a href="https://www.cnblogs.com/xueweisuoyong/p/11914045.html">https://www.cnblogs.com/xueweisuoyong/p/11914045.html</a></p><h3 id="ç”ŸæˆSSH-Keys"><a href="#ç”ŸæˆSSH-Keys" class="headerlink" title="ç”ŸæˆSSH Keys"></a>ç”ŸæˆSSH Keys</h3><p>ç”Ÿæˆssh</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;ä½ çš„é‚®ç®±åœ°å€&quot;</span><br></pre></td></tr></table></figure><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311331566.png" alt="img" style="zoom:50%;" /><p><strong>æ‰¾åˆ°ç§˜é’¥ä½ç½®å¹¶å¤åˆ¶</strong></p><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311331246.png" alt="img" style="zoom:500%;" /><p><strong>æµ‹è¯•sshæ˜¯å¦ç»‘å®šæˆåŠŸ</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>å¦‚æœé—®ä½ ï¼ˆyes or noï¼‰,ç›´æ¥ yes å°±å¯ä»¥å¾—åˆ°ä¸‹é¢è¿™æ®µè¯</p><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311331532.png" alt="img" style="zoom:50%;" /><h2 id="æœ¬åœ°è®¿é—®åšå®¢"><a href="#æœ¬åœ°è®¿é—®åšå®¢" class="headerlink" title="æœ¬åœ°è®¿é—®åšå®¢"></a>æœ¬åœ°è®¿é—®åšå®¢</h2><p>1ã€åˆ›å»ºä¸€ä¸ªåä¸º Blog çš„æ–‡ä»¶ï¼Œåœ¨é‡Œé¢å¯ç”¨ Git Bash Here</p><p><a href="https://static001.geekbang.org/infoq/b0/b06a27bee58606277ea46f413b34ed14.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311331193.png" alt="img" style="zoom:50%;" /></a></p><p>2ã€åˆå§‹åŒ–hexo</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311331023.png" alt="img" style="zoom:50%;" /><p>3ã€ç”Ÿæˆæœ¬åœ°çš„hexoé¡µé¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332717.png" alt="img" style="zoom:50%;" /><p>4ã€è®¿é—®</p><p>æ‰“å¼€æœ¬åœ°æœåŠ¡å™¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:4000/</span><br></pre></td></tr></table></figure><p><a href="https://static001.geekbang.org/infoq/5f/5fde531819308103720a5c098f342092.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332849.png" alt="img" style="zoom:50%;" /></a></p><blockquote><p>é•¿æŒ‰ Ctrl + c å…³é—­æœåŠ¡å™¨</p></blockquote><p><a href="https://static001.geekbang.org/infoq/6f/6f77175cb6028832126b38d0b820be95.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332255.png" alt="img" style="zoom:50%;" /></a></p><h2 id="ä¸Šä¼ åˆ°Github"><a href="#ä¸Šä¼ åˆ°Github" class="headerlink" title="ä¸Šä¼ åˆ°Github"></a>ä¸Šä¼ åˆ°Github</h2><p>ä¿®æ”¹_config.ymlæ–‡ä»¶</p><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332108.png" alt="img" style="zoom:50%;" /><p><strong>æŠŠå›¾ç‰‡ä¸Šä½ç½®æ›´æ¢æˆ</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: ä½ çš„githubåœ°å€</span><br><span class="line">  branch: main</span><br></pre></td></tr></table></figure><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332828.png" alt="img" style="zoom:50%;" /><p>å®‰è£…hexo-deployer-git è‡ªåŠ¨éƒ¨ç½²å‘å¸ƒå·¥å…·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p><a href="https://static001.geekbang.org/infoq/a9/a94aa787c8627d7bc2d95fc3aabe211d.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332467.png" alt="img" style="zoom:50%;" /></a></p><h3 id="ç”Ÿæˆé¡µé¢"><a href="#ç”Ÿæˆé¡µé¢" class="headerlink" title="ç”Ÿæˆé¡µé¢"></a><strong>ç”Ÿæˆé¡µé¢</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><p><a href="https://static001.geekbang.org/infoq/ec/ec4dc5e76906c62036e61f4d083ebaad.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332692.png" alt="img" style="zoom:50%;" /></a></p><h4 id="æ³¨æ„ä¸€-1"><a href="#æ³¨æ„ä¸€-1" class="headerlink" title="æ³¨æ„ä¸€"></a>æ³¨æ„ä¸€</h4><p>å¦‚æœæŠ¥é”™å¦‚ä¸‹ï¼šï¼ˆæ— æŠ¥é”™ï¼Œè¯·å¿½ç•¥æ­¤æ¡ï¼‰</p><p>æŠ¥é”™ä¿¡æ¯æ˜¯æç¤ºhexoçš„ymlé…ç½®æ–‡ä»¶ å†’å·åé¢å°‘äº†ç©ºæ ¼è§£å†³æ–¹æ¡ˆï¼š</p><p>åˆ°æç¤ºè¡Œå°†å¯¹åº”çš„ç©ºæ ¼è¡¥ä¸Šå³å¯</p><p><a href="https://static001.geekbang.org/infoq/f1/f139b76ed562b895ece7557ebb5bb791.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332399.png" alt="img" style="zoom:50%;" /></a></p><p>æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°Githubä¸Šé¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>ä¸­é—´ä¼šå‡ºç°ä¸€ä¸ªç™»å½•ç•Œé¢ï¼Œå¯ä»¥ç”¨ä»¤ç‰Œç™»å½•ã€‚ï¼ˆä»¤ç‰ŒåŠæ—¶ä¿å­˜ï¼Œå°±çœ‹ä¸åˆ°äº†ï¼‰</p><p>ç»“æŸä»¥åå°±ä¸Šä¼  Github å°±æˆåŠŸäº†ï¼ï¼ï¼</p><p><a href="https://static001.geekbang.org/infoq/1b/1ba83adbf958f9ed0ad0129bd843f785.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332663.png" alt="img" style="zoom:50%;" /></a></p><h4 id="æ³¨æ„äºŒ-1"><a href="#æ³¨æ„äºŒ-1" class="headerlink" title="æ³¨æ„äºŒ"></a>æ³¨æ„äºŒ</h4><p>å¦‚æœå‡ºç°å¦‚å›¾é”™è¯¯ç½‘ç»œæŠ¥é”™ï¼Œå†æ¬¡å°è¯•ï¼Œå¤šæ¬¡å°è¯•ï¼Œç›´åˆ°æ›´æ¢WiFi~~~~</p><p><a href="https://static001.geekbang.org/infoq/5e/5e33beb4a80df251722f550b7ca0de88.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332772.png" alt="img" style="zoom:50%;" /></a></p><h2 id="è®¿é—®GitHubåšå®¢"><a href="#è®¿é—®GitHubåšå®¢" class="headerlink" title="è®¿é—®GitHubåšå®¢"></a>è®¿é—®GitHubåšå®¢</h2><p><a href="https://static001.geekbang.org/infoq/0a/0a397f64a129a210ccbebdff832de7af.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332428.png" alt="img" style="zoom:50%;" /></a></p><p>è®¿é—®åšå®¢ï¼Œå¼€å§‹çš„é¡µé¢æ˜¯åˆå§‹åŒ–é¡µé¢ï¼Œæ²¡æœ‰åšç¾åŒ–å’Œå¢åŠ å†…å®¹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://wushishu.github.io/</span><br></pre></td></tr></table></figure><p><a href="https://static001.geekbang.org/infoq/aa/aa2f760148fbcbf6c3ce0b43cbe3433c.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332934.png" alt="img" style="zoom: 50%;" /></a></p><h1 id="ç¬¬äºŒéƒ¨åˆ†-æ–‡æ¡£å­¦ä¹ "><a href="#ç¬¬äºŒéƒ¨åˆ†-æ–‡æ¡£å­¦ä¹ " class="headerlink" title="ç¬¬äºŒéƒ¨åˆ† æ–‡æ¡£å­¦ä¹ "></a>ç¬¬äºŒéƒ¨åˆ† æ–‡æ¡£å­¦ä¹ </h1><h2 id="æ’°å†™åšå®¢"><a href="#æ’°å†™åšå®¢" class="headerlink" title="æ’°å†™åšå®¢"></a>æ’°å†™åšå®¢</h2><p><em><strong>ç”µè„‘è¦å¿…é¡»æœ‰Typoraï¼ç”µè„‘è¦å¿…é¡»æœ‰Typoraï¼ç”µè„‘è¦å¿…é¡»æœ‰Typoraï¼</strong></em>ï¼ˆé‡è¦çš„äº‹æƒ…è¯´ä¸‰éï¼‰</p><p>æ–‡æœ¬æ•™ç¨‹ï¼š<a href="https://dhndzwxj.vercel.app/3276806131.html">https://dhndzwxj.vercel.app/3276806131.html</a></p><p>hexoæ ‡ç­¾æ•™ç¨‹ï¼š<a href="http://haiyong.site/post/cda958f2.html">http://haiyong.site/post/cda958f2.html</a>ï¼ˆå‚è€ƒæ–‡æ¡£çœ‹éœ€æ±‚åŠ ä¸åŠ ï¼‰</p><p>æˆ‘ä»¬æ‰“å¼€è‡ªå·±çš„åšå®¢æ ¹ç›®å½•ï¼Œè·Ÿç€æˆ‘ä¸€ä¸ªä¸ªäº†è§£é‡Œé¢çš„è¿™äº›æ–‡ä»¶ï¼ˆå¤¹ï¼‰éƒ½æ˜¯å¹²ä»€ä¹ˆçš„ï¼š</p><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332992.png" alt="img" style="zoom:50%;" /><ul><li><code>_config.yml</code>ï¼šä¿—ç§°ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œå¾ˆå¤šä¸åšå®¢ç½‘ç«™çš„æ ¼å¼ã€å†…å®¹ç›¸å…³çš„è®¾ç½®éƒ½éœ€è¦åœ¨é‡Œé¢æ”¹ã€‚</li><li><code>node_modules</code>:å­˜å‚¨Hexoæ’ä»¶çš„æ–‡ä»¶ï¼Œå¯ä»¥å®ç°å„ç§æ‰©å±•åŠŸèƒ½ã€‚ä¸€èˆ¬ä¸éœ€è¦ç®¡ã€‚</li><li><code>package.json</code>ï¼šåˆ«é—®æˆ‘ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“å¹²å˜›çš„ã€‚</li><li><code>scaffolds</code>ï¼šæ¨¡æ¿æ–‡ä»¶å¤¹ï¼Œé‡Œé¢çš„<code>post.md</code>æ–‡ä»¶å¯ä»¥è®¾ç½®æ¯ä¸€ç¯‡åšå®¢çš„æ¨¡æ¿ã€‚å…·ä½“ç”¨èµ·æ¥å°±çŸ¥é“èƒ½å¹²å˜›äº†ã€‚</li><li><code>source</code>ï¼šéå¸¸é‡è¦ã€‚æ‰€æœ‰çš„ä¸ªäººæ–‡ä»¶éƒ½åœ¨é‡Œé¢ï¼</li><li><code>themes</code>ï¼šä¸»é¢˜æ–‡ä»¶å¤¹ï¼Œå¯ä»¥ä»<a href="https://hexo.io/themes/">Hexoä¸»é¢˜å®˜ç½‘</a>æˆ–è€…ç½‘ä¸Šå¤§ç¥çš„Githubä¸»é¡µä¸‹è½½å„ç§å„æ ·ç¾è§‚çš„ä¸»é¢˜ï¼Œè®©è‡ªå·±çš„ç½‘ç«™å˜å¾—é€¼æ ¼é«˜ç«¯çš„å…³é”®ï¼</li></ul><p>æ¥ä¸‹æ¥é‡ç‚¹ä»‹ç»<code>source</code>æ–‡ä»¶å¤¹ã€‚æ–°å»ºçš„åšå®¢ä¸­ï¼Œ<code>source</code>æ–‡ä»¶å¤¹ä¸‹é»˜è®¤åªæœ‰ä¸€ä¸ªå­æ–‡ä»¶å¤¹â€”â€”<code>_posts</code>ã€‚æˆ‘ä»¬å†™çš„åšå®¢éƒ½æ”¾åœ¨è¿™ä¸ªå­æ–‡ä»¶å¤¹é‡Œé¢ã€‚æˆ‘ä»¬è¿˜å¯ä»¥åœ¨<code>source</code>é‡Œé¢æ–°å»ºå„ç§å­æ–‡ä»¶å¤¹æ»¡è¶³è‡ªå·±çš„ä¸ªæ€§åŒ–éœ€æ±‚ï¼Œå¯¹åˆå­¦è€…è€Œè¨€ï¼Œæˆ‘ä»¬å…ˆæŠŠç²¾åŠ›æ”¾åœ¨ä¸»çº¿ä»»åŠ¡ä¸Šï¼Œç„¶åå†æ¥æè¿™äº›ç»†èŠ‚ã€‚</p><p><a href="https://static001.geekbang.org/infoq/3f/3f7b8b410726691082019f2ab603976b.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311332045.png" alt="img" style="zoom:50%;" /></a></p><p>å†™å¥½Hellworldå†…å®¹åï¼Œåœ¨å‘½ä»¤è¡Œä¸€é”®ä¸‰è¿ï¼š</p><blockquote><p>â€˜hexo clâ€™å‘½ä»¤ç”¨äºæ¸…é™¤ç¼“å­˜æ–‡ä»¶ï¼ˆdb.jsonï¼‰å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼ˆpublicï¼‰ã€‚</p><p>ä¾‹å¦‚ï¼šåœ¨æ›´æ¢ä¸»é¢˜åï¼Œå¦‚æœå‘ç°ç«™ç‚¹æ›´æ”¹ä¸ç”Ÿæ•ˆï¼Œå¯ä»¥è¿è¡Œè¯¥å‘½ä»¤ã€‚</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo cl</span><br><span class="line"></span><br><span class="line">hexo g</span><br><span class="line"></span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>ç„¶åéšä¾¿æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œåœ¨ç½‘å€æ è¾“å…¥<code>localhost:4000/</code>ï¼Œå°±èƒ½å‘ç°è‡ªå·±çš„ç½‘ç«™æ›´æ–°äº†ï¼ä¸è¿‡è¿™åªæ˜¯åœ¨æœ¬åœ°è¿›è¡Œäº†æ›´æ–°ï¼Œè¦æƒ³éƒ¨ç½²åˆ°ç½‘ä¸Šï¼ˆGithubä¸Šï¼‰ï¼Œè¾“å…¥å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥<code>https://yourname.github.io</code>ï¼Œæˆ–è€…<code>yourname.github.io</code>å°±èƒ½åœ¨ç½‘ä¸Šæµè§ˆè‡ªå·±çš„åšå®¢äº†ï¼</p><p>ä»¥ä¸Šï¼Œæˆ‘ä»¬çš„åšå®¢ç½‘ç«™1.0ç‰ˆæœ¬å°±æ­å»ºå®Œæˆäº†ï¼Œå¦‚æœæ²¡æœ‰æ›´å¤šçš„éœ€æ±‚ï¼Œåšåˆ°è¿™é‡ŒåŸºæœ¬ä¸Šå°±å¯ä»¥äº†ã€‚å¦‚æœæœ‰æ›´å¤šçš„è¦æ±‚ï¼Œè¿˜éœ€è¦è¿›ä¸€æ­¥çš„ç²¾è€•ç»†ä½œï¼</p><h2 id="ç²¾è€•ç»†ä½œ"><a href="#ç²¾è€•ç»†ä½œ" class="headerlink" title="ç²¾è€•ç»†ä½œ"></a>ç²¾è€•ç»†ä½œ</h2><p><strong>æµ·æ‹¥\Butterfly ä¸»é¢˜ç¾åŒ–ï¼š</strong><a href="http://haiyong.site/post/22e1d5da.html">http://haiyong.site/post/22e1d5da.html</a></p><p><strong>Butterflyå‚è€ƒæ–‡æ¡£ï¼ˆå°ç™½æ…å…¥ï¼Œä½†æ˜¯ä»–ä¹Ÿæ˜¯ä½ èµ°å‘DIYå¿…é¡»è¿ˆå‡ºçš„ä¸€æ­©ï¼‰</strong>:<a href="https://butterfly.js.org/posts/dc584b87/#Post-Front-matter">https://butterfly.js.org/posts/dc584b87/#Post-Front-matter</a></p><p>æ–‡ç« ä¸­è¦æ›´æ”¹çš„æ–‡ä»¶ï¼ˆ.yml .bug ç­‰ï¼‰å¯ä»¥è¦ç”¨viscodeæ‰“å¼€ï¼ï¼ï¼</p><p><strong>Butterfly ä¸»é¢˜å®‰è£…</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>è¿™é‡Œé¢å¦‚æœæŠ¥é”™ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆé•¿è·¯æ¼«æ¼«ï¼Œbugæ»¡æ»¡ï¼‰</p><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311333567.png" alt="img" style="zoom:50%;" /><p>åªéœ€è¦åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset http.proxy </span><br><span class="line">git config --global --unset https.proxy</span><br></pre></td></tr></table></figure><p>å†æ¬¡å®‰è£…ä¸»é¢˜å³å¯æˆåŠŸ</p><p><a href="https://static001.geekbang.org/infoq/a1/a1ee42ae917eb1c19261ec72b82efde4.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311333116.png" alt="img" style="zoom:50%;" /></a></p><p><strong>åº”ç”¨ä¸»é¢˜</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: butterfly</span><br></pre></td></tr></table></figure><p><a href="https://static001.geekbang.org/infoq/b0/b08a6de31ecdfcc74ccb0037f23094b3.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311333759.png" alt="img" style="zoom:50%;" /></a></p><p><strong>å®‰è£…æ’ä»¶</strong></p><p>å¦‚æœä½ æ²¡æœ‰ pug ä»¥åŠ stylus çš„æ¸²æŸ“å™¨ï¼Œè¯·ä¸‹è½½å®‰è£…ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><p><a href="https://static001.geekbang.org/infoq/cd/cded5198aec31fec9f8b53bb76676174.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311333574.png" alt="img" style="zoom:50%;" /></a></p><h3 id="Butterfly-ä¸»é¢˜"><a href="#Butterfly-ä¸»é¢˜" class="headerlink" title="Butterfly ä¸»é¢˜"></a>Butterfly ä¸»é¢˜</h3><p>ç”Ÿæˆæ–‡ç« å”¯ä¸€é“¾æ¥</p><p>Hexoçš„é»˜è®¤æ–‡ç« é“¾æ¥æ ¼å¼æ˜¯å¹´ï¼Œæœˆï¼Œæ—¥ï¼Œæ ‡é¢˜è¿™ç§æ ¼å¼æ¥ç”Ÿæˆçš„ã€‚å¦‚æœä½ çš„æ ‡é¢˜æ˜¯ä¸­æ–‡çš„è¯ï¼Œé‚£ä½ çš„URLé“¾æ¥å°±ä¼šåŒ…å«ä¸­æ–‡ï¼Œ</p><p>å¤åˆ¶åçš„URLè·¯å¾„å°±æ˜¯æŠŠä¸­æ–‡å˜æˆäº†ä¸€å¤§å †å­—ç¬¦ä¸²ç¼–ç ï¼Œå¦‚æœä½ åœ¨å…¶ä»–åœ°æ–¹ç”¨è¿™è¾¹æ–‡ç« çš„urlé“¾æ¥ï¼Œå¶ç„¶ä½ åˆä¿®æ”¹äº†æ”¹æ–‡ç« çš„æ ‡é¢˜ï¼Œé‚£è¿™ä¸ªURLé“¾æ¥å°±ä¼šå¤±æ•ˆã€‚ä¸ºäº†ç»™æ¯ä¸€ç¯‡æ–‡ç« æ¥ä¸Šä¸€ä¸ªå±äºè‡ªå·±çš„é“¾æ¥ï¼Œå†™ä¸‹æ­¤æ•™ç¨‹ï¼Œåˆ©ç”¨ hexo-abbrlink æ’ä»¶ï¼ŒA Hexo plugin to generate static post link based on post titles ,æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å‚è€ƒgithubå®˜æ–¹ï¼š hexo-abbrlink æŒ‰ç…§æ­¤æ•™ç¨‹é…ç½®å®Œä¹‹åå¦‚ä¸‹ï¼š</p><p>1ã€å®‰è£…æ’ä»¶ï¼Œåœ¨åšå®¢æ ¹ç›®å½• [Blogroot] ä¸‹æ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><p><a href="https://static001.geekbang.org/infoq/32/32ad907f045425afedb968d20dab4507.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311333642.png" alt="img" style="zoom:50%;" /></a></p><p>2ã€æ’ä»¶å®‰è£…æˆåŠŸåï¼Œåœ¨æ ¹ç›®å½• Blogroot(ä½ çš„åšå®¢ç›®å½•)çš„é…ç½®æ–‡ä»¶ _config.yml æ‰¾åˆ° permalinkï¼š</p><p><a href="https://static001.geekbang.org/infoq/7e/7e4272e54cb25564b1e708e85c8539d2.png"><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311334031.png" alt="img" style="zoom:50%;" /></a></p><h2 id="å‘å¸ƒåšå®¢"><a href="#å‘å¸ƒåšå®¢" class="headerlink" title="å‘å¸ƒåšå®¢"></a>å‘å¸ƒåšå®¢</h2><p>è¿™æ¬¡äº†è§£æˆ‘ä¸Šé¢åªæœ‰ä¸€ä¸ªHelloWordçš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆä¸è®©å³é”®æ–°å»ºï¼Œ<strong>å› ä¸ºéœ€è¦å‘½ä»¤ç”Ÿæˆå•Šï¼Œé“æ±ï¼</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-deployer-git</span><br><span class="line"></span><br><span class="line">hexo new post &quot;æ–°å»ºåšå®¢æ–‡ç« å&quot;</span><br><span class="line"></span><br><span class="line">hexo cl &amp;&amp; hexo g  &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><h2 id="hexoæ›´æ¢èƒŒæ™¯å›¾ç‰‡"><a href="#hexoæ›´æ¢èƒŒæ™¯å›¾ç‰‡" class="headerlink" title="hexoæ›´æ¢èƒŒæ™¯å›¾ç‰‡"></a>hexoæ›´æ¢èƒŒæ™¯å›¾ç‰‡</h2><p>èƒŒæ™¯å›¾ç‰‡å‚è€ƒç½‘å€ï¼š</p><ul><li><a href="https://wallhaven.cc/">https://wallhaven.cc/</a></li><li><a href="https://wall.alphacoders.com/">https://wall.alphacoders.com/</a></li><li><a href="https://bz.zzzmh.cn/index">https://bz.zzzmh.cn/index</a></li></ul><p><em>æœ¬æ–¹æ³•è§£å†³çš„æ˜¯å¤šæ¬¡åŒæ­¥åˆ°GitHubä¸ŠèƒŒæ™¯å›¾ç‰‡æœªæˆåŠŸçš„æƒ…å†µ</em></p><p>ç›´æ¥æ›´æ”¹åŸæ–‡ä»¶</p><p>å›¾ç‰‡æ‰€åœ¨ç›®å½•ï¼š<code>hexo/themes/landscape/source/css/images/</code></p><p>å›¾ç‰‡åç§°ï¼š<code>banner.jpg</code></p><h2 id="â­ä¸»é¢˜ç¾åŒ–"><a href="#â­ä¸»é¢˜ç¾åŒ–" class="headerlink" title="â­ä¸»é¢˜ç¾åŒ–"></a>â­ä¸»é¢˜ç¾åŒ–</h2><p>èŠœæ¹–ï¼Œæƒ³åšåˆ°å’Œæˆ‘ä¸»é¡µä¸€æ ·çš„åŠ¨æ€æ ‡é¢˜(ç½‘é¡µå´©æºƒæ¬ºéª—)å’Œé€æ˜é¡µé¢å—</p><p>Letâ€™s get started!</p><img src="http://qiniu.hanvon.top/blog_article/Blog_building/image-20231101154515640.png" style="zoom:80%;" /><img src="http://qiniu.hanvon.top/blog_article/Blog_building/image-20231101155107655.png" alt="path" style="zoom:80%;" /><p>ä¸€å®šè¦æ”¾åœ¨åšå®¢æ ¹ç›®å½•ä¸‹çš„sourceä¸‹ï¼Œæ²¡æœ‰å°±æ–°å»ºä¸€ä¸ª</p><p>ç„¶ååœ¨\themes\butterfly\ä¸­çš„_config.ymlæ–‡ä»¶ä¸‹æŸ¥æ‰¾injectionï¼Œå°†è‡ªå·±æ–°å»ºçš„æ–‡ä»¶è·¯å¾„æ·»åŠ è¿›å»</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inject</span></span><br><span class="line"><span class="comment"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span></span><br><span class="line"><span class="comment"># æ’å…¥ä»£ç åˆ°å¤´éƒ¨ &lt;/head&gt; ä¹‹å‰ å’Œ åº•éƒ¨ &lt;/body&gt; ä¹‹å‰</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/transpancy.css&quot;&gt;</span></span><br><span class="line">    <span class="comment"># - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/cheat.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="comment"># - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><img src="http://qiniu.hanvon.top/blog_article/Blog_building/image-20231101154311035.png" alt="image-20231101154311035" style="zoom:80%;" /><h3 id="åŠ¨æ€æ ‡é¢˜"><a href="#åŠ¨æ€æ ‡é¢˜" class="headerlink" title="åŠ¨æ€æ ‡é¢˜"></a>åŠ¨æ€æ ‡é¢˜</h3><p><code>cheat.js</code>çš„ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŠ¨æ€æ ‡é¢˜</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">OriginTitile</span> = <span class="variable language_">document</span>.<span class="property">title</span>;</span><br><span class="line"><span class="keyword">var</span> titleTime;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;visibilitychange&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">hidden</span>) &#123;</span><br><span class="line">        <span class="comment">//ç¦»å¼€å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;ç½‘é¡µå´©æºƒå•¦w(ï¾ŸĞ”ï¾Ÿ)w ï¼&#x27;</span>;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(titleTime);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//è¿”å›å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;â™ª(^âˆ‡^*)æˆ‘åˆå¥½å•¦ï¼&#x27;</span> + <span class="title class_">OriginTitile</span>;</span><br><span class="line">        <span class="comment">//ä¸¤ç§’åå˜å›æ­£å¸¸æ ‡é¢˜</span></span><br><span class="line">        titleTime = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">title</span> = <span class="title class_">OriginTitile</span>;</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="é€æ˜é¡µé¢"><a href="#é€æ˜é¡µé¢" class="headerlink" title="é€æ˜é¡µé¢"></a>é€æ˜é¡µé¢</h3><p><code>transpancy.css</code>çš„ä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ–‡ç« é¡µèƒŒæ™¯ */</span></span><br><span class="line"><span class="selector-class">.layout_post</span>&gt;<span class="selector-id">#post</span> &#123;</span><br><span class="line">    <span class="comment">/* ä»¥ä¸‹ä»£è¡¨é€æ˜åº¦ä¸º0.7 å¯ä»¥è‡ªè¡Œä¿®æ”¹*/</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,.<span class="number">7</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/* æ‰€æœ‰é¡µé¢èƒŒæ™¯ */</span></span><br><span class="line"><span class="selector-id">#aside_content</span> <span class="selector-class">.card-widget</span>, <span class="selector-id">#recent-posts</span>&gt;<span class="selector-class">.recent-post-item</span>, <span class="selector-class">.layout_page</span>&gt;<span class="selector-tag">div</span><span class="selector-pseudo">:first</span>-child<span class="selector-pseudo">:not</span>(<span class="selector-class">.recent-posts</span>), <span class="selector-class">.layout_post</span>&gt;<span class="selector-id">#page</span>, <span class="selector-class">.layout_post</span>&gt;<span class="selector-id">#post</span>, <span class="selector-class">.read-mode</span> <span class="selector-class">.layout_post</span>&gt;<span class="selector-id">#post</span>&#123;</span><br><span class="line">    <span class="comment">/* ä»¥ä¸‹ä»£è¡¨é€æ˜åº¦ä¸º0.7 */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,.<span class="number">7</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*ä¾§è¾¹å¡ç‰‡çš„é€æ˜åº¦ */</span></span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attr">--card-bg</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">7</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* é¡µè„šé€æ˜ */</span></span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">    <span class="comment">/* ä»¥ä¸‹ä»£è¡¨é€æ˜åº¦ä¸º0.5 */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>, .<span class="number">5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>æ³¨æ„ä¸€ä»¶äº‹ï¼šcssè¦æ”¾åœ¨headï¼›jsè¦æ”¾åœ¨bottomã€‚ä¸èƒ½ä¹±æ”¾ï¼</code></p><p>å‚è€ƒï¼š<a href="https://conzxy.github.io/2022/08/19/hexo/transparent_bg/">é€æ˜åŒ–</a>    <a href="https://blog.csdn.net/qq_44138925/article/details/128843200">é€æ˜åŒ–</a>    <a href="https://blog.csdn.net/qq_43740362/article/details/113790851?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-113790851-blog-128843200.235%5Ev38%5Epc_relevant_sort_base1&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-113790851-blog-128843200.235%5Ev38%5Epc_relevant_sort_base1&utm_relevant_index=5">æ¸å˜</a></p><h1 id="ç¬¬ä¸‰éƒ¨åˆ†-ç»‘å®šè‡ªå·±çš„åŸŸå"><a href="#ç¬¬ä¸‰éƒ¨åˆ†-ç»‘å®šè‡ªå·±çš„åŸŸå" class="headerlink" title="ç¬¬ä¸‰éƒ¨åˆ† ç»‘å®šè‡ªå·±çš„åŸŸå"></a>ç¬¬ä¸‰éƒ¨åˆ† ç»‘å®šè‡ªå·±çš„åŸŸå</h1><p>åšå®¢åœ°å€ï¼š<a href="https://www.likecs.com/show-30474.html">https://www.likecs.com/show-30474.html</a></p><p><strong>ç»‘å®šä¹‹åä½ å°±æœ‰æœ‰ä¸€ä¸ªè‡ªå·±ä¸“å±çš„åšå®¢äº†ã€‚</strong></p><p>ä¹°ä¸€ä¸ªåŸŸåï¼Œå¯ä»¥ä¸€å—é’±ç™½å«–ï¼Œä½†æ˜¯ç»­è´¹è´µçš„é£å¤©ï¼ï¼ï¼</p><p><em><strong>æ³¨æ„è¯·è°¨æ…ç»‘å®šï¼Œæƒ³æˆ‘å°±ä¼šå‡ºç°æäº¤ä¸€æ¬¡ (hexo d) ,éœ€è¦é‡æ–°ç»‘å®šåŸŸå</strong></em></p><h1 id="å›¾åºŠï¼š"><a href="#å›¾åºŠï¼š" class="headerlink" title="å›¾åºŠï¼š"></a>å›¾åºŠï¼š</h1><p>æˆ‘è¯•äº†ä¸¤ç§ï¼šGitHubå’Œä¸ƒç‰›äº‘</p><p>æˆ‘æƒ³è¯´ï¼Œå¦‚æœä½ æœ‰è‡ªå·±çš„åŸŸåã€‚å¯ä»¥é€‰æ‹©ä¸ƒç‰›äº‘ï¼Œç›¸æ¯”GitHubæ¥è¯´å¿«å¾ˆå¤š</p><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311350299.png" alt="image-20231031135024267" style="zoom: 67%;" /><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311352581.png" alt="image-20231031135228551" style="zoom: 67%;" /><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311353997.png" alt="image-20231031135328962" style="zoom: 67%;" /><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311354876.png" alt="image-20231031135414847" style="zoom:67%;" /><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311401584.png" alt="image-20231031140102545" style="zoom:67%;" /><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311404397.png" alt="image-20231031140446365" style="zoom:67%;" /><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311409077.png" alt="image-20231031140957036" style="zoom:67%;" /><p>è¿›è¡Œåˆ°è¿™ä¸€æ­¥å°±æˆåŠŸå–½</p><p>ä¸‹ä¸€æ­¥ï¼Œå»PicGoè®¾ç½®ï¼š</p><img src="http://qiniu.hanvon.top/blog_article/Blog_building/202310311408731.png" alt="image-20231031140821695" style="zoom:67%;" /><p><a href="https://www.cnblogs.com/skuld-yi/p/14533794.html">https://www.cnblogs.com/skuld-yi/p/14533794.html</a></p><p>â€”å¤§éƒ¨åˆ†è½¬è½½è‡³ æ­¦å¸ˆå”</p><p>å…³æ³¨å…¬ä¼—å·æ­¦å¸ˆå”â€”â€”â€”â€”â€”â€”â€”â€”â€“å›å¤åšå®¢â€”â€”â€”â€”â€”â€”â€”â€”-å³å¯è·å¾—åšå®¢PDFæ–‡ä»¶</p>]]></content>
      
      
      
        <tags>
            
            <tag> åšå®¢æ­å»º </tag>
            
            <tag> åšå®¢ç¾åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/post/16107.html"/>
      <url>/post/16107.html</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo-githubæ­å»ºä¸ªäººåšå®¢"><a href="#Hexo-githubæ­å»ºä¸ªäººåšå®¢" class="headerlink" title="Hexo+githubæ­å»ºä¸ªäººåšå®¢"></a>Hexo+githubæ­å»ºä¸ªäººåšå®¢</h1><h2 id="ä¸€ã€æ­å»º"><a href="#ä¸€ã€æ­å»º" class="headerlink" title="ä¸€ã€æ­å»º"></a>ä¸€ã€æ­å»º</h2><h3 id="1ã€è§†é¢‘æ•™ç¨‹ï¼š"><a href="#1ã€è§†é¢‘æ•™ç¨‹ï¼š" class="headerlink" title="1ã€è§†é¢‘æ•™ç¨‹ï¼š"></a>1ã€è§†é¢‘æ•™ç¨‹ï¼š</h3><h3 id="2ã€ç®€æ˜“æ–‡æœ¬æ•™ç¨‹ï¼š"><a href="#2ã€ç®€æ˜“æ–‡æœ¬æ•™ç¨‹ï¼š" class="headerlink" title="2ã€ç®€æ˜“æ–‡æœ¬æ•™ç¨‹ï¼š"></a>2ã€ç®€æ˜“æ–‡æœ¬æ•™ç¨‹ï¼š</h3><ul><li><h4 id="å®‰è£…å¹¶é…ç½®Node-js"><a href="#å®‰è£…å¹¶é…ç½®Node-js" class="headerlink" title="å®‰è£…å¹¶é…ç½®Node.js"></a>å®‰è£…å¹¶é…ç½®Node.js</h4></li><li><h4 id="å®‰è£…å¹¶é…ç½®Git"><a href="#å®‰è£…å¹¶é…ç½®Git" class="headerlink" title="å®‰è£…å¹¶é…ç½®Git"></a>å®‰è£…å¹¶é…ç½®Git</h4></li><li><h4 id="ç”ŸæˆSSH-Keys"><a href="#ç”ŸæˆSSH-Keys" class="headerlink" title="ç”ŸæˆSSH Keys"></a>ç”ŸæˆSSH Keys</h4><p>a. ç©ºç™½å¤„å³å‡»ï¼Œæ‰“å¼€Git Bashï¼Œè¾“å…¥<code>ssh-keygen -t rsa -C &quot;ä½ çš„é‚®ç®±åœ°å€&quot;</code> (å°†é‚®ç®±æ”¹ä¸ºè‡ªå·±çš„) æ•²å››æ¬¡å›è½¦ï¼›</p><p>b. åœ¨<code>C:\Users\admin\.ssh</code>(adminæ›´æ”¹ä¸ºä½ è‡ªå·±çš„ç”¨æˆ·å)ï¼Œæ‰¾åˆ°â€<code>id_rsa.pub</code>â€æ–‡ä»¶ï¼Œæ‰“å¼€ï¼Œå¤åˆ¶ç§˜é’¥</p><p>c. æ‰“å¼€â€Githubâ€ -&gt; â€œseetingsâ€ -&gt; â€œSSH and Gpg Keysâ€ -&gt; ç‚¹å‡»â€New SSH keyâ€, -&gt; Titleéšä¾¿ï¼Œå°†å¯†åŒ™å¤åˆ¶åˆ°key -&gt; Add SSH key</p><p>d. åœ¨Git Bashä¸­è¾“å…¥<code>ssh -T git@github.com</code> (æ— éœ€æ›´æ”¹) æµ‹è¯•sshæ˜¯å¦ç»‘å®šæˆåŠŸ, è¾“å…¥ yes å›è½¦</p></li><li><h4 id="æœ¬åœ°è®¿é—®åšå®¢"><a href="#æœ¬åœ°è®¿é—®åšå®¢" class="headerlink" title="æœ¬åœ°è®¿é—®åšå®¢"></a>æœ¬åœ°è®¿é—®åšå®¢</h4><p>1ã€åˆ›å»ºä¸€ä¸ªåä¸º Blog çš„æ–‡ä»¶ï¼Œåœ¨é‡Œé¢å¯ç”¨ Git Bash Here</p><p>2ã€è¾“å…¥hexo initåˆå§‹åŒ–hexo</p><p>3ã€è¾“å…¥hexo sç”Ÿæˆæœ¬åœ°çš„hexoé¡µé¢</p><p>4ã€å°†ç½‘å€è¾“å…¥æµè§ˆå™¨å³å¯è®¿é—®åšå®¢ï¼ŒCtrl + cåœç”¨</p></li><li><h4 id="ä¸Šåˆ°Github"><a href="#ä¸Šåˆ°Github" class="headerlink" title="ä¸Šåˆ°Github"></a>ä¸Šåˆ°Github</h4></li></ul><p>ä¿®æ”¹-config.ymlæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶æœ€åæ·»åŠ ï¼š(æ³¨æ„å†’å·åéœ€æ·»åŠ ä¸€ä¸ªåŠè§’çš„ç©ºæ ¼)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: ä½ çš„githubåœ°å€</span><br><span class="line">  branch: main</span><br></pre></td></tr></table></figure><p>å¯ç”¨ Git Bash Hereï¼Œè¾“å…¥<code>npm install hexo-deployer-git --save</code>å®‰è£…hexo-deployer-git è‡ªåŠ¨éƒ¨ç½²å‘å¸ƒå·¥å…·</p><p>è¾“å…¥<code>hexo g</code>ç”Ÿæˆé¡µé¢</p><p>è¾“å…¥<code>hexo d</code>æœ¬åœ°æ–‡ä»¶éƒ¨ç½²åˆ°Githubä¸Šé¢</p><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥<a href="https://wild-civil.github.io/%E8%AE%BF%E9%97%AEGitHub%E5%8D%9A%E5%AE%A2">https://wild-civil.github.io/è®¿é—®GitHubåšå®¢</a> (è¯·å°†wild-civilæ”¹ä¸ºè‡ªå·±çš„githubç”¨æˆ·å)</p><p>æ–‡æœ¬æ•™ç¨‹ï¼š<a href="https://dhndzwxj.vercel.app/3276806131.html">https://dhndzwxj.vercel.app/3276806131.html</a></p><p>hexoæ ‡ç­¾æ•™ç¨‹ï¼š<a href="http://haiyong.site/post/cda958f2.html">http://haiyong.site/post/cda958f2.html</a> (å¾ˆæ£’çš„æ•™ç¨‹)</p><p>è‡ªå®šä¹‰ jsã€cssç­‰çš„æ·»åŠ ï¼š<a href="http://www.gocit.cn/posts/5.html">http://www.gocit.cn/posts/5.html</a></p><p><a href="https://www.wxnacy.com/2017/12/12/hexo-cust-js/">https://www.wxnacy.com/2017/12/12/hexo-cust-js/</a></p><h2 id="äºŒã€Quick-Start"><a href="#äºŒã€Quick-Start" class="headerlink" title="äºŒã€Quick Start"></a>äºŒã€Quick Start</h2><h4 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new &quot;My New Post&quot;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯è¾“å…¥<code>hexo n</code></p><p>More info: Writing</p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯è¾“å…¥<code>hexo s</code></p><p>More info: Server</p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯è¾“å…¥<code>hexo g</code></p><p>More info: Generating</p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯è¾“å…¥<code>hexo d</code></p><p>More info: Deployment</p><p>hexoæ›´æ¢èƒŒæ™¯å›¾ç‰‡ èƒŒæ™¯å›¾ç‰‡å‚è€ƒç½‘å€ï¼š</p><p><a href="https://wallhaven.cc/">https://wallhaven.cc/</a> <a href="https://wall.alphacoders.com/">https://wall.alphacoders.com/</a> <a href="https://bz.zzzmh.cn/index">https://bz.zzzmh.cn/index</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> åšå®¢æ­å»º </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
